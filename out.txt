2025-04-17 19:23:23,906 - src.features.feature_registry - DEBUG - Registered feature 'ReturnFeature' in category 'price'
2025-04-17 19:23:23,906 - src.features.feature_registry - DEBUG - Registered feature 'NormalizedPriceFeature' in category 'price'
2025-04-17 19:23:23,906 - src.features.feature_registry - DEBUG - Registered feature 'PricePatternFeature' in category 'price'
2025-04-17 19:23:23,906 - src.features.feature_registry - DEBUG - Registered feature 'VolumeProfileFeature' in category 'price'
2025-04-17 19:23:23,906 - src.features.feature_registry - DEBUG - Registered feature 'PriceDistanceFeature' in category 'price'
2025-04-17 19:23:23,906 - src.features.feature_registry - DEBUG - Registered feature 'VolatilityFeature' in category 'technical'
2025-04-17 19:23:23,906 - src.features.feature_registry - DEBUG - Registered feature 'SupportResistanceFeature' in category 'technical'
2025-04-17 19:23:23,906 - src.features.feature_registry - DEBUG - Registered feature 'SignalAgreementFeature' in category 'technical'
2025-04-17 19:23:23,906 - src.features.feature_registry - DEBUG - Registered feature 'DivergenceFeature' in category 'technical'
2025-04-17 19:23:23,906 - src.features.feature_registry - DEBUG - Registered feature 'OscillatorStateFeature' in category 'technical'
2025-04-17 19:23:23,906 - src.features.feature_registry - DEBUG - Registered feature 'TrendStrengthFeature' in category 'technical'
2025-04-17 19:23:23,906 - src.features.feature_registry - DEBUG - Registered feature 'SMA_Crossover' in category 'general'
2025-04-17 19:23:23,907 - src.features.feature_registry - DEBUG - Registered feature 'TimeOfDayFeature' in category 'time'
2025-04-17 19:23:23,907 - src.features.feature_registry - DEBUG - Registered feature 'DayOfWeekFeature' in category 'time'
2025-04-17 19:23:23,907 - src.features.feature_registry - DEBUG - Registered feature 'MonthFeature' in category 'time'
2025-04-17 19:23:23,907 - src.features.feature_registry - DEBUG - Registered feature 'SeasonalityFeature' in category 'time'
2025-04-17 19:23:23,907 - src.features.feature_registry - DEBUG - Registered feature 'EventFeature' in category 'time'
2025-04-17 19:23:23,914 - src.rules.rule_registry - DEBUG - Registered rule 'FixedSMACrossoverRule' in category 'crossover'
2025-04-17 19:23:23,914 - src.rules.rule_registry - DEBUG - Registered rule 'SMACrossoverRule' in category 'crossover'
2025-04-17 19:23:23,914 - src.rules.rule_registry - DEBUG - Registered rule 'ExponentialMACrossoverRule' in category 'crossover'
2025-04-17 19:23:23,914 - src.rules.rule_registry - DEBUG - Registered rule 'MACDCrossoverRule' in category 'crossover'
2025-04-17 19:23:23,914 - src.rules.rule_registry - DEBUG - Registered rule 'PriceMACrossoverRule' in category 'crossover'
2025-04-17 19:23:23,914 - src.rules.rule_registry - DEBUG - Registered rule 'BollingerBandsCrossoverRule' in category 'crossover'
2025-04-17 19:23:23,914 - src.rules.rule_registry - DEBUG - Registered rule 'StochasticCrossoverRule' in category 'crossover'
2025-04-17 19:23:23,914 - src.rules.rule_registry - DEBUG - Registered rule 'RSIRule' in category 'oscillator'
2025-04-17 19:23:23,914 - src.rules.rule_registry - DEBUG - Registered rule 'StochasticRule' in category 'oscillator'
2025-04-17 19:23:23,914 - src.rules.rule_registry - DEBUG - Registered rule 'CCIRule' in category 'oscillator'
2025-04-17 19:23:23,914 - src.rules.rule_registry - DEBUG - Registered rule 'MACDHistogramRule' in category 'oscillator'
2025-04-17 19:23:23,915 - src.rules.rule_registry - DEBUG - Registered rule 'ADXRule' in category 'trend'
2025-04-17 19:23:23,915 - src.rules.rule_registry - DEBUG - Registered rule 'IchimokuRule' in category 'trend'
2025-04-17 19:23:23,915 - src.rules.rule_registry - DEBUG - Registered rule 'VortexRule' in category 'trend'
2025-04-17 19:23:23,915 - src.rules.rule_registry - DEBUG - Registered rule 'BollingerBandRule' in category 'volatility'
2025-04-17 19:23:23,915 - src.rules.rule_registry - DEBUG - Registered rule 'ATRTrailingStopRule' in category 'volatility'
2025-04-17 19:23:23,915 - src.rules.rule_registry - DEBUG - Registered rule 'VolatilityBreakoutRule' in category 'volatility'
2025-04-17 19:23:23,915 - src.rules.rule_registry - DEBUG - Registered rule 'KeltnerChannelRule' in category 'volatility'
2025-04-17 19:23:23,990 - __main__ - INFO - Created event bus with event counting
2025-04-17 19:23:23,990 - __main__ - INFO - Loading data for ['SPY'] from 2024-03-26 00:00:00 to 2024-03-27 00:00:00
2025-04-17 19:23:24,319 - src.data.data_handler - INFO - Loaded 391 bars from 2024-03-26 00:00:00 to 2024-03-27 00:00:00
2025-04-17 19:23:24,319 - src.data.data_handler - INFO - Training data: 312 bars
2025-04-17 19:23:24,319 - src.data.data_handler - INFO - Testing data: 79 bars
2025-04-17 19:23:24,319 - src.position_management.portfolio - INFO - Portfolio initialized: Portfolio_1c995bc9 with 100000 USD
2025-04-17 19:23:24,319 - __main__ - INFO - Created portfolio with initial capital: $100000
2025-04-17 19:23:24,319 - src.position_management.position_manager - INFO - Position manager initialized with portfolio 1c995bc9-e0fd-40c6-8d50-4bda6edceb50
2025-04-17 19:23:24,319 - __main__ - INFO - Created position manager
2025-04-17 19:23:24,319 - __main__ - INFO - Created market simulator
2025-04-17 19:23:24,319 - __main__ - INFO - Created strategy
2025-04-17 19:23:24,319 - src.engine.execution_engine - INFO - Execution engine initialized
2025-04-17 19:23:24,319 - __main__ - INFO - Created and configured execution engine
2025-04-17 19:23:24,319 - src.engine.execution_engine - INFO - Execution engine initialized
2025-04-17 19:23:24,319 - src.engine.backtester - INFO - Set execution engine portfolio reference from position manager
2025-04-17 19:23:24,319 - src.engine.backtester - INFO - Registered position manager for SIGNAL events
2025-04-17 19:23:24,319 - src.engine.backtester - INFO - Registered execution engine for ORDER events
2025-04-17 19:23:24,319 - src.engine.backtester - INFO - Event handlers registered
2025-04-17 19:23:24,319 - src.engine.backtester - INFO - Backtester initialized with initial capital: 100000
2025-04-17 19:23:24,319 - __main__ - INFO - Registered position manager for SIGNAL events
2025-04-17 19:23:24,319 - __main__ - INFO - Registered handler for POSITION_ACTION events
2025-04-17 19:23:24,319 - __main__ - INFO - Registered execution engine for ORDER events
2025-04-17 19:23:24,319 - __main__ - INFO - Starting backtest
2025-04-17 19:23:24,319 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,319 - src.position_management.portfolio - INFO - Portfolio reset to initial capital: 100000
2025-04-17 19:23:24,319 - src.engine.execution_engine - INFO - Execution engine reset with 100000.00 capital
2025-04-17 19:23:24,319 - src.engine.backtester - INFO - Registered position manager for SIGNAL events
2025-04-17 19:23:24,319 - src.engine.backtester - INFO - Registered execution engine for ORDER events
2025-04-17 19:23:24,319 - src.engine.backtester - INFO - Event handlers registered
2025-04-17 19:23:24,319 - src.engine.backtester - INFO - Starting backtest...
2025-04-17 19:23:24,319 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 13:30:00
2025-04-17 19:23:24,319 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:30:00, Close: 521.01
2025-04-17 19:23:24,319 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 13:30:00
2025-04-17 19:23:24,319 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,319 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:30:00, Close: 521.01
2025-04-17 19:23:24,319 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,319 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 13:31:00
2025-04-17 19:23:24,320 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:31:00, Close: 521.07
2025-04-17 19:23:24,320 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 13:31:00
2025-04-17 19:23:24,320 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,320 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:31:00, Close: 521.07
2025-04-17 19:23:24,320 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,320 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 13:32:00
2025-04-17 19:23:24,320 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:32:00, Close: 521.22
2025-04-17 19:23:24,320 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 13:32:00
2025-04-17 19:23:24,320 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,320 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:32:00, Close: 521.22
2025-04-17 19:23:24,320 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,320 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 13:33:00
2025-04-17 19:23:24,320 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:33:00, Close: 521.2896
2025-04-17 19:23:24,320 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 13:33:00
2025-04-17 19:23:24,320 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,320 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:33:00, Close: 521.2896
2025-04-17 19:23:24,320 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,320 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 13:34:00
2025-04-17 19:23:24,320 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:34:00, Close: 521.36
2025-04-17 19:23:24,320 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 13:34:00
2025-04-17 19:23:24,320 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,320 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:34:00, Close: 521.36
2025-04-17 19:23:24,320 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,320 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 13:35:00
2025-04-17 19:23:24,320 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:35:00, Close: 521.1297
2025-04-17 19:23:24,320 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 13:35:00
2025-04-17 19:23:24,320 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,320 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:35:00, Close: 521.1297
2025-04-17 19:23:24,320 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,320 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 13:36:00
2025-04-17 19:23:24,320 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:36:00, Close: 521.12
2025-04-17 19:23:24,320 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 13:36:00
2025-04-17 19:23:24,320 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,320 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:36:00, Close: 521.12
2025-04-17 19:23:24,320 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,320 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 13:37:00
2025-04-17 19:23:24,320 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:37:00, Close: 521.25
2025-04-17 19:23:24,320 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1499, Slow SMA = 521.1766
2025-04-17 19:23:24,320 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 13:37:00
2025-04-17 19:23:24,320 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,320 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:37:00, Close: 521.25
2025-04-17 19:23:24,320 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1739, Slow SMA = 521.1926
2025-04-17 19:23:24,320 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.026693, Curr diff: -0.018633
2025-04-17 19:23:24,320 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,320 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 13:38:00
2025-04-17 19:23:24,320 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:38:00, Close: 521.02
2025-04-17 19:23:24,320 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1520, Slow SMA = 521.1932
2025-04-17 19:23:24,320 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.018633, Curr diff: -0.041240
2025-04-17 19:23:24,320 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 13:38:00
2025-04-17 19:23:24,320 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,321 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:38:00, Close: 521.02
2025-04-17 19:23:24,321 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1320, Slow SMA = 521.1899
2025-04-17 19:23:24,321 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.041240, Curr diff: -0.057907
2025-04-17 19:23:24,321 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,321 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 13:39:00
2025-04-17 19:23:24,321 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:39:00, Close: 521.09
2025-04-17 19:23:24,321 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1260, Slow SMA = 521.1912
2025-04-17 19:23:24,321 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.057907, Curr diff: -0.065240
2025-04-17 19:23:24,321 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 13:39:00
2025-04-17 19:23:24,321 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,321 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:39:00, Close: 521.09
2025-04-17 19:23:24,321 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0940, Slow SMA = 521.1826
2025-04-17 19:23:24,321 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.065240, Curr diff: -0.088573
2025-04-17 19:23:24,321 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,321 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 13:40:00
2025-04-17 19:23:24,321 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:40:00, Close: 521.02
2025-04-17 19:23:24,321 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0480, Slow SMA = 521.1692
2025-04-17 19:23:24,321 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.088573, Curr diff: -0.121240
2025-04-17 19:23:24,321 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 13:40:00
2025-04-17 19:23:24,321 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,321 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:40:00, Close: 521.02
2025-04-17 19:23:24,321 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0480, Slow SMA = 521.1513
2025-04-17 19:23:24,321 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.121240, Curr diff: -0.103267
2025-04-17 19:23:24,321 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,321 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 13:41:00
2025-04-17 19:23:24,321 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:41:00, Close: 520.8522
2025-04-17 19:23:24,321 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0144, Slow SMA = 521.1221
2025-04-17 19:23:24,321 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.103267, Curr diff: -0.107667
2025-04-17 19:23:24,321 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 13:41:00
2025-04-17 19:23:24,321 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,321 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:41:00, Close: 520.8522
2025-04-17 19:23:24,321 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9669, Slow SMA = 521.0883
2025-04-17 19:23:24,321 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.107667, Curr diff: -0.121373
2025-04-17 19:23:24,321 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,321 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 13:42:00
2025-04-17 19:23:24,321 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:42:00, Close: 520.895
2025-04-17 19:23:24,321 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9279, Slow SMA = 521.0573
2025-04-17 19:23:24,321 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.121373, Curr diff: -0.129373
2025-04-17 19:23:24,321 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 13:42:00
2025-04-17 19:23:24,321 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,321 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:42:00, Close: 520.895
2025-04-17 19:23:24,321 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9029, Slow SMA = 521.0416
2025-04-17 19:23:24,321 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.129373, Curr diff: -0.138727
2025-04-17 19:23:24,321 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,321 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 13:43:00
2025-04-17 19:23:24,321 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:43:00, Close: 521.085
2025-04-17 19:23:24,321 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9159, Slow SMA = 521.0386
2025-04-17 19:23:24,321 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.138727, Curr diff: -0.122747
2025-04-17 19:23:24,321 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 13:43:00
2025-04-17 19:23:24,321 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,321 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:43:00, Close: 521.085
2025-04-17 19:23:24,321 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9624, Slow SMA = 521.0363
2025-04-17 19:23:24,321 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.122747, Curr diff: -0.073853
2025-04-17 19:23:24,321 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,321 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 13:44:00
2025-04-17 19:23:24,321 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:44:00, Close: 521.155
2025-04-17 19:23:24,321 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0230, Slow SMA = 521.0386
2025-04-17 19:23:24,321 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.073853, Curr diff: -0.015627
2025-04-17 19:23:24,321 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 13:44:00
2025-04-17 19:23:24,321 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,321 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:44:00, Close: 521.155
2025-04-17 19:23:24,321 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0750, Slow SMA = 521.0323
2025-04-17 19:23:24,322 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.015627, Curr diff: 0.042707
2025-04-17 19:23:24,322 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bullish crossover for SPY @ 2024-03-26 13:44:00
2025-04-17 19:23:24,322 - src.position_management.position_manager - INFO - Position manager received BUY signal for SPY at price 521.155
2025-04-17 19:23:24,322 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: 1
2025-04-17 19:23:24,322 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,322 - src.position_management.position_manager - INFO - Created LONG position entry action for SPY size 10
2025-04-17 19:23:24,322 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,322 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,322 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,322 - src.engine.execution_engine - INFO - Created order from position action: SPY BUY 10 @ 521.155
2025-04-17 19:23:24,322 - src.engine.execution_engine - INFO - Order received: OrderEvent(BUY 10 SPY @ 521.155, MARKET, ID: fa7e9a45-9a7a-4ee7-a96a-ebe123876327)
2025-04-17 19:23:24,322 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(BUY 10 SPY @ 521.155, MARKET, ID: fa7e9a45-9a7a-4ee7-a96a-ebe123876327)
2025-04-17 19:23:24,322 - src.engine.execution_engine - WARNING - No price available for SPY, order will be executed on next bar
2025-04-17 19:23:24,322 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(BUY 10 SPY @ 521.155, MARKET, ID: fa7e9a45-9a7a-4ee7-a96a-ebe123876327)
2025-04-17 19:23:24,322 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,322 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,322 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,322 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,322 - __main__ - DEBUG - Signal details: BUY for SPY @ 521.155
2025-04-17 19:23:24,322 - src.rules.rule_base - INFO - Generated BUY signal for SPY @ 521.155
2025-04-17 19:23:24,322 - src.engine.backtester - DEBUG - Emitting signal from strategy: SignalEvent(BUY, SPY, price=521.155)
2025-04-17 19:23:24,322 - src.engine.backtester - DEBUG - Emitted signal event: BUY for SPY
2025-04-17 19:23:24,322 - src.position_management.position_manager - INFO - Position manager received BUY signal for SPY at price 521.155
2025-04-17 19:23:24,322 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: 1
2025-04-17 19:23:24,322 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,322 - src.position_management.position_manager - INFO - Created LONG position entry action for SPY size 10
2025-04-17 19:23:24,322 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,322 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,322 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,322 - src.engine.execution_engine - INFO - Created order from position action: SPY BUY 10 @ 521.155
2025-04-17 19:23:24,322 - src.engine.execution_engine - INFO - Order received: OrderEvent(BUY 10 SPY @ 521.155, MARKET, ID: cde883bf-1b7c-45ff-a985-c340074412dc)
2025-04-17 19:23:24,322 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(BUY 10 SPY @ 521.155, MARKET, ID: cde883bf-1b7c-45ff-a985-c340074412dc)
2025-04-17 19:23:24,322 - src.engine.execution_engine - WARNING - No price available for SPY, order will be executed on next bar
2025-04-17 19:23:24,322 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(BUY 10 SPY @ 521.155, MARKET, ID: cde883bf-1b7c-45ff-a985-c340074412dc)
2025-04-17 19:23:24,322 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,322 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,322 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,322 - src.engine.backtester - DEBUG - Event flow: SIGNAL event received
2025-04-17 19:23:24,322 - src.engine.backtester - DEBUG - Signal: BUY for SPY at 521.155
2025-04-17 19:23:24,322 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,322 - src.engine.execution_engine - INFO - Processing 2 pending orders for bar: SPY, close=521.155
2025-04-17 19:23:24,322 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 100000.00, Equity: 100000.00
2025-04-17 19:23:24,322 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(BUY 10 SPY @ 521.155, MARKET, ID: fa7e9a45-9a7a-4ee7-a96a-ebe123876327)
2025-04-17 19:23:24,322 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,322 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,322 - src.engine.execution_engine - INFO - Executing BUY order: 10 shares at 521.155
2025-04-17 19:23:24,322 - src.position_management.position - INFO - Position opened: 7de776f4-8530-4ac1-bdb2-929a7d38ef8d SPY LONG 10 @ 521.155
2025-04-17 19:23:24,322 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,322 - src.engine.execution_engine - INFO - Commission charged: 5.21, remaining cash: 89571.69
2025-04-17 19:23:24,322 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,322 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,322 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(BUY 10 SPY @ 521.155, cost=5.21)
2025-04-17 19:23:24,322 - src.engine.execution_engine - INFO - Order executed successfully, Fill price: 521.15
2025-04-17 19:23:24,322 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(BUY 10 SPY @ 521.155, MARKET, ID: cde883bf-1b7c-45ff-a985-c340074412dc)
2025-04-17 19:23:24,322 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,322 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,322 - src.engine.execution_engine - INFO - Executing BUY order: 10 shares at 521.155
2025-04-17 19:23:24,322 - src.position_management.position - INFO - Position increased: 7de776f4-8530-4ac1-bdb2-929a7d38ef8d SPY LONG +10 @ 521.155 New size: 20, Avg price: 521.1550
2025-04-17 19:23:24,322 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,322 - src.engine.execution_engine - INFO - Commission charged: 5.21, remaining cash: 84354.93
2025-04-17 19:23:24,322 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,322 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,322 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(BUY 10 SPY @ 521.155, cost=5.21)
2025-04-17 19:23:24,322 - src.engine.execution_engine - INFO - Order executed successfully, Fill price: 521.15
2025-04-17 19:23:24,322 - src.engine.execution_engine - INFO - Executed 2 of 2 orders
2025-04-17 19:23:24,322 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 84354.93, Equity: 94783.24
2025-04-17 19:23:24,322 - src.engine.execution_engine - INFO - Remaining pending orders: 0
2025-04-17 19:23:24,322 - src.engine.backtester - DEBUG - Executed 2 fills
2025-04-17 19:23:24,322 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 13:45:00
2025-04-17 19:23:24,322 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:45:00, Close: 521.066
2025-04-17 19:23:24,322 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1092, Slow SMA = 521.0200
2025-04-17 19:23:24,322 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.042707, Curr diff: 0.089173
2025-04-17 19:23:24,322 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 13:45:00
2025-04-17 19:23:24,322 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,322 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:45:00, Close: 521.066
2025-04-17 19:23:24,322 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1054, Slow SMA = 521.0231
2025-04-17 19:23:24,322 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.089173, Curr diff: 0.082307
2025-04-17 19:23:24,322 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,323 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 13:46:00
2025-04-17 19:23:24,323 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:46:00, Close: 521.11
2025-04-17 19:23:24,323 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1104, Slow SMA = 521.0291
2025-04-17 19:23:24,323 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.082307, Curr diff: 0.081307
2025-04-17 19:23:24,323 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 13:46:00
2025-04-17 19:23:24,323 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,323 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:46:00, Close: 521.11
2025-04-17 19:23:24,323 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1014, Slow SMA = 521.0304
2025-04-17 19:23:24,323 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.081307, Curr diff: 0.070973
2025-04-17 19:23:24,323 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,323 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 13:47:00
2025-04-17 19:23:24,323 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:47:00, Close: 521.09
2025-04-17 19:23:24,323 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0884, Slow SMA = 521.0304
2025-04-17 19:23:24,323 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.070973, Curr diff: 0.057973
2025-04-17 19:23:24,323 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 13:47:00
2025-04-17 19:23:24,323 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,323 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:47:00, Close: 521.09
2025-04-17 19:23:24,323 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0932, Slow SMA = 521.0351
2025-04-17 19:23:24,323 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.057973, Curr diff: 0.058107
2025-04-17 19:23:24,323 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,323 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 13:48:00
2025-04-17 19:23:24,323 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:48:00, Close: 521.17
2025-04-17 19:23:24,323 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1140, Slow SMA = 521.0451
2025-04-17 19:23:24,323 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.058107, Curr diff: 0.068907
2025-04-17 19:23:24,323 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 13:48:00
2025-04-17 19:23:24,323 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,323 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:48:00, Close: 521.17
2025-04-17 19:23:24,323 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1260, Slow SMA = 521.0663
2025-04-17 19:23:24,323 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.068907, Curr diff: 0.059720
2025-04-17 19:23:24,323 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,323 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 13:49:00
2025-04-17 19:23:24,323 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:49:00, Close: 521.19
2025-04-17 19:23:24,323 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1420, Slow SMA = 521.0888
2025-04-17 19:23:24,323 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.059720, Curr diff: 0.053200
2025-04-17 19:23:24,323 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 13:49:00
2025-04-17 19:23:24,323 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,323 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:49:00, Close: 521.19
2025-04-17 19:23:24,323 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1620, Slow SMA = 521.1085
2025-04-17 19:23:24,323 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.053200, Curr diff: 0.053533
2025-04-17 19:23:24,323 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,323 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 13:50:00
2025-04-17 19:23:24,323 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:50:00, Close: 521.215
2025-04-17 19:23:24,323 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1870, Slow SMA = 521.1298
2025-04-17 19:23:24,323 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.053533, Curr diff: 0.057200
2025-04-17 19:23:24,323 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 13:50:00
2025-04-17 19:23:24,323 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,323 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:50:00, Close: 521.215
2025-04-17 19:23:24,323 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1960, Slow SMA = 521.1385
2025-04-17 19:23:24,323 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.057200, Curr diff: 0.057533
2025-04-17 19:23:24,323 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,323 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 13:51:00
2025-04-17 19:23:24,323 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:51:00, Close: 521.08
2025-04-17 19:23:24,323 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1780, Slow SMA = 521.1381
2025-04-17 19:23:24,323 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.057533, Curr diff: 0.039867
2025-04-17 19:23:24,323 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 13:51:00
2025-04-17 19:23:24,323 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,323 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:51:00, Close: 521.08
2025-04-17 19:23:24,323 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1560, Slow SMA = 521.1331
2025-04-17 19:23:24,323 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.039867, Curr diff: 0.022867
2025-04-17 19:23:24,323 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,323 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 13:52:00
2025-04-17 19:23:24,324 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:52:00, Close: 521.12
2025-04-17 19:23:24,324 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1420, Slow SMA = 521.1308
2025-04-17 19:23:24,324 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.022867, Curr diff: 0.011200
2025-04-17 19:23:24,324 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 13:52:00
2025-04-17 19:23:24,324 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,324 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:52:00, Close: 521.12
2025-04-17 19:23:24,324 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1230, Slow SMA = 521.1344
2025-04-17 19:23:24,324 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.011200, Curr diff: -0.011400
2025-04-17 19:23:24,324 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bearish crossover for SPY @ 2024-03-26 13:52:00
2025-04-17 19:23:24,324 - src.position_management.position_manager - INFO - Position manager received SELL signal for SPY at price 521.12
2025-04-17 19:23:24,324 - src.position_management.position_manager - INFO - Current net position for SPY: 20, direction: -1
2025-04-17 19:23:24,324 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,324 - src.position_management.position_manager - INFO - Created SHORT position entry action for SPY size 10
2025-04-17 19:23:24,324 - src.position_management.position_manager - INFO - Created 2 position actions: ['exit', 'entry']
2025-04-17 19:23:24,324 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,324 - __main__ - INFO - Handling position action: exit
2025-04-17 19:23:24,324 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,324 - __main__ - DEBUG - Position action details: exit for SPY
2025-04-17 19:23:24,324 - src.position_management.position_manager - INFO - Emitted position action: exit for SPY
2025-04-17 19:23:24,324 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,324 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,324 - src.engine.execution_engine - INFO - Created order from position action: SPY SELL 10 @ 521.12
2025-04-17 19:23:24,324 - src.engine.execution_engine - INFO - Order received: OrderEvent(SELL 10 SPY @ 521.12, MARKET, ID: 45c03696-d774-4f81-b8b8-0e8d8ab97e81)
2025-04-17 19:23:24,324 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(SELL 10 SPY @ 521.12, MARKET, ID: 45c03696-d774-4f81-b8b8-0e8d8ab97e81)
2025-04-17 19:23:24,324 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.155
2025-04-17 19:23:24,324 - src.position_management.position - INFO - Position partially closed: 7de776f4-8530-4ac1-bdb2-929a7d38ef8d SPY LONG 10 @ 521.155 Partial P&L: 0.00, Remaining: 10
2025-04-17 19:23:24,324 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,324 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,324 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,324 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(SELL 10 SPY @ 521.155, cost=0.00)
2025-04-17 19:23:24,324 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(SELL 10 SPY @ 521.12, MARKET, ID: 45c03696-d774-4f81-b8b8-0e8d8ab97e81)
2025-04-17 19:23:24,324 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,324 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,324 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,324 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,324 - __main__ - DEBUG - Signal details: SELL for SPY @ 521.12
2025-04-17 19:23:24,324 - src.rules.rule_base - INFO - Generated SELL signal for SPY @ 521.12
2025-04-17 19:23:24,324 - src.engine.backtester - DEBUG - Emitting signal from strategy: SignalEvent(SELL, SPY, price=521.12)
2025-04-17 19:23:24,324 - src.engine.backtester - DEBUG - Emitted signal event: SELL for SPY
2025-04-17 19:23:24,324 - src.position_management.position_manager - INFO - Position manager received SELL signal for SPY at price 521.12
2025-04-17 19:23:24,324 - src.position_management.position_manager - INFO - Current net position for SPY: 10, direction: -1
2025-04-17 19:23:24,324 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,324 - src.position_management.position_manager - INFO - Created SHORT position entry action for SPY size 10
2025-04-17 19:23:24,324 - src.position_management.position_manager - INFO - Created 2 position actions: ['exit', 'entry']
2025-04-17 19:23:24,324 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,324 - __main__ - INFO - Handling position action: exit
2025-04-17 19:23:24,324 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,324 - __main__ - DEBUG - Position action details: exit for SPY
2025-04-17 19:23:24,324 - src.position_management.position_manager - INFO - Emitted position action: exit for SPY
2025-04-17 19:23:24,324 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,324 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,324 - src.engine.execution_engine - INFO - Created order from position action: SPY SELL 10 @ 521.12
2025-04-17 19:23:24,324 - src.engine.execution_engine - INFO - Order received: OrderEvent(SELL 10 SPY @ 521.12, MARKET, ID: 3cb6acb4-7126-4a3f-b9b6-a30f896a1840)
2025-04-17 19:23:24,324 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(SELL 10 SPY @ 521.12, MARKET, ID: 3cb6acb4-7126-4a3f-b9b6-a30f896a1840)
2025-04-17 19:23:24,324 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.155
2025-04-17 19:23:24,324 - src.position_management.position - INFO - Position closed: 7de776f4-8530-4ac1-bdb2-929a7d38ef8d SPY LONG 10 @ 521.155 P&L: 0.00
2025-04-17 19:23:24,324 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,324 - src.position_management.portfolio - INFO - Position closed: 7de776f4-8530-4ac1-bdb2-929a7d38ef8d SPY PnL: 0.00
2025-04-17 19:23:24,324 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,324 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,324 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,324 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(SELL 10 SPY @ 521.155, cost=0.00)
2025-04-17 19:23:24,324 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(SELL 10 SPY @ 521.12, MARKET, ID: 3cb6acb4-7126-4a3f-b9b6-a30f896a1840)
2025-04-17 19:23:24,324 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,324 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,324 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,324 - src.engine.backtester - DEBUG - Event flow: SIGNAL event received
2025-04-17 19:23:24,324 - src.engine.backtester - DEBUG - Signal: SELL for SPY at 521.12
2025-04-17 19:23:24,324 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,324 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 13:53:00
2025-04-17 19:23:24,324 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:53:00, Close: 521.0069
2025-04-17 19:23:24,324 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0814, Slow SMA = 521.1305
2025-04-17 19:23:24,324 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.011400, Curr diff: -0.049080
2025-04-17 19:23:24,324 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 13:53:00
2025-04-17 19:23:24,324 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,324 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:53:00, Close: 521.0069
2025-04-17 19:23:24,324 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0668, Slow SMA = 521.1236
2025-04-17 19:23:24,324 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.049080, Curr diff: -0.056827
2025-04-17 19:23:24,324 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,324 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 13:54:00
2025-04-17 19:23:24,324 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:54:00, Close: 520.955
2025-04-17 19:23:24,324 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0418, Slow SMA = 521.1133
2025-04-17 19:23:24,325 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.056827, Curr diff: -0.071493
2025-04-17 19:23:24,325 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 13:54:00
2025-04-17 19:23:24,325 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,325 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:54:00, Close: 520.955
2025-04-17 19:23:24,325 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0088, Slow SMA = 521.1043
2025-04-17 19:23:24,325 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.071493, Curr diff: -0.095493
2025-04-17 19:23:24,325 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,325 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 13:55:00
2025-04-17 19:23:24,325 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:55:00, Close: 521.04
2025-04-17 19:23:24,325 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9928, Slow SMA = 521.1009
2025-04-17 19:23:24,325 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.095493, Curr diff: -0.108160
2025-04-17 19:23:24,325 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 13:55:00
2025-04-17 19:23:24,325 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,325 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:55:00, Close: 521.04
2025-04-17 19:23:24,325 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9994, Slow SMA = 521.0923
2025-04-17 19:23:24,325 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.108160, Curr diff: -0.092873
2025-04-17 19:23:24,325 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,325 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 13:56:00
2025-04-17 19:23:24,325 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:56:00, Close: 521.145
2025-04-17 19:23:24,325 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0270, Slow SMA = 521.0906
2025-04-17 19:23:24,325 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.092873, Curr diff: -0.063587
2025-04-17 19:23:24,325 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 13:56:00
2025-04-17 19:23:24,325 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,325 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:56:00, Close: 521.145
2025-04-17 19:23:24,325 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0650, Slow SMA = 521.0876
2025-04-17 19:23:24,325 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.063587, Curr diff: -0.022587
2025-04-17 19:23:24,325 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,325 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 13:57:00
2025-04-17 19:23:24,325 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:57:00, Close: 521.125
2025-04-17 19:23:24,325 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0990, Slow SMA = 521.0833
2025-04-17 19:23:24,325 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.022587, Curr diff: 0.015747
2025-04-17 19:23:24,325 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bullish crossover for SPY @ 2024-03-26 13:57:00
2025-04-17 19:23:24,325 - src.position_management.position_manager - INFO - Position manager received BUY signal for SPY at price 521.125
2025-04-17 19:23:24,325 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: 1
2025-04-17 19:23:24,325 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,325 - src.position_management.position_manager - INFO - Created LONG position entry action for SPY size 10
2025-04-17 19:23:24,325 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,325 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,325 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,325 - src.engine.execution_engine - INFO - Created order from position action: SPY BUY 10 @ 521.125
2025-04-17 19:23:24,325 - src.engine.execution_engine - INFO - Order received: OrderEvent(BUY 10 SPY @ 521.125, MARKET, ID: 2216602e-cae9-4711-8321-3cdf629226a6)
2025-04-17 19:23:24,325 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(BUY 10 SPY @ 521.125, MARKET, ID: 2216602e-cae9-4711-8321-3cdf629226a6)
2025-04-17 19:23:24,325 - src.engine.execution_engine - INFO - Executing BUY order: 10 shares at 521.155
2025-04-17 19:23:24,325 - src.position_management.position - INFO - Position opened: b8ebd04b-67ce-4c4b-8bec-cff9b9504263 SPY LONG 10 @ 521.155
2025-04-17 19:23:24,325 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,325 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,325 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,325 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(BUY 10 SPY @ 521.155, cost=0.00)
2025-04-17 19:23:24,325 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(BUY 10 SPY @ 521.125, MARKET, ID: 2216602e-cae9-4711-8321-3cdf629226a6)
2025-04-17 19:23:24,325 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,325 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,325 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,325 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,325 - __main__ - DEBUG - Signal details: BUY for SPY @ 521.125
2025-04-17 19:23:24,325 - src.rules.rule_base - INFO - Generated BUY signal for SPY @ 521.125
2025-04-17 19:23:24,325 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 13:57:00
2025-04-17 19:23:24,325 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,325 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:57:00, Close: 521.125
2025-04-17 19:23:24,325 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1160, Slow SMA = 521.0773
2025-04-17 19:23:24,325 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.015747, Curr diff: 0.038747
2025-04-17 19:23:24,325 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,325 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 13:58:00
2025-04-17 19:23:24,325 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:58:00, Close: 521.14
2025-04-17 19:23:24,325 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1360, Slow SMA = 521.0723
2025-04-17 19:23:24,325 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.038747, Curr diff: 0.063747
2025-04-17 19:23:24,325 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 13:58:00
2025-04-17 19:23:24,325 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,325 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:58:00, Close: 521.14
2025-04-17 19:23:24,325 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1350, Slow SMA = 521.0763
2025-04-17 19:23:24,325 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.063747, Curr diff: 0.058747
2025-04-17 19:23:24,325 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,326 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 13:59:00
2025-04-17 19:23:24,326 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:59:00, Close: 521.25
2025-04-17 19:23:24,326 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1560, Slow SMA = 521.0876
2025-04-17 19:23:24,326 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.058747, Curr diff: 0.068413
2025-04-17 19:23:24,326 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 13:59:00
2025-04-17 19:23:24,326 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,326 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 13:59:00, Close: 521.25
2025-04-17 19:23:24,326 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1810, Slow SMA = 521.0963
2025-04-17 19:23:24,326 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.068413, Curr diff: 0.084747
2025-04-17 19:23:24,326 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,326 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:00:00
2025-04-17 19:23:24,326 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:00:00, Close: 521.35
2025-04-17 19:23:24,326 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2260, Slow SMA = 521.1116
2025-04-17 19:23:24,326 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.084747, Curr diff: 0.114413
2025-04-17 19:23:24,326 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:00:00
2025-04-17 19:23:24,326 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,326 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:00:00, Close: 521.35
2025-04-17 19:23:24,326 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2680, Slow SMA = 521.1345
2025-04-17 19:23:24,326 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.114413, Curr diff: 0.133540
2025-04-17 19:23:24,326 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,326 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:01:00
2025-04-17 19:23:24,326 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:01:00, Close: 521.2801
2025-04-17 19:23:24,326 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2960, Slow SMA = 521.1527
2025-04-17 19:23:24,326 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.133540, Curr diff: 0.143347
2025-04-17 19:23:24,326 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:01:00
2025-04-17 19:23:24,326 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,326 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:01:00, Close: 521.2801
2025-04-17 19:23:24,326 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3020, Slow SMA = 521.1743
2025-04-17 19:23:24,326 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.143347, Curr diff: 0.127693
2025-04-17 19:23:24,326 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,326 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:02:00
2025-04-17 19:23:24,326 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:02:00, Close: 521.29
2025-04-17 19:23:24,326 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3100, Slow SMA = 521.1967
2025-04-17 19:23:24,326 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.127693, Curr diff: 0.113360
2025-04-17 19:23:24,326 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:02:00
2025-04-17 19:23:24,326 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,326 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:02:00, Close: 521.29
2025-04-17 19:23:24,326 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2980, Slow SMA = 521.2133
2025-04-17 19:23:24,326 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.113360, Curr diff: 0.084693
2025-04-17 19:23:24,326 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,326 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:03:00
2025-04-17 19:23:24,326 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:03:00, Close: 521.25
2025-04-17 19:23:24,326 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2780, Slow SMA = 521.2273
2025-04-17 19:23:24,326 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.084693, Curr diff: 0.050693
2025-04-17 19:23:24,326 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:03:00
2025-04-17 19:23:24,326 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,326 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:03:00, Close: 521.25
2025-04-17 19:23:24,326 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2720, Slow SMA = 521.2343
2025-04-17 19:23:24,326 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.050693, Curr diff: 0.037673
2025-04-17 19:23:24,326 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,326 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:04:00
2025-04-17 19:23:24,326 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:04:00, Close: 521.33
2025-04-17 19:23:24,326 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2820, Slow SMA = 521.2467
2025-04-17 19:23:24,326 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.037673, Curr diff: 0.035320
2025-04-17 19:23:24,326 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:04:00
2025-04-17 19:23:24,326 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,326 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:04:00, Close: 521.33
2025-04-17 19:23:24,326 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2900, Slow SMA = 521.2603
2025-04-17 19:23:24,326 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.035320, Curr diff: 0.029653
2025-04-17 19:23:24,326 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,326 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:05:00
2025-04-17 19:23:24,326 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:05:00, Close: 521.31
2025-04-17 19:23:24,327 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2940, Slow SMA = 521.2727
2025-04-17 19:23:24,327 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.029653, Curr diff: 0.021320
2025-04-17 19:23:24,327 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:05:00
2025-04-17 19:23:24,327 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,327 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:05:00, Close: 521.31
2025-04-17 19:23:24,327 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3060, Slow SMA = 521.2840
2025-04-17 19:23:24,327 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.021320, Curr diff: 0.021987
2025-04-17 19:23:24,327 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,327 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:06:00
2025-04-17 19:23:24,327 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:06:00, Close: 521.3
2025-04-17 19:23:24,327 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3160, Slow SMA = 521.2947
2025-04-17 19:23:24,327 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.021987, Curr diff: 0.021320
2025-04-17 19:23:24,327 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:06:00
2025-04-17 19:23:24,327 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,327 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:06:00, Close: 521.3
2025-04-17 19:23:24,327 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3100, Slow SMA = 521.2980
2025-04-17 19:23:24,327 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.021320, Curr diff: 0.011987
2025-04-17 19:23:24,327 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,327 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:07:00
2025-04-17 19:23:24,327 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:07:00, Close: 521.43
2025-04-17 19:23:24,327 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3300, Slow SMA = 521.3100
2025-04-17 19:23:24,327 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.011987, Curr diff: 0.019987
2025-04-17 19:23:24,327 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:07:00
2025-04-17 19:23:24,327 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,327 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:07:00, Close: 521.43
2025-04-17 19:23:24,327 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3540, Slow SMA = 521.3153
2025-04-17 19:23:24,327 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.019987, Curr diff: 0.038653
2025-04-17 19:23:24,327 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,327 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:08:00
2025-04-17 19:23:24,327 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:08:00, Close: 521.38
2025-04-17 19:23:24,327 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3680, Slow SMA = 521.3173
2025-04-17 19:23:24,327 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.038653, Curr diff: 0.050653
2025-04-17 19:23:24,327 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:08:00
2025-04-17 19:23:24,327 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,327 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:08:00, Close: 521.38
2025-04-17 19:23:24,327 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3840, Slow SMA = 521.3240
2025-04-17 19:23:24,327 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.050653, Curr diff: 0.059993
2025-04-17 19:23:24,327 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,327 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:09:00
2025-04-17 19:23:24,327 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:09:00, Close: 521.3
2025-04-17 19:23:24,327 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3840, Slow SMA = 521.3253
2025-04-17 19:23:24,327 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.059993, Curr diff: 0.058667
2025-04-17 19:23:24,327 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:09:00
2025-04-17 19:23:24,327 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,327 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:09:00, Close: 521.3
2025-04-17 19:23:24,327 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3580, Slow SMA = 521.3260
2025-04-17 19:23:24,327 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.058667, Curr diff: 0.032000
2025-04-17 19:23:24,327 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,327 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:10:00
2025-04-17 19:23:24,327 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:10:00, Close: 521.14
2025-04-17 19:23:24,327 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3000, Slow SMA = 521.3160
2025-04-17 19:23:24,327 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.032000, Curr diff: -0.016000
2025-04-17 19:23:24,327 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bearish crossover for SPY @ 2024-03-26 14:10:00
2025-04-17 19:23:24,327 - src.position_management.position_manager - INFO - Position manager received SELL signal for SPY at price 521.14
2025-04-17 19:23:24,327 - src.position_management.position_manager - INFO - Current net position for SPY: 10, direction: -1
2025-04-17 19:23:24,327 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,327 - src.position_management.position_manager - INFO - Created SHORT position entry action for SPY size 10
2025-04-17 19:23:24,327 - src.position_management.position_manager - INFO - Created 2 position actions: ['exit', 'entry']
2025-04-17 19:23:24,327 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,327 - __main__ - INFO - Handling position action: exit
2025-04-17 19:23:24,327 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,327 - __main__ - DEBUG - Position action details: exit for SPY
2025-04-17 19:23:24,327 - src.position_management.position_manager - INFO - Emitted position action: exit for SPY
2025-04-17 19:23:24,327 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,327 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,327 - src.engine.execution_engine - INFO - Created order from position action: SPY SELL 10 @ 521.14
2025-04-17 19:23:24,327 - src.engine.execution_engine - INFO - Order received: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: 5e06b1c8-53db-41d5-8aeb-5c6b506d88bc)
2025-04-17 19:23:24,327 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: 5e06b1c8-53db-41d5-8aeb-5c6b506d88bc)
2025-04-17 19:23:24,327 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.155
2025-04-17 19:23:24,328 - src.position_management.position - INFO - Position closed: b8ebd04b-67ce-4c4b-8bec-cff9b9504263 SPY LONG 10 @ 521.155 P&L: 0.00
2025-04-17 19:23:24,328 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,328 - src.position_management.portfolio - INFO - Position closed: b8ebd04b-67ce-4c4b-8bec-cff9b9504263 SPY PnL: 0.00
2025-04-17 19:23:24,328 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,328 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,328 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,328 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(SELL 10 SPY @ 521.155, cost=0.00)
2025-04-17 19:23:24,328 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: 5e06b1c8-53db-41d5-8aeb-5c6b506d88bc)
2025-04-17 19:23:24,328 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,328 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,328 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,328 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,328 - __main__ - DEBUG - Signal details: SELL for SPY @ 521.14
2025-04-17 19:23:24,328 - src.rules.rule_base - INFO - Generated SELL signal for SPY @ 521.14
2025-04-17 19:23:24,328 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:10:00
2025-04-17 19:23:24,328 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,328 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:10:00, Close: 521.14
2025-04-17 19:23:24,328 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2520, Slow SMA = 521.3087
2025-04-17 19:23:24,328 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.016000, Curr diff: -0.056667
2025-04-17 19:23:24,328 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,328 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:11:00
2025-04-17 19:23:24,328 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:11:00, Close: 521.175
2025-04-17 19:23:24,328 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2110, Slow SMA = 521.3037
2025-04-17 19:23:24,328 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.056667, Curr diff: -0.092667
2025-04-17 19:23:24,328 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:11:00
2025-04-17 19:23:24,328 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,328 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:11:00, Close: 521.175
2025-04-17 19:23:24,328 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1860, Slow SMA = 521.2933
2025-04-17 19:23:24,328 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.092667, Curr diff: -0.107333
2025-04-17 19:23:24,328 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,328 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:12:00
2025-04-17 19:23:24,328 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:12:00, Close: 521.29
2025-04-17 19:23:24,328 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1840, Slow SMA = 521.2907
2025-04-17 19:23:24,328 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.107333, Curr diff: -0.106667
2025-04-17 19:23:24,328 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:12:00
2025-04-17 19:23:24,328 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,328 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:12:00, Close: 521.29
2025-04-17 19:23:24,328 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2140, Slow SMA = 521.2893
2025-04-17 19:23:24,328 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.106667, Curr diff: -0.075333
2025-04-17 19:23:24,328 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,328 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:13:00
2025-04-17 19:23:24,328 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:13:00, Close: 521.3001
2025-04-17 19:23:24,328 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2460, Slow SMA = 521.2887
2025-04-17 19:23:24,328 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.075333, Curr diff: -0.042653
2025-04-17 19:23:24,328 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:13:00
2025-04-17 19:23:24,328 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,328 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:13:00, Close: 521.3001
2025-04-17 19:23:24,328 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2710, Slow SMA = 521.2887
2025-04-17 19:23:24,328 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.042653, Curr diff: -0.017640
2025-04-17 19:23:24,328 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,328 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:14:00
2025-04-17 19:23:24,328 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:14:00, Close: 521.33
2025-04-17 19:23:24,328 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3020, Slow SMA = 521.2907
2025-04-17 19:23:24,328 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.017640, Curr diff: 0.011360
2025-04-17 19:23:24,328 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bullish crossover for SPY @ 2024-03-26 14:14:00
2025-04-17 19:23:24,328 - src.position_management.position_manager - INFO - Position manager received BUY signal for SPY at price 521.33
2025-04-17 19:23:24,328 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: 1
2025-04-17 19:23:24,328 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,328 - src.position_management.position_manager - INFO - Created LONG position entry action for SPY size 10
2025-04-17 19:23:24,328 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,328 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,328 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,328 - src.engine.execution_engine - INFO - Created order from position action: SPY BUY 10 @ 521.33
2025-04-17 19:23:24,328 - src.engine.execution_engine - INFO - Order received: OrderEvent(BUY 10 SPY @ 521.33, MARKET, ID: 253aae92-aa65-48ba-9582-61e02cc4685c)
2025-04-17 19:23:24,328 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(BUY 10 SPY @ 521.33, MARKET, ID: 253aae92-aa65-48ba-9582-61e02cc4685c)
2025-04-17 19:23:24,328 - src.engine.execution_engine - INFO - Executing BUY order: 10 shares at 521.155
2025-04-17 19:23:24,328 - src.position_management.position - INFO - Position opened: f34f74c3-3e1c-4536-8657-40a961b8d44b SPY LONG 10 @ 521.155
2025-04-17 19:23:24,328 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,328 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,328 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,328 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(BUY 10 SPY @ 521.155, cost=0.00)
2025-04-17 19:23:24,328 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(BUY 10 SPY @ 521.33, MARKET, ID: 253aae92-aa65-48ba-9582-61e02cc4685c)
2025-04-17 19:23:24,328 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,328 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,328 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,329 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,329 - __main__ - DEBUG - Signal details: BUY for SPY @ 521.33
2025-04-17 19:23:24,329 - src.rules.rule_base - INFO - Generated BUY signal for SPY @ 521.33
2025-04-17 19:23:24,329 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:14:00
2025-04-17 19:23:24,329 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,329 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:14:00, Close: 521.33
2025-04-17 19:23:24,329 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3100, Slow SMA = 521.2840
2025-04-17 19:23:24,329 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.011360, Curr diff: 0.026027
2025-04-17 19:23:24,329 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,329 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:15:00
2025-04-17 19:23:24,329 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:15:00, Close: 521.275
2025-04-17 19:23:24,329 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3070, Slow SMA = 521.2737
2025-04-17 19:23:24,329 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.026027, Curr diff: 0.033360
2025-04-17 19:23:24,329 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:15:00
2025-04-17 19:23:24,329 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,329 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:15:00, Close: 521.275
2025-04-17 19:23:24,329 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3020, Slow SMA = 521.2667
2025-04-17 19:23:24,329 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.033360, Curr diff: 0.035340
2025-04-17 19:23:24,329 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,329 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:16:00
2025-04-17 19:23:24,329 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:16:00, Close: 521.32
2025-04-17 19:23:24,329 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3060, Slow SMA = 521.2627
2025-04-17 19:23:24,329 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.035340, Curr diff: 0.043320
2025-04-17 19:23:24,329 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:16:00
2025-04-17 19:23:24,329 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,329 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:16:00, Close: 521.32
2025-04-17 19:23:24,329 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3040, Slow SMA = 521.2640
2025-04-17 19:23:24,329 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.043320, Curr diff: 0.039987
2025-04-17 19:23:24,329 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,329 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:17:00
2025-04-17 19:23:24,329 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:17:00, Close: 521.38
2025-04-17 19:23:24,329 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3140, Slow SMA = 521.2693
2025-04-17 19:23:24,329 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.039987, Curr diff: 0.044653
2025-04-17 19:23:24,329 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:17:00
2025-04-17 19:23:24,329 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,329 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:17:00, Close: 521.38
2025-04-17 19:23:24,329 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3350, Slow SMA = 521.2853
2025-04-17 19:23:24,329 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.044653, Curr diff: 0.049653
2025-04-17 19:23:24,329 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,329 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:18:00
2025-04-17 19:23:24,329 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:18:00, Close: 521.48
2025-04-17 19:23:24,329 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3760, Slow SMA = 521.3080
2025-04-17 19:23:24,329 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.049653, Curr diff: 0.067987
2025-04-17 19:23:24,329 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:18:00
2025-04-17 19:23:24,329 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,329 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:18:00, Close: 521.48
2025-04-17 19:23:24,329 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.4080, Slow SMA = 521.3283
2025-04-17 19:23:24,329 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.067987, Curr diff: 0.079653
2025-04-17 19:23:24,329 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,329 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:19:00
2025-04-17 19:23:24,329 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:19:00, Close: 521.425
2025-04-17 19:23:24,329 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.4290, Slow SMA = 521.3450
2025-04-17 19:23:24,329 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.079653, Curr diff: 0.083987
2025-04-17 19:23:24,329 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:19:00
2025-04-17 19:23:24,330 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,330 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:19:00, Close: 521.425
2025-04-17 19:23:24,330 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.4380, Slow SMA = 521.3540
2025-04-17 19:23:24,330 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.083987, Curr diff: 0.083987
2025-04-17 19:23:24,330 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,330 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:20:00
2025-04-17 19:23:24,330 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:20:00, Close: 521.415
2025-04-17 19:23:24,330 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.4450, Slow SMA = 521.3623
2025-04-17 19:23:24,330 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.083987, Curr diff: 0.082653
2025-04-17 19:23:24,330 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:20:00
2025-04-17 19:23:24,330 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,330 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:20:00, Close: 521.415
2025-04-17 19:23:24,330 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.4320, Slow SMA = 521.3700
2025-04-17 19:23:24,330 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.082653, Curr diff: 0.061993
2025-04-17 19:23:24,330 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,330 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:21:00
2025-04-17 19:23:24,330 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:21:00, Close: 521.36
2025-04-17 19:23:24,330 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.4080, Slow SMA = 521.3740
2025-04-17 19:23:24,330 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.061993, Curr diff: 0.034000
2025-04-17 19:23:24,330 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:21:00
2025-04-17 19:23:24,330 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,330 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:21:00, Close: 521.36
2025-04-17 19:23:24,330 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3950, Slow SMA = 521.3760
2025-04-17 19:23:24,330 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.034000, Curr diff: 0.019000
2025-04-17 19:23:24,330 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,330 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:22:00
2025-04-17 19:23:24,330 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:22:00, Close: 521.35
2025-04-17 19:23:24,330 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3800, Slow SMA = 521.3773
2025-04-17 19:23:24,330 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.019000, Curr diff: 0.002667
2025-04-17 19:23:24,330 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:22:00
2025-04-17 19:23:24,330 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,330 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:22:00, Close: 521.35
2025-04-17 19:23:24,330 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3670, Slow SMA = 521.3823
2025-04-17 19:23:24,330 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.002667, Curr diff: -0.015333
2025-04-17 19:23:24,330 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bearish crossover for SPY @ 2024-03-26 14:22:00
2025-04-17 19:23:24,330 - src.position_management.position_manager - INFO - Position manager received SELL signal for SPY at price 521.35
2025-04-17 19:23:24,330 - src.position_management.position_manager - INFO - Current net position for SPY: 10, direction: -1
2025-04-17 19:23:24,330 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,330 - src.position_management.position_manager - INFO - Created SHORT position entry action for SPY size 10
2025-04-17 19:23:24,330 - src.position_management.position_manager - INFO - Created 2 position actions: ['exit', 'entry']
2025-04-17 19:23:24,330 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,330 - __main__ - INFO - Handling position action: exit
2025-04-17 19:23:24,330 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,330 - __main__ - DEBUG - Position action details: exit for SPY
2025-04-17 19:23:24,330 - src.position_management.position_manager - INFO - Emitted position action: exit for SPY
2025-04-17 19:23:24,330 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,330 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,330 - src.engine.execution_engine - INFO - Created order from position action: SPY SELL 10 @ 521.35
2025-04-17 19:23:24,330 - src.engine.execution_engine - INFO - Order received: OrderEvent(SELL 10 SPY @ 521.35, MARKET, ID: 08400cce-1ec7-4992-8498-2935ec548374)
2025-04-17 19:23:24,330 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(SELL 10 SPY @ 521.35, MARKET, ID: 08400cce-1ec7-4992-8498-2935ec548374)
2025-04-17 19:23:24,330 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.155
2025-04-17 19:23:24,330 - src.position_management.position - INFO - Position closed: f34f74c3-3e1c-4536-8657-40a961b8d44b SPY LONG 10 @ 521.155 P&L: 0.00
2025-04-17 19:23:24,330 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,330 - src.position_management.portfolio - INFO - Position closed: f34f74c3-3e1c-4536-8657-40a961b8d44b SPY PnL: 0.00
2025-04-17 19:23:24,330 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,330 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,330 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,330 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(SELL 10 SPY @ 521.155, cost=0.00)
2025-04-17 19:23:24,330 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(SELL 10 SPY @ 521.35, MARKET, ID: 08400cce-1ec7-4992-8498-2935ec548374)
2025-04-17 19:23:24,330 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,330 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,330 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,330 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,330 - __main__ - DEBUG - Signal details: SELL for SPY @ 521.35
2025-04-17 19:23:24,330 - src.rules.rule_base - INFO - Generated SELL signal for SPY @ 521.35
2025-04-17 19:23:24,330 - src.engine.backtester - DEBUG - Emitting signal from strategy: SignalEvent(SELL, SPY, price=521.35)
2025-04-17 19:23:24,330 - src.engine.backtester - DEBUG - Emitted signal event: SELL for SPY
2025-04-17 19:23:24,330 - src.position_management.position_manager - INFO - Position manager received SELL signal for SPY at price 521.35
2025-04-17 19:23:24,330 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: -1
2025-04-17 19:23:24,330 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,330 - src.position_management.position_manager - INFO - Created SHORT position entry action for SPY size 10
2025-04-17 19:23:24,330 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,330 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,330 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,330 - src.engine.execution_engine - INFO - Created order from position action: SPY SELL 10 @ 521.35
2025-04-17 19:23:24,330 - src.engine.execution_engine - INFO - Order received: OrderEvent(SELL 10 SPY @ 521.35, MARKET, ID: 78942020-bb92-44de-9850-aa66e7b5f0e5)
2025-04-17 19:23:24,330 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(SELL 10 SPY @ 521.35, MARKET, ID: 78942020-bb92-44de-9850-aa66e7b5f0e5)
2025-04-17 19:23:24,330 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.155
2025-04-17 19:23:24,330 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,331 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,331 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(SELL 10 SPY @ 521.35, MARKET, ID: 78942020-bb92-44de-9850-aa66e7b5f0e5)
2025-04-17 19:23:24,331 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,331 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,331 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,331 - src.engine.backtester - DEBUG - Event flow: SIGNAL event received
2025-04-17 19:23:24,331 - src.engine.backtester - DEBUG - Signal: SELL for SPY at 521.35
2025-04-17 19:23:24,331 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,331 - src.engine.execution_engine - INFO - Processing 1 pending orders for bar: SPY, close=521.35
2025-04-17 19:23:24,331 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99989.58, Equity: 99989.58
2025-04-17 19:23:24,331 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.35, MARKET, ID: 78942020-bb92-44de-9850-aa66e7b5f0e5)
2025-04-17 19:23:24,331 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,331 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,331 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.35
2025-04-17 19:23:24,331 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,331 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,331 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,331 - src.engine.execution_engine - INFO - Executed 0 of 1 orders
2025-04-17 19:23:24,331 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99989.58, Equity: 99989.58
2025-04-17 19:23:24,331 - src.engine.execution_engine - INFO - Remaining pending orders: 1
2025-04-17 19:23:24,331 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:23:00
2025-04-17 19:23:24,331 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:23:00, Close: 521.375
2025-04-17 19:23:24,331 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3590, Slow SMA = 521.3890
2025-04-17 19:23:24,331 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.015333, Curr diff: -0.030000
2025-04-17 19:23:24,331 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:23:00
2025-04-17 19:23:24,331 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,331 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:23:00, Close: 521.375
2025-04-17 19:23:24,331 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3620, Slow SMA = 521.3927
2025-04-17 19:23:24,331 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.030000, Curr diff: -0.030667
2025-04-17 19:23:24,331 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,331 - src.engine.execution_engine - INFO - Processing 1 pending orders for bar: SPY, close=521.375
2025-04-17 19:23:24,331 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99989.58, Equity: 99989.58
2025-04-17 19:23:24,331 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.35, MARKET, ID: 78942020-bb92-44de-9850-aa66e7b5f0e5)
2025-04-17 19:23:24,331 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,331 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,331 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.375
2025-04-17 19:23:24,331 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,331 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,331 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,331 - src.engine.execution_engine - INFO - Executed 0 of 1 orders
2025-04-17 19:23:24,331 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99989.58, Equity: 99989.58
2025-04-17 19:23:24,331 - src.engine.execution_engine - INFO - Remaining pending orders: 1
2025-04-17 19:23:24,331 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:24:00
2025-04-17 19:23:24,331 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:24:00, Close: 521.43
2025-04-17 19:23:24,331 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3760, Slow SMA = 521.4000
2025-04-17 19:23:24,331 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.030667, Curr diff: -0.024000
2025-04-17 19:23:24,331 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:24:00
2025-04-17 19:23:24,331 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,331 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:24:00, Close: 521.43
2025-04-17 19:23:24,331 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3920, Slow SMA = 521.4033
2025-04-17 19:23:24,331 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.024000, Curr diff: -0.011333
2025-04-17 19:23:24,331 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,331 - src.engine.execution_engine - INFO - Processing 1 pending orders for bar: SPY, close=521.43
2025-04-17 19:23:24,331 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99989.58, Equity: 99989.58
2025-04-17 19:23:24,331 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.35, MARKET, ID: 78942020-bb92-44de-9850-aa66e7b5f0e5)
2025-04-17 19:23:24,331 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,331 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,331 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.43
2025-04-17 19:23:24,331 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,331 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,331 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,331 - src.engine.execution_engine - INFO - Executed 0 of 1 orders
2025-04-17 19:23:24,331 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99989.58, Equity: 99989.58
2025-04-17 19:23:24,331 - src.engine.execution_engine - INFO - Remaining pending orders: 1
2025-04-17 19:23:24,331 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:25:00
2025-04-17 19:23:24,331 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:25:00, Close: 521.3
2025-04-17 19:23:24,331 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3820, Slow SMA = 521.3980
2025-04-17 19:23:24,331 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.011333, Curr diff: -0.016000
2025-04-17 19:23:24,331 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:25:00
2025-04-17 19:23:24,331 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,331 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:25:00, Close: 521.3
2025-04-17 19:23:24,331 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3670, Slow SMA = 521.3860
2025-04-17 19:23:24,331 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.016000, Curr diff: -0.019000
2025-04-17 19:23:24,331 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,331 - src.engine.execution_engine - INFO - Processing 1 pending orders for bar: SPY, close=521.3
2025-04-17 19:23:24,331 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99989.58, Equity: 99989.58
2025-04-17 19:23:24,331 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.35, MARKET, ID: 78942020-bb92-44de-9850-aa66e7b5f0e5)
2025-04-17 19:23:24,331 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,331 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,331 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.3
2025-04-17 19:23:24,331 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,331 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,331 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,331 - src.engine.execution_engine - INFO - Executed 0 of 1 orders
2025-04-17 19:23:24,331 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99989.58, Equity: 99989.58
2025-04-17 19:23:24,331 - src.engine.execution_engine - INFO - Remaining pending orders: 1
2025-04-17 19:23:24,332 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:26:00
2025-04-17 19:23:24,332 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:26:00, Close: 521.34
2025-04-17 19:23:24,332 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3600, Slow SMA = 521.3767
2025-04-17 19:23:24,332 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.019000, Curr diff: -0.016667
2025-04-17 19:23:24,332 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:26:00
2025-04-17 19:23:24,332 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,332 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:26:00, Close: 521.34
2025-04-17 19:23:24,332 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3420, Slow SMA = 521.3710
2025-04-17 19:23:24,332 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.016667, Curr diff: -0.029000
2025-04-17 19:23:24,332 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,332 - src.engine.execution_engine - INFO - Processing 1 pending orders for bar: SPY, close=521.34
2025-04-17 19:23:24,332 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99989.58, Equity: 99989.58
2025-04-17 19:23:24,332 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.35, MARKET, ID: 78942020-bb92-44de-9850-aa66e7b5f0e5)
2025-04-17 19:23:24,332 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,332 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,332 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.34
2025-04-17 19:23:24,332 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,332 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,332 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,332 - src.engine.execution_engine - INFO - Executed 0 of 1 orders
2025-04-17 19:23:24,332 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99989.58, Equity: 99989.58
2025-04-17 19:23:24,332 - src.engine.execution_engine - INFO - Remaining pending orders: 1
2025-04-17 19:23:24,332 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:27:00
2025-04-17 19:23:24,332 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:27:00, Close: 521.2
2025-04-17 19:23:24,332 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2960, Slow SMA = 521.3560
2025-04-17 19:23:24,332 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.029000, Curr diff: -0.060000
2025-04-17 19:23:24,332 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:27:00
2025-04-17 19:23:24,332 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,332 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:27:00, Close: 521.2
2025-04-17 19:23:24,332 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2760, Slow SMA = 521.3417
2025-04-17 19:23:24,332 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.060000, Curr diff: -0.065667
2025-04-17 19:23:24,332 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,332 - src.engine.execution_engine - INFO - Processing 1 pending orders for bar: SPY, close=521.2
2025-04-17 19:23:24,332 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99989.58, Equity: 99989.58
2025-04-17 19:23:24,332 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.35, MARKET, ID: 78942020-bb92-44de-9850-aa66e7b5f0e5)
2025-04-17 19:23:24,332 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,332 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,332 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.2
2025-04-17 19:23:24,332 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,332 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,332 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,332 - src.engine.execution_engine - INFO - Executed 0 of 1 orders
2025-04-17 19:23:24,332 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99989.58, Equity: 99989.58
2025-04-17 19:23:24,332 - src.engine.execution_engine - INFO - Remaining pending orders: 1
2025-04-17 19:23:24,332 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:28:00
2025-04-17 19:23:24,332 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:28:00, Close: 521.19
2025-04-17 19:23:24,332 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2540, Slow SMA = 521.3267
2025-04-17 19:23:24,332 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.065667, Curr diff: -0.072667
2025-04-17 19:23:24,332 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:28:00
2025-04-17 19:23:24,332 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,332 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:28:00, Close: 521.19
2025-04-17 19:23:24,332 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2240, Slow SMA = 521.3153
2025-04-17 19:23:24,332 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.072667, Curr diff: -0.091333
2025-04-17 19:23:24,332 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,332 - src.engine.execution_engine - INFO - Processing 1 pending orders for bar: SPY, close=521.19
2025-04-17 19:23:24,332 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99989.58, Equity: 99989.58
2025-04-17 19:23:24,332 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.35, MARKET, ID: 78942020-bb92-44de-9850-aa66e7b5f0e5)
2025-04-17 19:23:24,332 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,332 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,332 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.19
2025-04-17 19:23:24,332 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,332 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,332 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,332 - src.engine.execution_engine - INFO - Executed 0 of 1 orders
2025-04-17 19:23:24,332 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99989.58, Equity: 99989.58
2025-04-17 19:23:24,332 - src.engine.execution_engine - INFO - Remaining pending orders: 1
2025-04-17 19:23:24,332 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:29:00
2025-04-17 19:23:24,332 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:29:00, Close: 521.07
2025-04-17 19:23:24,332 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1700, Slow SMA = 521.2960
2025-04-17 19:23:24,332 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.091333, Curr diff: -0.126000
2025-04-17 19:23:24,332 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:29:00
2025-04-17 19:23:24,332 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,332 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:29:00, Close: 521.07
2025-04-17 19:23:24,332 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1440, Slow SMA = 521.2773
2025-04-17 19:23:24,332 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.126000, Curr diff: -0.133333
2025-04-17 19:23:24,332 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,332 - src.engine.execution_engine - INFO - Processing 1 pending orders for bar: SPY, close=521.07
2025-04-17 19:23:24,332 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99989.58, Equity: 99989.58
2025-04-17 19:23:24,332 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.35, MARKET, ID: 78942020-bb92-44de-9850-aa66e7b5f0e5)
2025-04-17 19:23:24,332 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,332 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,332 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.07
2025-04-17 19:23:24,332 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,332 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,332 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,332 - src.engine.execution_engine - INFO - Executed 0 of 1 orders
2025-04-17 19:23:24,332 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99989.58, Equity: 99989.58
2025-04-17 19:23:24,333 - src.engine.execution_engine - INFO - Remaining pending orders: 1
2025-04-17 19:23:24,333 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:30:00
2025-04-17 19:23:24,333 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:30:00, Close: 520.99
2025-04-17 19:23:24,333 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1020, Slow SMA = 521.2533
2025-04-17 19:23:24,333 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.133333, Curr diff: -0.151333
2025-04-17 19:23:24,333 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:30:00
2025-04-17 19:23:24,333 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,333 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:30:00, Close: 520.99
2025-04-17 19:23:24,333 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0620, Slow SMA = 521.2277
2025-04-17 19:23:24,333 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.151333, Curr diff: -0.165667
2025-04-17 19:23:24,333 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,333 - src.engine.execution_engine - INFO - Processing 1 pending orders for bar: SPY, close=520.99
2025-04-17 19:23:24,333 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99989.58, Equity: 99989.58
2025-04-17 19:23:24,333 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.35, MARKET, ID: 78942020-bb92-44de-9850-aa66e7b5f0e5)
2025-04-17 19:23:24,333 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,333 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,333 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.99
2025-04-17 19:23:24,333 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,333 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,333 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,333 - src.engine.execution_engine - INFO - Executed 0 of 1 orders
2025-04-17 19:23:24,333 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99989.58, Equity: 99989.58
2025-04-17 19:23:24,333 - src.engine.execution_engine - INFO - Remaining pending orders: 1
2025-04-17 19:23:24,333 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:31:00
2025-04-17 19:23:24,333 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:31:00, Close: 520.7824
2025-04-17 19:23:24,333 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9805, Slow SMA = 521.1882
2025-04-17 19:23:24,333 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.165667, Curr diff: -0.207680
2025-04-17 19:23:24,333 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:31:00
2025-04-17 19:23:24,333 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,333 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:31:00, Close: 520.7824
2025-04-17 19:23:24,333 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9230, Slow SMA = 521.1450
2025-04-17 19:23:24,333 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.207680, Curr diff: -0.222027
2025-04-17 19:23:24,333 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,333 - src.engine.execution_engine - INFO - Processing 1 pending orders for bar: SPY, close=520.7824
2025-04-17 19:23:24,333 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99989.58, Equity: 99989.58
2025-04-17 19:23:24,333 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.35, MARKET, ID: 78942020-bb92-44de-9850-aa66e7b5f0e5)
2025-04-17 19:23:24,333 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,333 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,333 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.7824
2025-04-17 19:23:24,333 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,333 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,333 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,333 - src.engine.execution_engine - INFO - Executed 0 of 1 orders
2025-04-17 19:23:24,333 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99989.58, Equity: 99989.58
2025-04-17 19:23:24,333 - src.engine.execution_engine - INFO - Remaining pending orders: 1
2025-04-17 19:23:24,333 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:32:00
2025-04-17 19:23:24,333 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:32:00, Close: 520.9
2025-04-17 19:23:24,333 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8890, Slow SMA = 521.1097
2025-04-17 19:23:24,333 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.222027, Curr diff: -0.220693
2025-04-17 19:23:24,333 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:32:00
2025-04-17 19:23:24,333 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,333 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:32:00, Close: 520.9
2025-04-17 19:23:24,333 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8710, Slow SMA = 521.0830
2025-04-17 19:23:24,333 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.220693, Curr diff: -0.212027
2025-04-17 19:23:24,333 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,333 - src.engine.execution_engine - INFO - Processing 1 pending orders for bar: SPY, close=520.9
2025-04-17 19:23:24,333 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99989.58, Equity: 99989.58
2025-04-17 19:23:24,333 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.35, MARKET, ID: 78942020-bb92-44de-9850-aa66e7b5f0e5)
2025-04-17 19:23:24,333 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,333 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,333 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9
2025-04-17 19:23:24,333 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,333 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,333 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,333 - src.engine.execution_engine - INFO - Executed 0 of 1 orders
2025-04-17 19:23:24,333 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99989.58, Equity: 99989.58
2025-04-17 19:23:24,333 - src.engine.execution_engine - INFO - Remaining pending orders: 1
2025-04-17 19:23:24,333 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:33:00
2025-04-17 19:23:24,333 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:33:00, Close: 520.885
2025-04-17 19:23:24,333 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8500, Slow SMA = 521.0553
2025-04-17 19:23:24,333 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.212027, Curr diff: -0.205360
2025-04-17 19:23:24,333 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:33:00
2025-04-17 19:23:24,333 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,333 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:33:00, Close: 520.885
2025-04-17 19:23:24,333 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8705, Slow SMA = 521.0250
2025-04-17 19:23:24,333 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.205360, Curr diff: -0.154507
2025-04-17 19:23:24,333 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,333 - src.engine.execution_engine - INFO - Processing 1 pending orders for bar: SPY, close=520.885
2025-04-17 19:23:24,333 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99989.58, Equity: 99989.58
2025-04-17 19:23:24,333 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.35, MARKET, ID: 78942020-bb92-44de-9850-aa66e7b5f0e5)
2025-04-17 19:23:24,333 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,333 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,333 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.885
2025-04-17 19:23:24,333 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,334 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,334 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,334 - src.engine.execution_engine - INFO - Executed 0 of 1 orders
2025-04-17 19:23:24,334 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99989.58, Equity: 99989.58
2025-04-17 19:23:24,334 - src.engine.execution_engine - INFO - Remaining pending orders: 1
2025-04-17 19:23:24,334 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:34:00
2025-04-17 19:23:24,334 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:34:00, Close: 520.99
2025-04-17 19:23:24,334 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9120, Slow SMA = 521.0017
2025-04-17 19:23:24,334 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.154507, Curr diff: -0.089653
2025-04-17 19:23:24,334 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:34:00
2025-04-17 19:23:24,334 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,334 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:34:00, Close: 520.99
2025-04-17 19:23:24,334 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9300, Slow SMA = 520.9877
2025-04-17 19:23:24,334 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.089653, Curr diff: -0.057653
2025-04-17 19:23:24,334 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,334 - src.engine.execution_engine - INFO - Processing 1 pending orders for bar: SPY, close=520.99
2025-04-17 19:23:24,334 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99989.58, Equity: 99989.58
2025-04-17 19:23:24,334 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.35, MARKET, ID: 78942020-bb92-44de-9850-aa66e7b5f0e5)
2025-04-17 19:23:24,334 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,334 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,334 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.99
2025-04-17 19:23:24,334 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,334 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,334 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,334 - src.engine.execution_engine - INFO - Executed 0 of 1 orders
2025-04-17 19:23:24,334 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99989.58, Equity: 99989.58
2025-04-17 19:23:24,334 - src.engine.execution_engine - INFO - Remaining pending orders: 1
2025-04-17 19:23:24,334 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:35:00
2025-04-17 19:23:24,334 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:35:00, Close: 520.98
2025-04-17 19:23:24,334 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9460, Slow SMA = 520.9730
2025-04-17 19:23:24,334 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.057653, Curr diff: -0.026987
2025-04-17 19:23:24,334 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:35:00
2025-04-17 19:23:24,334 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,334 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:35:00, Close: 520.98
2025-04-17 19:23:24,334 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9650, Slow SMA = 520.9590
2025-04-17 19:23:24,334 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.026987, Curr diff: 0.006013
2025-04-17 19:23:24,334 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bullish crossover for SPY @ 2024-03-26 14:35:00
2025-04-17 19:23:24,334 - src.position_management.position_manager - INFO - Position manager received BUY signal for SPY at price 520.98
2025-04-17 19:23:24,334 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: 1
2025-04-17 19:23:24,334 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,334 - src.position_management.position_manager - INFO - Created LONG position entry action for SPY size 10
2025-04-17 19:23:24,334 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,334 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,334 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,334 - src.engine.execution_engine - INFO - Created order from position action: SPY BUY 10 @ 520.98
2025-04-17 19:23:24,334 - src.engine.execution_engine - INFO - Order received: OrderEvent(BUY 10 SPY @ 520.98, MARKET, ID: 7c491b67-d687-4061-9481-b9f02b2d1021)
2025-04-17 19:23:24,334 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(BUY 10 SPY @ 520.98, MARKET, ID: 7c491b67-d687-4061-9481-b9f02b2d1021)
2025-04-17 19:23:24,334 - src.engine.execution_engine - INFO - Executing BUY order: 10 shares at 520.99
2025-04-17 19:23:24,334 - src.position_management.position - INFO - Position opened: a34ea7f3-f4ef-440e-a02d-7524942fed8f SPY LONG 10 @ 520.99
2025-04-17 19:23:24,334 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,334 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,334 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,334 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(BUY 10 SPY @ 520.99, cost=0.00)
2025-04-17 19:23:24,334 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(BUY 10 SPY @ 520.98, MARKET, ID: 7c491b67-d687-4061-9481-b9f02b2d1021)
2025-04-17 19:23:24,334 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,334 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,334 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,334 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,334 - __main__ - DEBUG - Signal details: BUY for SPY @ 520.98
2025-04-17 19:23:24,334 - src.rules.rule_base - INFO - Generated BUY signal for SPY @ 520.98
2025-04-17 19:23:24,334 - src.engine.backtester - DEBUG - Emitting signal from strategy: SignalEvent(BUY, SPY, price=520.98)
2025-04-17 19:23:24,334 - src.engine.backtester - DEBUG - Emitted signal event: BUY for SPY
2025-04-17 19:23:24,334 - src.position_management.position_manager - INFO - Position manager received BUY signal for SPY at price 520.98
2025-04-17 19:23:24,334 - src.position_management.position_manager - INFO - Current net position for SPY: 10, direction: 1
2025-04-17 19:23:24,334 - src.position_management.position_manager - INFO - Already have position in LONG direction - skipping
2025-04-17 19:23:24,334 - src.position_management.position_manager - INFO - No position actions created from signal
2025-04-17 19:23:24,334 - src.engine.backtester - DEBUG - Event flow: SIGNAL event received
2025-04-17 19:23:24,334 - src.engine.backtester - DEBUG - Signal: BUY for SPY at 520.98
2025-04-17 19:23:24,334 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,334 - src.engine.execution_engine - INFO - Processing 1 pending orders for bar: SPY, close=520.98
2025-04-17 19:23:24,334 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 89569.78, Equity: 94779.58
2025-04-17 19:23:24,334 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.35, MARKET, ID: 78942020-bb92-44de-9850-aa66e7b5f0e5)
2025-04-17 19:23:24,334 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,334 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,334 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.98
2025-04-17 19:23:24,334 - src.position_management.position - INFO - Position closed: a34ea7f3-f4ef-440e-a02d-7524942fed8f SPY LONG 10 @ 520.98 P&L: -0.10
2025-04-17 19:23:24,334 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,334 - src.position_management.portfolio - INFO - Position closed: a34ea7f3-f4ef-440e-a02d-7524942fed8f SPY PnL: -0.10
2025-04-17 19:23:24,334 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,334 - src.engine.execution_engine - INFO - Commission charged: 5.21, remaining cash: 99984.17
2025-04-17 19:23:24,334 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,334 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,334 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(SELL 10 SPY @ 520.98, cost=5.21)
2025-04-17 19:23:24,334 - src.engine.execution_engine - INFO - Order executed successfully, Fill price: 520.98
2025-04-17 19:23:24,334 - src.engine.execution_engine - INFO - Executed 1 of 1 orders
2025-04-17 19:23:24,334 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99984.17, Equity: 99989.38
2025-04-17 19:23:24,334 - src.engine.execution_engine - INFO - Remaining pending orders: 0
2025-04-17 19:23:24,334 - src.engine.backtester - DEBUG - Executed 1 fills
2025-04-17 19:23:24,335 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:36:00
2025-04-17 19:23:24,335 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:36:00, Close: 520.8799
2025-04-17 19:23:24,335 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9640, Slow SMA = 520.9383
2025-04-17 19:23:24,335 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.006013, Curr diff: 0.025667
2025-04-17 19:23:24,335 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:36:00
2025-04-17 19:23:24,335 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,335 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:36:00, Close: 520.8799
2025-04-17 19:23:24,335 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9420, Slow SMA = 520.9256
2025-04-17 19:23:24,335 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.025667, Curr diff: 0.016320
2025-04-17 19:23:24,335 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,335 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:37:00
2025-04-17 19:23:24,335 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:37:00, Close: 521.03
2025-04-17 19:23:24,335 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9500, Slow SMA = 520.9230
2025-04-17 19:23:24,335 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.016320, Curr diff: 0.026987
2025-04-17 19:23:24,335 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:37:00
2025-04-17 19:23:24,335 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,335 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:37:00, Close: 521.03
2025-04-17 19:23:24,335 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9600, Slow SMA = 520.9256
2025-04-17 19:23:24,335 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.026987, Curr diff: 0.034320
2025-04-17 19:23:24,335 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,335 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:38:00
2025-04-17 19:23:24,335 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:38:00, Close: 521.075
2025-04-17 19:23:24,335 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9790, Slow SMA = 520.9313
2025-04-17 19:23:24,335 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.034320, Curr diff: 0.047653
2025-04-17 19:23:24,335 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:38:00
2025-04-17 19:23:24,335 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,335 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:38:00, Close: 521.075
2025-04-17 19:23:24,335 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0180, Slow SMA = 520.9508
2025-04-17 19:23:24,335 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.047653, Curr diff: 0.067167
2025-04-17 19:23:24,335 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,335 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:39:00
2025-04-17 19:23:24,335 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:39:00, Close: 521.105
2025-04-17 19:23:24,335 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0630, Slow SMA = 520.9723
2025-04-17 19:23:24,335 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.067167, Curr diff: 0.090680
2025-04-17 19:23:24,335 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:39:00
2025-04-17 19:23:24,335 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,335 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:39:00, Close: 521.105
2025-04-17 19:23:24,335 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0780, Slow SMA = 520.9860
2025-04-17 19:23:24,335 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.090680, Curr diff: 0.092013
2025-04-17 19:23:24,335 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,335 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:40:00
2025-04-17 19:23:24,335 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:40:00, Close: 520.985
2025-04-17 19:23:24,335 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0690, Slow SMA = 520.9917
2025-04-17 19:23:24,335 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.092013, Curr diff: 0.077347
2025-04-17 19:23:24,335 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:40:00
2025-04-17 19:23:24,335 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,335 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:40:00, Close: 520.985
2025-04-17 19:23:24,335 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0510, Slow SMA = 520.9983
2025-04-17 19:23:24,335 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.077347, Curr diff: 0.052680
2025-04-17 19:23:24,335 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,335 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:41:00
2025-04-17 19:23:24,335 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:41:00, Close: 521.06
2025-04-17 19:23:24,335 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0480, Slow SMA = 521.0100
2025-04-17 19:23:24,335 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.052680, Curr diff: 0.038013
2025-04-17 19:23:24,335 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:41:00
2025-04-17 19:23:24,335 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,335 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:41:00, Close: 521.06
2025-04-17 19:23:24,335 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0390, Slow SMA = 521.0147
2025-04-17 19:23:24,335 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.038013, Curr diff: 0.024347
2025-04-17 19:23:24,335 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,335 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:42:00
2025-04-17 19:23:24,336 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:42:00, Close: 521.06
2025-04-17 19:23:24,336 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0300, Slow SMA = 521.0193
2025-04-17 19:23:24,336 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.024347, Curr diff: 0.010680
2025-04-17 19:23:24,336 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:42:00
2025-04-17 19:23:24,336 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,336 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:42:00, Close: 521.06
2025-04-17 19:23:24,336 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0450, Slow SMA = 521.0247
2025-04-17 19:23:24,336 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.010680, Curr diff: 0.020347
2025-04-17 19:23:24,336 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,336 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:43:00
2025-04-17 19:23:24,336 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:43:00, Close: 521.175
2025-04-17 19:23:24,336 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0830, Slow SMA = 521.0377
2025-04-17 19:23:24,336 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.020347, Curr diff: 0.045347
2025-04-17 19:23:24,336 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:43:00
2025-04-17 19:23:24,336 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,336 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:43:00, Close: 521.175
2025-04-17 19:23:24,336 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1060, Slow SMA = 521.0573
2025-04-17 19:23:24,336 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.045347, Curr diff: 0.048673
2025-04-17 19:23:24,336 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,336 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:44:00
2025-04-17 19:23:24,336 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:44:00, Close: 521.1
2025-04-17 19:23:24,336 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1140, Slow SMA = 521.0720
2025-04-17 19:23:24,336 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.048673, Curr diff: 0.042000
2025-04-17 19:23:24,336 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:44:00
2025-04-17 19:23:24,336 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,336 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:44:00, Close: 521.1
2025-04-17 19:23:24,336 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1220, Slow SMA = 521.0767
2025-04-17 19:23:24,336 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.042000, Curr diff: 0.045333
2025-04-17 19:23:24,336 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,336 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:45:00
2025-04-17 19:23:24,336 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:45:00, Close: 521.01
2025-04-17 19:23:24,336 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1120, Slow SMA = 521.0753
2025-04-17 19:23:24,336 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.045333, Curr diff: 0.036667
2025-04-17 19:23:24,336 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:45:00
2025-04-17 19:23:24,336 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,336 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:45:00, Close: 521.01
2025-04-17 19:23:24,336 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0790, Slow SMA = 521.0710
2025-04-17 19:23:24,336 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.036667, Curr diff: 0.008000
2025-04-17 19:23:24,336 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,336 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:46:00
2025-04-17 19:23:24,336 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:46:00, Close: 521.0593
2025-04-17 19:23:24,336 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0559, Slow SMA = 521.0700
2025-04-17 19:23:24,336 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.008000, Curr diff: -0.014093
2025-04-17 19:23:24,336 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bearish crossover for SPY @ 2024-03-26 14:46:00
2025-04-17 19:23:24,336 - src.position_management.position_manager - INFO - Position manager received SELL signal for SPY at price 521.0593
2025-04-17 19:23:24,336 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: -1
2025-04-17 19:23:24,336 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,336 - src.position_management.position_manager - INFO - Created SHORT position entry action for SPY size 10
2025-04-17 19:23:24,336 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,336 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,336 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,336 - src.engine.execution_engine - INFO - Created order from position action: SPY SELL 10 @ 521.0593
2025-04-17 19:23:24,336 - src.engine.execution_engine - INFO - Order received: OrderEvent(SELL 10 SPY @ 521.0593, MARKET, ID: cb37bfc5-0bc5-4bae-a748-0ce481b8d0ce)
2025-04-17 19:23:24,336 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(SELL 10 SPY @ 521.0593, MARKET, ID: cb37bfc5-0bc5-4bae-a748-0ce481b8d0ce)
2025-04-17 19:23:24,336 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.98
2025-04-17 19:23:24,336 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,336 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,336 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(SELL 10 SPY @ 521.0593, MARKET, ID: cb37bfc5-0bc5-4bae-a748-0ce481b8d0ce)
2025-04-17 19:23:24,336 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,336 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,336 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,336 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,336 - __main__ - DEBUG - Signal details: SELL for SPY @ 521.0593
2025-04-17 19:23:24,336 - src.rules.rule_base - INFO - Generated SELL signal for SPY @ 521.0593
2025-04-17 19:23:24,336 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:46:00
2025-04-17 19:23:24,336 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,336 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:46:00, Close: 521.0593
2025-04-17 19:23:24,336 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0477, Slow SMA = 521.0669
2025-04-17 19:23:24,336 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.014093, Curr diff: -0.019187
2025-04-17 19:23:24,336 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,336 - src.engine.execution_engine - INFO - Processing 1 pending orders for bar: SPY, close=521.0593
2025-04-17 19:23:24,336 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99984.17, Equity: 99984.17
2025-04-17 19:23:24,337 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0593, MARKET, ID: cb37bfc5-0bc5-4bae-a748-0ce481b8d0ce)
2025-04-17 19:23:24,337 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,337 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,337 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0593
2025-04-17 19:23:24,337 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,337 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,337 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,337 - src.engine.execution_engine - INFO - Executed 0 of 1 orders
2025-04-17 19:23:24,337 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99984.17, Equity: 99984.17
2025-04-17 19:23:24,337 - src.engine.execution_engine - INFO - Remaining pending orders: 1
2025-04-17 19:23:24,337 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:47:00
2025-04-17 19:23:24,337 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:47:00, Close: 521.14
2025-04-17 19:23:24,337 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0557, Slow SMA = 521.0692
2025-04-17 19:23:24,337 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.019187, Curr diff: -0.013520
2025-04-17 19:23:24,337 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:47:00
2025-04-17 19:23:24,337 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,337 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:47:00, Close: 521.14
2025-04-17 19:23:24,337 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0817, Slow SMA = 521.0796
2025-04-17 19:23:24,337 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.013520, Curr diff: 0.002147
2025-04-17 19:23:24,337 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bullish crossover for SPY @ 2024-03-26 14:47:00
2025-04-17 19:23:24,337 - src.position_management.position_manager - INFO - Position manager received BUY signal for SPY at price 521.14
2025-04-17 19:23:24,337 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: 1
2025-04-17 19:23:24,337 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,337 - src.position_management.position_manager - INFO - Created LONG position entry action for SPY size 10
2025-04-17 19:23:24,337 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,337 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,337 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,337 - src.engine.execution_engine - INFO - Created order from position action: SPY BUY 10 @ 521.14
2025-04-17 19:23:24,337 - src.engine.execution_engine - INFO - Order received: OrderEvent(BUY 10 SPY @ 521.14, MARKET, ID: 785620c6-fc32-4d63-9083-5dd6c7f5a4f6)
2025-04-17 19:23:24,337 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(BUY 10 SPY @ 521.14, MARKET, ID: 785620c6-fc32-4d63-9083-5dd6c7f5a4f6)
2025-04-17 19:23:24,337 - src.engine.execution_engine - INFO - Executing BUY order: 10 shares at 521.0593
2025-04-17 19:23:24,337 - src.position_management.position - INFO - Position opened: 96256d32-d3f9-4faa-a058-57e87daa41bb SPY LONG 10 @ 521.0593
2025-04-17 19:23:24,337 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,337 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,337 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,337 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(BUY 10 SPY @ 521.0593, cost=0.00)
2025-04-17 19:23:24,337 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(BUY 10 SPY @ 521.14, MARKET, ID: 785620c6-fc32-4d63-9083-5dd6c7f5a4f6)
2025-04-17 19:23:24,337 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,337 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,337 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,337 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,337 - __main__ - DEBUG - Signal details: BUY for SPY @ 521.14
2025-04-17 19:23:24,337 - src.rules.rule_base - INFO - Generated BUY signal for SPY @ 521.14
2025-04-17 19:23:24,337 - src.engine.backtester - DEBUG - Emitting signal from strategy: SignalEvent(BUY, SPY, price=521.14)
2025-04-17 19:23:24,337 - src.engine.backtester - DEBUG - Emitted signal event: BUY for SPY
2025-04-17 19:23:24,337 - src.position_management.position_manager - INFO - Position manager received BUY signal for SPY at price 521.14
2025-04-17 19:23:24,337 - src.position_management.position_manager - INFO - Current net position for SPY: 10, direction: 1
2025-04-17 19:23:24,337 - src.position_management.position_manager - INFO - Already have position in LONG direction - skipping
2025-04-17 19:23:24,337 - src.position_management.position_manager - INFO - No position actions created from signal
2025-04-17 19:23:24,337 - src.engine.backtester - DEBUG - Event flow: SIGNAL event received
2025-04-17 19:23:24,337 - src.engine.backtester - DEBUG - Signal: BUY for SPY at 521.14
2025-04-17 19:23:24,337 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,337 - src.engine.execution_engine - INFO - Processing 1 pending orders for bar: SPY, close=521.14
2025-04-17 19:23:24,337 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 89562.98, Equity: 94774.38
2025-04-17 19:23:24,337 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0593, MARKET, ID: cb37bfc5-0bc5-4bae-a748-0ce481b8d0ce)
2025-04-17 19:23:24,337 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,337 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,337 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.14
2025-04-17 19:23:24,337 - src.position_management.position - INFO - Position closed: 96256d32-d3f9-4faa-a058-57e87daa41bb SPY LONG 10 @ 521.14 P&L: 0.81
2025-04-17 19:23:24,337 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,337 - src.position_management.portfolio - INFO - Position closed: 96256d32-d3f9-4faa-a058-57e87daa41bb SPY PnL: 0.81
2025-04-17 19:23:24,337 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,337 - src.engine.execution_engine - INFO - Commission charged: 5.21, remaining cash: 99980.57
2025-04-17 19:23:24,337 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,337 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,337 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(SELL 10 SPY @ 521.14, cost=5.21)
2025-04-17 19:23:24,337 - src.engine.execution_engine - INFO - Order executed successfully, Fill price: 521.14
2025-04-17 19:23:24,337 - src.engine.execution_engine - INFO - Executed 1 of 1 orders
2025-04-17 19:23:24,337 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99980.57, Equity: 99985.78
2025-04-17 19:23:24,337 - src.engine.execution_engine - INFO - Remaining pending orders: 0
2025-04-17 19:23:24,337 - src.engine.backtester - DEBUG - Executed 1 fills
2025-04-17 19:23:24,337 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:48:00
2025-04-17 19:23:24,337 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:48:00, Close: 520.9599
2025-04-17 19:23:24,337 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0717, Slow SMA = 521.0779
2025-04-17 19:23:24,337 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.002147, Curr diff: -0.006200
2025-04-17 19:23:24,337 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bearish crossover for SPY @ 2024-03-26 14:48:00
2025-04-17 19:23:24,337 - src.position_management.position_manager - INFO - Position manager received SELL signal for SPY at price 520.9599
2025-04-17 19:23:24,337 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: -1
2025-04-17 19:23:24,337 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,337 - src.position_management.position_manager - INFO - Created SHORT position entry action for SPY size 10
2025-04-17 19:23:24,337 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,337 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,337 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,337 - src.engine.execution_engine - INFO - Created order from position action: SPY SELL 10 @ 520.9599
2025-04-17 19:23:24,337 - src.engine.execution_engine - INFO - Order received: OrderEvent(SELL 10 SPY @ 520.9599, MARKET, ID: 4e1078dd-7796-4e85-8656-cd29aae2c71d)
2025-04-17 19:23:24,337 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(SELL 10 SPY @ 520.9599, MARKET, ID: 4e1078dd-7796-4e85-8656-cd29aae2c71d)
2025-04-17 19:23:24,337 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.14
2025-04-17 19:23:24,338 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,338 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,338 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(SELL 10 SPY @ 520.9599, MARKET, ID: 4e1078dd-7796-4e85-8656-cd29aae2c71d)
2025-04-17 19:23:24,338 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,338 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,338 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,338 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,338 - __main__ - DEBUG - Signal details: SELL for SPY @ 520.9599
2025-04-17 19:23:24,338 - src.rules.rule_base - INFO - Generated SELL signal for SPY @ 520.9599
2025-04-17 19:23:24,338 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:48:00
2025-04-17 19:23:24,338 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,338 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:48:00, Close: 520.9599
2025-04-17 19:23:24,338 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0518, Slow SMA = 521.0712
2025-04-17 19:23:24,338 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.006200, Curr diff: -0.019407
2025-04-17 19:23:24,338 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,338 - src.engine.execution_engine - INFO - Processing 1 pending orders for bar: SPY, close=520.9599
2025-04-17 19:23:24,338 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99980.57, Equity: 99980.57
2025-04-17 19:23:24,338 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.9599, MARKET, ID: 4e1078dd-7796-4e85-8656-cd29aae2c71d)
2025-04-17 19:23:24,338 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,338 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,338 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9599
2025-04-17 19:23:24,338 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,338 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,338 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,338 - src.engine.execution_engine - INFO - Executed 0 of 1 orders
2025-04-17 19:23:24,338 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99980.57, Equity: 99980.57
2025-04-17 19:23:24,338 - src.engine.execution_engine - INFO - Remaining pending orders: 1
2025-04-17 19:23:24,338 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:49:00
2025-04-17 19:23:24,338 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:49:00, Close: 520.955
2025-04-17 19:23:24,338 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0310, Slow SMA = 521.0642
2025-04-17 19:23:24,338 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.019407, Curr diff: -0.033267
2025-04-17 19:23:24,338 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:49:00
2025-04-17 19:23:24,338 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,338 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:49:00, Close: 520.955
2025-04-17 19:23:24,338 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9940, Slow SMA = 521.0572
2025-04-17 19:23:24,338 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.033267, Curr diff: -0.063267
2025-04-17 19:23:24,338 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,338 - src.engine.execution_engine - INFO - Processing 1 pending orders for bar: SPY, close=520.955
2025-04-17 19:23:24,338 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99980.57, Equity: 99980.57
2025-04-17 19:23:24,338 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.9599, MARKET, ID: 4e1078dd-7796-4e85-8656-cd29aae2c71d)
2025-04-17 19:23:24,338 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,338 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,338 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.955
2025-04-17 19:23:24,338 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,338 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,338 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,338 - src.engine.execution_engine - INFO - Executed 0 of 1 orders
2025-04-17 19:23:24,338 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99980.57, Equity: 99980.57
2025-04-17 19:23:24,338 - src.engine.execution_engine - INFO - Remaining pending orders: 1
2025-04-17 19:23:24,338 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:50:00
2025-04-17 19:23:24,338 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:50:00, Close: 521.01
2025-04-17 19:23:24,338 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9680, Slow SMA = 521.0539
2025-04-17 19:23:24,338 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.063267, Curr diff: -0.085933
2025-04-17 19:23:24,338 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:50:00
2025-04-17 19:23:24,338 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,338 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:50:00, Close: 521.01
2025-04-17 19:23:24,338 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9780, Slow SMA = 521.0429
2025-04-17 19:23:24,338 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.085933, Curr diff: -0.064913
2025-04-17 19:23:24,338 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,338 - src.engine.execution_engine - INFO - Processing 1 pending orders for bar: SPY, close=521.01
2025-04-17 19:23:24,338 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99980.57, Equity: 99980.57
2025-04-17 19:23:24,338 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.9599, MARKET, ID: 4e1078dd-7796-4e85-8656-cd29aae2c71d)
2025-04-17 19:23:24,338 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,338 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,338 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.01
2025-04-17 19:23:24,338 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,338 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,338 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,338 - src.engine.execution_engine - INFO - Executed 0 of 1 orders
2025-04-17 19:23:24,338 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99980.57, Equity: 99980.57
2025-04-17 19:23:24,338 - src.engine.execution_engine - INFO - Remaining pending orders: 1
2025-04-17 19:23:24,338 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:51:00
2025-04-17 19:23:24,338 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:51:00, Close: 521.09
2025-04-17 19:23:24,338 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0040, Slow SMA = 521.0372
2025-04-17 19:23:24,338 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.064913, Curr diff: -0.033227
2025-04-17 19:23:24,338 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:51:00
2025-04-17 19:23:24,338 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,338 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:51:00, Close: 521.09
2025-04-17 19:23:24,338 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0310, Slow SMA = 521.0366
2025-04-17 19:23:24,338 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.033227, Curr diff: -0.005560
2025-04-17 19:23:24,338 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,338 - src.engine.execution_engine - INFO - Processing 1 pending orders for bar: SPY, close=521.09
2025-04-17 19:23:24,338 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99980.57, Equity: 99980.57
2025-04-17 19:23:24,338 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.9599, MARKET, ID: 4e1078dd-7796-4e85-8656-cd29aae2c71d)
2025-04-17 19:23:24,338 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,338 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,338 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.09
2025-04-17 19:23:24,338 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,338 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,338 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,339 - src.engine.execution_engine - INFO - Executed 0 of 1 orders
2025-04-17 19:23:24,339 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99980.57, Equity: 99980.57
2025-04-17 19:23:24,339 - src.engine.execution_engine - INFO - Remaining pending orders: 1
2025-04-17 19:23:24,339 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:52:00
2025-04-17 19:23:24,339 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:52:00, Close: 521.08
2025-04-17 19:23:24,339 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0560, Slow SMA = 521.0352
2025-04-17 19:23:24,339 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.005560, Curr diff: 0.020773
2025-04-17 19:23:24,339 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bullish crossover for SPY @ 2024-03-26 14:52:00
2025-04-17 19:23:24,339 - src.position_management.position_manager - INFO - Position manager received BUY signal for SPY at price 521.08
2025-04-17 19:23:24,339 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: 1
2025-04-17 19:23:24,339 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,339 - src.position_management.position_manager - INFO - Created LONG position entry action for SPY size 10
2025-04-17 19:23:24,339 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,339 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,339 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,339 - src.engine.execution_engine - INFO - Created order from position action: SPY BUY 10 @ 521.08
2025-04-17 19:23:24,339 - src.engine.execution_engine - INFO - Order received: OrderEvent(BUY 10 SPY @ 521.08, MARKET, ID: bd2837b9-3c10-4ce1-bfdc-d63e66911478)
2025-04-17 19:23:24,339 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(BUY 10 SPY @ 521.08, MARKET, ID: bd2837b9-3c10-4ce1-bfdc-d63e66911478)
2025-04-17 19:23:24,339 - src.engine.execution_engine - INFO - Executing BUY order: 10 shares at 521.09
2025-04-17 19:23:24,339 - src.position_management.position - INFO - Position opened: 1345e4db-084b-44f4-9fa2-d6de8057fa74 SPY LONG 10 @ 521.09
2025-04-17 19:23:24,339 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,339 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,339 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,339 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(BUY 10 SPY @ 521.09, cost=0.00)
2025-04-17 19:23:24,339 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(BUY 10 SPY @ 521.08, MARKET, ID: bd2837b9-3c10-4ce1-bfdc-d63e66911478)
2025-04-17 19:23:24,339 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,339 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,339 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,339 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,339 - __main__ - DEBUG - Signal details: BUY for SPY @ 521.08
2025-04-17 19:23:24,339 - src.rules.rule_base - INFO - Generated BUY signal for SPY @ 521.08
2025-04-17 19:23:24,339 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:52:00
2025-04-17 19:23:24,339 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,339 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:52:00, Close: 521.08
2025-04-17 19:23:24,339 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0700, Slow SMA = 521.0399
2025-04-17 19:23:24,339 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.020773, Curr diff: 0.030107
2025-04-17 19:23:24,339 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,339 - src.engine.execution_engine - INFO - Processing 1 pending orders for bar: SPY, close=521.08
2025-04-17 19:23:24,339 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 89558.77, Equity: 94769.57
2025-04-17 19:23:24,339 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.9599, MARKET, ID: 4e1078dd-7796-4e85-8656-cd29aae2c71d)
2025-04-17 19:23:24,339 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,339 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,339 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.08
2025-04-17 19:23:24,339 - src.position_management.position - INFO - Position closed: 1345e4db-084b-44f4-9fa2-d6de8057fa74 SPY LONG 10 @ 521.08 P&L: -0.10
2025-04-17 19:23:24,339 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,339 - src.position_management.portfolio - INFO - Position closed: 1345e4db-084b-44f4-9fa2-d6de8057fa74 SPY PnL: -0.10
2025-04-17 19:23:24,339 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,339 - src.engine.execution_engine - INFO - Commission charged: 5.21, remaining cash: 99975.16
2025-04-17 19:23:24,339 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,339 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,339 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(SELL 10 SPY @ 521.08, cost=5.21)
2025-04-17 19:23:24,339 - src.engine.execution_engine - INFO - Order executed successfully, Fill price: 521.08
2025-04-17 19:23:24,339 - src.engine.execution_engine - INFO - Executed 1 of 1 orders
2025-04-17 19:23:24,339 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99975.16, Equity: 99980.37
2025-04-17 19:23:24,339 - src.engine.execution_engine - INFO - Remaining pending orders: 0
2025-04-17 19:23:24,339 - src.engine.backtester - DEBUG - Executed 1 fills
2025-04-17 19:23:24,339 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:53:00
2025-04-17 19:23:24,339 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:53:00, Close: 521.13
2025-04-17 19:23:24,339 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0940, Slow SMA = 521.0479
2025-04-17 19:23:24,339 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.030107, Curr diff: 0.046107
2025-04-17 19:23:24,339 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:53:00
2025-04-17 19:23:24,339 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,339 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:53:00, Close: 521.13
2025-04-17 19:23:24,339 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1020, Slow SMA = 521.0526
2025-04-17 19:23:24,339 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.046107, Curr diff: 0.049393
2025-04-17 19:23:24,339 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,339 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:54:00
2025-04-17 19:23:24,339 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:54:00, Close: 521.17
2025-04-17 19:23:24,339 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1180, Slow SMA = 521.0600
2025-04-17 19:23:24,339 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.049393, Curr diff: 0.058013
2025-04-17 19:23:24,339 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:54:00
2025-04-17 19:23:24,339 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,339 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:54:00, Close: 521.17
2025-04-17 19:23:24,339 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1360, Slow SMA = 521.0620
2025-04-17 19:23:24,339 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.058013, Curr diff: 0.074013
2025-04-17 19:23:24,339 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,339 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:55:00
2025-04-17 19:23:24,340 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:55:00, Close: 521.215
2025-04-17 19:23:24,340 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1630, Slow SMA = 521.0670
2025-04-17 19:23:24,340 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.074013, Curr diff: 0.096013
2025-04-17 19:23:24,340 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:55:00
2025-04-17 19:23:24,340 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,340 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:55:00, Close: 521.215
2025-04-17 19:23:24,340 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1800, Slow SMA = 521.0840
2025-04-17 19:23:24,340 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.096013, Curr diff: 0.096007
2025-04-17 19:23:24,340 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,340 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:56:00
2025-04-17 19:23:24,340 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:56:00, Close: 521.1799
2025-04-17 19:23:24,340 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1900, Slow SMA = 521.0987
2025-04-17 19:23:24,340 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.096007, Curr diff: 0.091320
2025-04-17 19:23:24,340 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:56:00
2025-04-17 19:23:24,340 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,340 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:56:00, Close: 521.1799
2025-04-17 19:23:24,340 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1920, Slow SMA = 521.1137
2025-04-17 19:23:24,340 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.091320, Curr diff: 0.078307
2025-04-17 19:23:24,340 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,340 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:57:00
2025-04-17 19:23:24,340 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:57:00, Close: 521.24
2025-04-17 19:23:24,340 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2060, Slow SMA = 521.1327
2025-04-17 19:23:24,340 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.078307, Curr diff: 0.073307
2025-04-17 19:23:24,340 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:57:00
2025-04-17 19:23:24,340 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,340 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:57:00, Close: 521.24
2025-04-17 19:23:24,340 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2110, Slow SMA = 521.1480
2025-04-17 19:23:24,340 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.073307, Curr diff: 0.062973
2025-04-17 19:23:24,340 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,340 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:58:00
2025-04-17 19:23:24,340 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:58:00, Close: 521.28
2025-04-17 19:23:24,340 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2240, Slow SMA = 521.1660
2025-04-17 19:23:24,340 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.062973, Curr diff: 0.057973
2025-04-17 19:23:24,340 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:58:00
2025-04-17 19:23:24,340 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,340 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:58:00, Close: 521.28
2025-04-17 19:23:24,340 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2440, Slow SMA = 521.1787
2025-04-17 19:23:24,340 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.057973, Curr diff: 0.065327
2025-04-17 19:23:24,340 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,340 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 14:59:00
2025-04-17 19:23:24,340 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:59:00, Close: 521.3
2025-04-17 19:23:24,340 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2680, Slow SMA = 521.1927
2025-04-17 19:23:24,340 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.065327, Curr diff: 0.075347
2025-04-17 19:23:24,340 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 14:59:00
2025-04-17 19:23:24,340 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,340 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 14:59:00, Close: 521.3
2025-04-17 19:23:24,340 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2800, Slow SMA = 521.2073
2025-04-17 19:23:24,340 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.075347, Curr diff: 0.072680
2025-04-17 19:23:24,340 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,340 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:00:00
2025-04-17 19:23:24,340 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:00:00, Close: 521.34
2025-04-17 19:23:24,340 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3000, Slow SMA = 521.2247
2025-04-17 19:23:24,340 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.072680, Curr diff: 0.075347
2025-04-17 19:23:24,340 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:00:00
2025-04-17 19:23:24,340 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,340 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:00:00, Close: 521.34
2025-04-17 19:23:24,340 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3120, Slow SMA = 521.2387
2025-04-17 19:23:24,340 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.075347, Curr diff: 0.073347
2025-04-17 19:23:24,340 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,340 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:01:00
2025-04-17 19:23:24,340 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:01:00, Close: 521.3136
2025-04-17 19:23:24,340 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3187, Slow SMA = 521.2509
2025-04-17 19:23:24,340 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.073347, Curr diff: 0.067827
2025-04-17 19:23:24,340 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:01:00
2025-04-17 19:23:24,340 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,340 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:01:00, Close: 521.3136
2025-04-17 19:23:24,341 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3214, Slow SMA = 521.2605
2025-04-17 19:23:24,341 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.067827, Curr diff: 0.060973
2025-04-17 19:23:24,341 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,341 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:02:00
2025-04-17 19:23:24,341 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:02:00, Close: 521.29
2025-04-17 19:23:24,341 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3194, Slow SMA = 521.2685
2025-04-17 19:23:24,341 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.060973, Curr diff: 0.050973
2025-04-17 19:23:24,341 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:02:00
2025-04-17 19:23:24,341 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,341 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:02:00, Close: 521.29
2025-04-17 19:23:24,341 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3094, Slow SMA = 521.2735
2025-04-17 19:23:24,341 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.050973, Curr diff: 0.035973
2025-04-17 19:23:24,341 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,341 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:03:00
2025-04-17 19:23:24,341 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:03:00, Close: 521.25
2025-04-17 19:23:24,341 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2914, Slow SMA = 521.2758
2025-04-17 19:23:24,341 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.035973, Curr diff: 0.015640
2025-04-17 19:23:24,341 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:03:00
2025-04-17 19:23:24,341 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,341 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:03:00, Close: 521.25
2025-04-17 19:23:24,341 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2787, Slow SMA = 521.2805
2025-04-17 19:23:24,341 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.015640, Curr diff: -0.001753
2025-04-17 19:23:24,341 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bearish crossover for SPY @ 2024-03-26 15:03:00
2025-04-17 19:23:24,341 - src.position_management.position_manager - INFO - Position manager received SELL signal for SPY at price 521.25
2025-04-17 19:23:24,341 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: -1
2025-04-17 19:23:24,341 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,341 - src.position_management.position_manager - INFO - Created SHORT position entry action for SPY size 10
2025-04-17 19:23:24,341 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,341 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,341 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,341 - src.engine.execution_engine - INFO - Created order from position action: SPY SELL 10 @ 521.25
2025-04-17 19:23:24,341 - src.engine.execution_engine - INFO - Order received: OrderEvent(SELL 10 SPY @ 521.25, MARKET, ID: d071fff2-4a7b-4d19-ad87-ae6f1d497c56)
2025-04-17 19:23:24,341 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(SELL 10 SPY @ 521.25, MARKET, ID: d071fff2-4a7b-4d19-ad87-ae6f1d497c56)
2025-04-17 19:23:24,341 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.08
2025-04-17 19:23:24,341 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,341 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,341 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(SELL 10 SPY @ 521.25, MARKET, ID: d071fff2-4a7b-4d19-ad87-ae6f1d497c56)
2025-04-17 19:23:24,341 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,341 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,341 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,341 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,341 - __main__ - DEBUG - Signal details: SELL for SPY @ 521.25
2025-04-17 19:23:24,341 - src.rules.rule_base - INFO - Generated SELL signal for SPY @ 521.25
2025-04-17 19:23:24,341 - src.engine.backtester - DEBUG - Emitting signal from strategy: SignalEvent(SELL, SPY, price=521.25)
2025-04-17 19:23:24,341 - src.engine.backtester - DEBUG - Emitted signal event: SELL for SPY
2025-04-17 19:23:24,341 - src.position_management.position_manager - INFO - Position manager received SELL signal for SPY at price 521.25
2025-04-17 19:23:24,341 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: -1
2025-04-17 19:23:24,341 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,341 - src.position_management.position_manager - INFO - Created SHORT position entry action for SPY size 10
2025-04-17 19:23:24,341 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,341 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,341 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,341 - src.engine.execution_engine - INFO - Created order from position action: SPY SELL 10 @ 521.25
2025-04-17 19:23:24,341 - src.engine.execution_engine - INFO - Order received: OrderEvent(SELL 10 SPY @ 521.25, MARKET, ID: ab4baf0e-2ebd-4d0c-b8e9-3b15d373d72f)
2025-04-17 19:23:24,341 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(SELL 10 SPY @ 521.25, MARKET, ID: ab4baf0e-2ebd-4d0c-b8e9-3b15d373d72f)
2025-04-17 19:23:24,341 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.08
2025-04-17 19:23:24,341 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,341 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,341 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(SELL 10 SPY @ 521.25, MARKET, ID: ab4baf0e-2ebd-4d0c-b8e9-3b15d373d72f)
2025-04-17 19:23:24,341 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,341 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,341 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,341 - src.engine.backtester - DEBUG - Event flow: SIGNAL event received
2025-04-17 19:23:24,341 - src.engine.backtester - DEBUG - Signal: SELL for SPY at 521.25
2025-04-17 19:23:24,341 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,341 - src.engine.execution_engine - INFO - Processing 2 pending orders for bar: SPY, close=521.25
2025-04-17 19:23:24,341 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99975.16, Equity: 99975.16
2025-04-17 19:23:24,341 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.25, MARKET, ID: d071fff2-4a7b-4d19-ad87-ae6f1d497c56)
2025-04-17 19:23:24,341 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,341 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,341 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.25
2025-04-17 19:23:24,341 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,341 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,341 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,341 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.25, MARKET, ID: ab4baf0e-2ebd-4d0c-b8e9-3b15d373d72f)
2025-04-17 19:23:24,341 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,341 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,341 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.25
2025-04-17 19:23:24,341 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,341 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,341 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,341 - src.engine.execution_engine - INFO - Executed 0 of 2 orders
2025-04-17 19:23:24,341 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99975.16, Equity: 99975.16
2025-04-17 19:23:24,341 - src.engine.execution_engine - INFO - Remaining pending orders: 2
2025-04-17 19:23:24,341 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:04:00
2025-04-17 19:23:24,341 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:04:00, Close: 521.2
2025-04-17 19:23:24,341 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2560, Slow SMA = 521.2818
2025-04-17 19:23:24,341 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.001753, Curr diff: -0.025813
2025-04-17 19:23:24,342 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:04:00
2025-04-17 19:23:24,342 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,342 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:04:00, Close: 521.2
2025-04-17 19:23:24,342 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2380, Slow SMA = 521.2791
2025-04-17 19:23:24,342 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.025813, Curr diff: -0.041147
2025-04-17 19:23:24,342 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,342 - src.engine.execution_engine - INFO - Processing 2 pending orders for bar: SPY, close=521.2
2025-04-17 19:23:24,342 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99975.16, Equity: 99975.16
2025-04-17 19:23:24,342 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.25, MARKET, ID: d071fff2-4a7b-4d19-ad87-ae6f1d497c56)
2025-04-17 19:23:24,342 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,342 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,342 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.2
2025-04-17 19:23:24,342 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,342 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,342 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,342 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.25, MARKET, ID: ab4baf0e-2ebd-4d0c-b8e9-3b15d373d72f)
2025-04-17 19:23:24,342 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,342 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,342 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.2
2025-04-17 19:23:24,342 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,342 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,342 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,342 - src.engine.execution_engine - INFO - Executed 0 of 2 orders
2025-04-17 19:23:24,342 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99975.16, Equity: 99975.16
2025-04-17 19:23:24,342 - src.engine.execution_engine - INFO - Remaining pending orders: 2
2025-04-17 19:23:24,342 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:05:00
2025-04-17 19:23:24,342 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:05:00, Close: 521.2197
2025-04-17 19:23:24,342 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2239, Slow SMA = 521.2778
2025-04-17 19:23:24,342 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.041147, Curr diff: -0.053853
2025-04-17 19:23:24,342 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:05:00
2025-04-17 19:23:24,342 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,342 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:05:00, Close: 521.2197
2025-04-17 19:23:24,342 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2179, Slow SMA = 521.2738
2025-04-17 19:23:24,342 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.053853, Curr diff: -0.055893
2025-04-17 19:23:24,342 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,342 - src.engine.execution_engine - INFO - Processing 2 pending orders for bar: SPY, close=521.2197
2025-04-17 19:23:24,342 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99975.16, Equity: 99975.16
2025-04-17 19:23:24,342 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.25, MARKET, ID: d071fff2-4a7b-4d19-ad87-ae6f1d497c56)
2025-04-17 19:23:24,342 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,342 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,342 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.2197
2025-04-17 19:23:24,342 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,342 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,342 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,342 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.25, MARKET, ID: ab4baf0e-2ebd-4d0c-b8e9-3b15d373d72f)
2025-04-17 19:23:24,342 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,342 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,342 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.2197
2025-04-17 19:23:24,342 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,342 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,342 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,342 - src.engine.execution_engine - INFO - Executed 0 of 2 orders
2025-04-17 19:23:24,342 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99975.16, Equity: 99975.16
2025-04-17 19:23:24,342 - src.engine.execution_engine - INFO - Remaining pending orders: 2
2025-04-17 19:23:24,342 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:06:00
2025-04-17 19:23:24,342 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:06:00, Close: 521.23
2025-04-17 19:23:24,342 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2139, Slow SMA = 521.2704
2025-04-17 19:23:24,342 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.055893, Curr diff: -0.056560
2025-04-17 19:23:24,342 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:06:00
2025-04-17 19:23:24,342 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,342 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:06:00, Close: 521.23
2025-04-17 19:23:24,342 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2199, Slow SMA = 521.2658
2025-04-17 19:23:24,342 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.056560, Curr diff: -0.045893
2025-04-17 19:23:24,342 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,342 - src.engine.execution_engine - INFO - Processing 2 pending orders for bar: SPY, close=521.23
2025-04-17 19:23:24,342 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99975.16, Equity: 99975.16
2025-04-17 19:23:24,342 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.25, MARKET, ID: d071fff2-4a7b-4d19-ad87-ae6f1d497c56)
2025-04-17 19:23:24,342 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,342 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,342 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.23
2025-04-17 19:23:24,342 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,342 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,342 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,342 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.25, MARKET, ID: ab4baf0e-2ebd-4d0c-b8e9-3b15d373d72f)
2025-04-17 19:23:24,342 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,342 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,342 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.23
2025-04-17 19:23:24,342 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,342 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,342 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,342 - src.engine.execution_engine - INFO - Executed 0 of 2 orders
2025-04-17 19:23:24,342 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99975.16, Equity: 99975.16
2025-04-17 19:23:24,342 - src.engine.execution_engine - INFO - Remaining pending orders: 2
2025-04-17 19:23:24,342 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:07:00
2025-04-17 19:23:24,342 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:07:00, Close: 521.1999
2025-04-17 19:23:24,342 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2199, Slow SMA = 521.2591
2025-04-17 19:23:24,342 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.045893, Curr diff: -0.039240
2025-04-17 19:23:24,342 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:07:00
2025-04-17 19:23:24,342 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,342 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:07:00, Close: 521.1999
2025-04-17 19:23:24,342 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2159, Slow SMA = 521.2498
2025-04-17 19:23:24,343 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.039240, Curr diff: -0.033860
2025-04-17 19:23:24,343 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,343 - src.engine.execution_engine - INFO - Processing 2 pending orders for bar: SPY, close=521.1999
2025-04-17 19:23:24,343 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99975.16, Equity: 99975.16
2025-04-17 19:23:24,343 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.25, MARKET, ID: d071fff2-4a7b-4d19-ad87-ae6f1d497c56)
2025-04-17 19:23:24,343 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,343 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,343 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.1999
2025-04-17 19:23:24,343 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,343 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,343 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,343 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.25, MARKET, ID: ab4baf0e-2ebd-4d0c-b8e9-3b15d373d72f)
2025-04-17 19:23:24,343 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,343 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,343 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.1999
2025-04-17 19:23:24,343 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,343 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,343 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,343 - src.engine.execution_engine - INFO - Executed 0 of 2 orders
2025-04-17 19:23:24,343 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99975.16, Equity: 99975.16
2025-04-17 19:23:24,343 - src.engine.execution_engine - INFO - Remaining pending orders: 2
2025-04-17 19:23:24,343 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:08:00
2025-04-17 19:23:24,343 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:08:00, Close: 521.21
2025-04-17 19:23:24,343 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2140, Slow SMA = 521.2411
2025-04-17 19:23:24,343 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.033860, Curr diff: -0.027133
2025-04-17 19:23:24,343 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:08:00
2025-04-17 19:23:24,343 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,343 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:08:00, Close: 521.21
2025-04-17 19:23:24,343 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2100, Slow SMA = 521.2342
2025-04-17 19:23:24,343 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.027133, Curr diff: -0.024227
2025-04-17 19:23:24,343 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,343 - src.engine.execution_engine - INFO - Processing 2 pending orders for bar: SPY, close=521.21
2025-04-17 19:23:24,343 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99975.16, Equity: 99975.16
2025-04-17 19:23:24,343 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.25, MARKET, ID: d071fff2-4a7b-4d19-ad87-ae6f1d497c56)
2025-04-17 19:23:24,343 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,343 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,343 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.21
2025-04-17 19:23:24,343 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,343 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,343 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,343 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.25, MARKET, ID: ab4baf0e-2ebd-4d0c-b8e9-3b15d373d72f)
2025-04-17 19:23:24,343 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,343 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,343 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.21
2025-04-17 19:23:24,343 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,343 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,343 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,343 - src.engine.execution_engine - INFO - Executed 0 of 2 orders
2025-04-17 19:23:24,343 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99975.16, Equity: 99975.16
2025-04-17 19:23:24,343 - src.engine.execution_engine - INFO - Remaining pending orders: 2
2025-04-17 19:23:24,343 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:09:00
2025-04-17 19:23:24,343 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:09:00, Close: 521.26
2025-04-17 19:23:24,343 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2160, Slow SMA = 521.2306
2025-04-17 19:23:24,343 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.024227, Curr diff: -0.014653
2025-04-17 19:23:24,343 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:09:00
2025-04-17 19:23:24,343 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,343 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:09:00, Close: 521.26
2025-04-17 19:23:24,343 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2280, Slow SMA = 521.2286
2025-04-17 19:23:24,343 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.014653, Curr diff: -0.000633
2025-04-17 19:23:24,343 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,343 - src.engine.execution_engine - INFO - Processing 2 pending orders for bar: SPY, close=521.26
2025-04-17 19:23:24,343 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99975.16, Equity: 99975.16
2025-04-17 19:23:24,343 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.25, MARKET, ID: d071fff2-4a7b-4d19-ad87-ae6f1d497c56)
2025-04-17 19:23:24,343 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,343 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,343 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.26
2025-04-17 19:23:24,343 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,343 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,343 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,343 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.25, MARKET, ID: ab4baf0e-2ebd-4d0c-b8e9-3b15d373d72f)
2025-04-17 19:23:24,343 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,343 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,343 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.26
2025-04-17 19:23:24,343 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,343 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,343 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,343 - src.engine.execution_engine - INFO - Executed 0 of 2 orders
2025-04-17 19:23:24,343 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99975.16, Equity: 99975.16
2025-04-17 19:23:24,343 - src.engine.execution_engine - INFO - Remaining pending orders: 2
2025-04-17 19:23:24,343 - src.engine.backtester - INFO - Processed 100 bars, 6 signals, 0 orders, 5 fills
2025-04-17 19:23:24,343 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:10:00
2025-04-17 19:23:24,343 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:10:00, Close: 521.32
2025-04-17 19:23:24,343 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2520, Slow SMA = 521.2306
2025-04-17 19:23:24,343 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.000633, Curr diff: 0.021387
2025-04-17 19:23:24,343 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bullish crossover for SPY @ 2024-03-26 15:10:00
2025-04-17 19:23:24,343 - src.position_management.position_manager - INFO - Position manager received BUY signal for SPY at price 521.32
2025-04-17 19:23:24,343 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: 1
2025-04-17 19:23:24,343 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,343 - src.position_management.position_manager - INFO - Created LONG position entry action for SPY size 10
2025-04-17 19:23:24,343 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,343 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,343 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,344 - src.engine.execution_engine - INFO - Created order from position action: SPY BUY 10 @ 521.32
2025-04-17 19:23:24,344 - src.engine.execution_engine - INFO - Order received: OrderEvent(BUY 10 SPY @ 521.32, MARKET, ID: 8a632782-3e94-41a2-8024-b2206f946c10)
2025-04-17 19:23:24,344 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(BUY 10 SPY @ 521.32, MARKET, ID: 8a632782-3e94-41a2-8024-b2206f946c10)
2025-04-17 19:23:24,344 - src.engine.execution_engine - INFO - Executing BUY order: 10 shares at 521.26
2025-04-17 19:23:24,344 - src.position_management.position - INFO - Position opened: 2866879d-c6c8-44e9-a457-dfb16a07ee25 SPY LONG 10 @ 521.26
2025-04-17 19:23:24,344 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,344 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,344 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,344 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(BUY 10 SPY @ 521.26, cost=0.00)
2025-04-17 19:23:24,344 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(BUY 10 SPY @ 521.32, MARKET, ID: 8a632782-3e94-41a2-8024-b2206f946c10)
2025-04-17 19:23:24,344 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,344 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,344 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,344 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,344 - __main__ - DEBUG - Signal details: BUY for SPY @ 521.32
2025-04-17 19:23:24,344 - src.rules.rule_base - INFO - Generated BUY signal for SPY @ 521.32
2025-04-17 19:23:24,344 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:10:00
2025-04-17 19:23:24,344 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,344 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:10:00, Close: 521.32
2025-04-17 19:23:24,344 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2740, Slow SMA = 521.2353
2025-04-17 19:23:24,344 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.021387, Curr diff: 0.038720
2025-04-17 19:23:24,344 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,344 - src.engine.execution_engine - INFO - Processing 2 pending orders for bar: SPY, close=521.32
2025-04-17 19:23:24,344 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 89549.96, Equity: 94763.16
2025-04-17 19:23:24,344 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.25, MARKET, ID: d071fff2-4a7b-4d19-ad87-ae6f1d497c56)
2025-04-17 19:23:24,344 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,344 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,344 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.32
2025-04-17 19:23:24,344 - src.position_management.position - INFO - Position closed: 2866879d-c6c8-44e9-a457-dfb16a07ee25 SPY LONG 10 @ 521.32 P&L: 0.60
2025-04-17 19:23:24,344 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,344 - src.position_management.portfolio - INFO - Position closed: 2866879d-c6c8-44e9-a457-dfb16a07ee25 SPY PnL: 0.60
2025-04-17 19:23:24,344 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,344 - src.engine.execution_engine - INFO - Commission charged: 5.21, remaining cash: 99971.15
2025-04-17 19:23:24,344 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,344 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,344 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(SELL 10 SPY @ 521.32, cost=5.21)
2025-04-17 19:23:24,344 - src.engine.execution_engine - INFO - Order executed successfully, Fill price: 521.32
2025-04-17 19:23:24,344 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.25, MARKET, ID: ab4baf0e-2ebd-4d0c-b8e9-3b15d373d72f)
2025-04-17 19:23:24,344 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,344 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,344 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.32
2025-04-17 19:23:24,344 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,344 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,344 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,344 - src.engine.execution_engine - INFO - Executed 1 of 2 orders
2025-04-17 19:23:24,344 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99971.15, Equity: 99976.36
2025-04-17 19:23:24,344 - src.engine.execution_engine - INFO - Remaining pending orders: 1
2025-04-17 19:23:24,344 - src.engine.backtester - DEBUG - Executed 1 fills
2025-04-17 19:23:24,344 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:11:00
2025-04-17 19:23:24,344 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:11:00, Close: 521.2701
2025-04-17 19:23:24,344 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2860, Slow SMA = 521.2366
2025-04-17 19:23:24,344 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.038720, Curr diff: 0.049400
2025-04-17 19:23:24,344 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:11:00
2025-04-17 19:23:24,344 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,344 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:11:00, Close: 521.2701
2025-04-17 19:23:24,344 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2880, Slow SMA = 521.2413
2025-04-17 19:23:24,344 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.049400, Curr diff: 0.046747
2025-04-17 19:23:24,344 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,344 - src.engine.execution_engine - INFO - Processing 1 pending orders for bar: SPY, close=521.2701
2025-04-17 19:23:24,344 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99971.15, Equity: 99971.15
2025-04-17 19:23:24,344 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.25, MARKET, ID: ab4baf0e-2ebd-4d0c-b8e9-3b15d373d72f)
2025-04-17 19:23:24,344 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,344 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,344 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.2701
2025-04-17 19:23:24,344 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,344 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,344 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,344 - src.engine.execution_engine - INFO - Executed 0 of 1 orders
2025-04-17 19:23:24,344 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99971.15, Equity: 99971.15
2025-04-17 19:23:24,344 - src.engine.execution_engine - INFO - Remaining pending orders: 1
2025-04-17 19:23:24,344 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:12:00
2025-04-17 19:23:24,344 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:12:00, Close: 521.19
2025-04-17 19:23:24,344 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2740, Slow SMA = 521.2406
2025-04-17 19:23:24,344 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.046747, Curr diff: 0.033413
2025-04-17 19:23:24,344 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:12:00
2025-04-17 19:23:24,344 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,344 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:12:00, Close: 521.19
2025-04-17 19:23:24,344 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2480, Slow SMA = 521.2386
2025-04-17 19:23:24,344 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.033413, Curr diff: 0.009393
2025-04-17 19:23:24,344 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,344 - src.engine.execution_engine - INFO - Processing 1 pending orders for bar: SPY, close=521.19
2025-04-17 19:23:24,344 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99971.15, Equity: 99971.15
2025-04-17 19:23:24,344 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.25, MARKET, ID: ab4baf0e-2ebd-4d0c-b8e9-3b15d373d72f)
2025-04-17 19:23:24,344 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,344 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,344 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.19
2025-04-17 19:23:24,344 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,344 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,344 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,344 - src.engine.execution_engine - INFO - Executed 0 of 1 orders
2025-04-17 19:23:24,344 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99971.15, Equity: 99971.15
2025-04-17 19:23:24,345 - src.engine.execution_engine - INFO - Remaining pending orders: 1
2025-04-17 19:23:24,345 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:13:00
2025-04-17 19:23:24,345 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:13:00, Close: 521.2
2025-04-17 19:23:24,345 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2240, Slow SMA = 521.2373
2025-04-17 19:23:24,345 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.009393, Curr diff: -0.013293
2025-04-17 19:23:24,345 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bearish crossover for SPY @ 2024-03-26 15:13:00
2025-04-17 19:23:24,345 - src.position_management.position_manager - INFO - Position manager received SELL signal for SPY at price 521.2
2025-04-17 19:23:24,345 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: -1
2025-04-17 19:23:24,345 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,345 - src.position_management.position_manager - INFO - Created SHORT position entry action for SPY size 10
2025-04-17 19:23:24,345 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,345 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,345 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,345 - src.engine.execution_engine - INFO - Created order from position action: SPY SELL 10 @ 521.2
2025-04-17 19:23:24,345 - src.engine.execution_engine - INFO - Order received: OrderEvent(SELL 10 SPY @ 521.2, MARKET, ID: b124d67e-c8ed-41d9-a736-1f0863fba0f8)
2025-04-17 19:23:24,345 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(SELL 10 SPY @ 521.2, MARKET, ID: b124d67e-c8ed-41d9-a736-1f0863fba0f8)
2025-04-17 19:23:24,345 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.19
2025-04-17 19:23:24,345 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,345 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,345 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(SELL 10 SPY @ 521.2, MARKET, ID: b124d67e-c8ed-41d9-a736-1f0863fba0f8)
2025-04-17 19:23:24,345 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,345 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,345 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,345 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,345 - __main__ - DEBUG - Signal details: SELL for SPY @ 521.2
2025-04-17 19:23:24,345 - src.rules.rule_base - INFO - Generated SELL signal for SPY @ 521.2
2025-04-17 19:23:24,345 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:13:00
2025-04-17 19:23:24,345 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,345 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:13:00, Close: 521.2
2025-04-17 19:23:24,345 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2100, Slow SMA = 521.2353
2025-04-17 19:23:24,345 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.013293, Curr diff: -0.025313
2025-04-17 19:23:24,345 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,345 - src.engine.execution_engine - INFO - Processing 2 pending orders for bar: SPY, close=521.2
2025-04-17 19:23:24,345 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99971.15, Equity: 99971.15
2025-04-17 19:23:24,345 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.25, MARKET, ID: ab4baf0e-2ebd-4d0c-b8e9-3b15d373d72f)
2025-04-17 19:23:24,345 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,345 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,345 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.2
2025-04-17 19:23:24,345 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,345 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,345 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,345 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.2, MARKET, ID: b124d67e-c8ed-41d9-a736-1f0863fba0f8)
2025-04-17 19:23:24,345 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,345 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,345 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.2
2025-04-17 19:23:24,345 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,345 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,345 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,345 - src.engine.execution_engine - INFO - Executed 0 of 2 orders
2025-04-17 19:23:24,345 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99971.15, Equity: 99971.15
2025-04-17 19:23:24,345 - src.engine.execution_engine - INFO - Remaining pending orders: 2
2025-04-17 19:23:24,345 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:14:00
2025-04-17 19:23:24,345 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:14:00, Close: 521.215
2025-04-17 19:23:24,345 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1990, Slow SMA = 521.2343
2025-04-17 19:23:24,345 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.025313, Curr diff: -0.035333
2025-04-17 19:23:24,345 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:14:00
2025-04-17 19:23:24,345 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,345 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:14:00, Close: 521.215
2025-04-17 19:23:24,345 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2040, Slow SMA = 521.2353
2025-04-17 19:23:24,345 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.035333, Curr diff: -0.031340
2025-04-17 19:23:24,345 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,345 - src.engine.execution_engine - INFO - Processing 2 pending orders for bar: SPY, close=521.215
2025-04-17 19:23:24,345 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99971.15, Equity: 99971.15
2025-04-17 19:23:24,345 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.25, MARKET, ID: ab4baf0e-2ebd-4d0c-b8e9-3b15d373d72f)
2025-04-17 19:23:24,345 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,345 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,345 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.215
2025-04-17 19:23:24,345 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,345 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,345 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,345 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.2, MARKET, ID: b124d67e-c8ed-41d9-a736-1f0863fba0f8)
2025-04-17 19:23:24,345 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,345 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,345 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.215
2025-04-17 19:23:24,345 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,345 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,345 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,345 - src.engine.execution_engine - INFO - Executed 0 of 2 orders
2025-04-17 19:23:24,345 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99971.15, Equity: 99971.15
2025-04-17 19:23:24,345 - src.engine.execution_engine - INFO - Remaining pending orders: 2
2025-04-17 19:23:24,345 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:15:00
2025-04-17 19:23:24,345 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:15:00, Close: 521.19
2025-04-17 19:23:24,345 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2040, Slow SMA = 521.2347
2025-04-17 19:23:24,345 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.031340, Curr diff: -0.030680
2025-04-17 19:23:24,345 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:15:00
2025-04-17 19:23:24,345 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,345 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:15:00, Close: 521.19
2025-04-17 19:23:24,345 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2020, Slow SMA = 521.2333
2025-04-17 19:23:24,345 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.030680, Curr diff: -0.031347
2025-04-17 19:23:24,346 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,346 - src.engine.execution_engine - INFO - Processing 2 pending orders for bar: SPY, close=521.19
2025-04-17 19:23:24,346 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99971.15, Equity: 99971.15
2025-04-17 19:23:24,346 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.25, MARKET, ID: ab4baf0e-2ebd-4d0c-b8e9-3b15d373d72f)
2025-04-17 19:23:24,346 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,346 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,346 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.19
2025-04-17 19:23:24,346 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,346 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,346 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,346 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.2, MARKET, ID: b124d67e-c8ed-41d9-a736-1f0863fba0f8)
2025-04-17 19:23:24,346 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,346 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,346 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.19
2025-04-17 19:23:24,346 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,346 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,346 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,346 - src.engine.execution_engine - INFO - Executed 0 of 2 orders
2025-04-17 19:23:24,346 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99971.15, Equity: 99971.15
2025-04-17 19:23:24,346 - src.engine.execution_engine - INFO - Remaining pending orders: 2
2025-04-17 19:23:24,346 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:16:00
2025-04-17 19:23:24,346 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:16:00, Close: 521.18
2025-04-17 19:23:24,346 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1980, Slow SMA = 521.2313
2025-04-17 19:23:24,346 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.031347, Curr diff: -0.033347
2025-04-17 19:23:24,346 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:16:00
2025-04-17 19:23:24,346 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,346 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:16:00, Close: 521.18
2025-04-17 19:23:24,346 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1910, Slow SMA = 521.2260
2025-04-17 19:23:24,346 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.033347, Curr diff: -0.035013
2025-04-17 19:23:24,346 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,346 - src.engine.execution_engine - INFO - Processing 2 pending orders for bar: SPY, close=521.18
2025-04-17 19:23:24,346 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99971.15, Equity: 99971.15
2025-04-17 19:23:24,346 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.25, MARKET, ID: ab4baf0e-2ebd-4d0c-b8e9-3b15d373d72f)
2025-04-17 19:23:24,346 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,346 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,346 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.18
2025-04-17 19:23:24,346 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,346 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,346 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,346 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.2, MARKET, ID: b124d67e-c8ed-41d9-a736-1f0863fba0f8)
2025-04-17 19:23:24,346 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,346 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,346 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.18
2025-04-17 19:23:24,346 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,346 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,346 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,346 - src.engine.execution_engine - INFO - Executed 0 of 2 orders
2025-04-17 19:23:24,346 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99971.15, Equity: 99971.15
2025-04-17 19:23:24,346 - src.engine.execution_engine - INFO - Remaining pending orders: 2
2025-04-17 19:23:24,346 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:17:00
2025-04-17 19:23:24,346 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:17:00, Close: 521.21
2025-04-17 19:23:24,346 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1900, Slow SMA = 521.2227
2025-04-17 19:23:24,346 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.035013, Curr diff: -0.032680
2025-04-17 19:23:24,346 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:17:00
2025-04-17 19:23:24,346 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,346 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:17:00, Close: 521.21
2025-04-17 19:23:24,346 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1940, Slow SMA = 521.2153
2025-04-17 19:23:24,346 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.032680, Curr diff: -0.021347
2025-04-17 19:23:24,346 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,346 - src.engine.execution_engine - INFO - Processing 2 pending orders for bar: SPY, close=521.21
2025-04-17 19:23:24,346 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99971.15, Equity: 99971.15
2025-04-17 19:23:24,346 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.25, MARKET, ID: ab4baf0e-2ebd-4d0c-b8e9-3b15d373d72f)
2025-04-17 19:23:24,346 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,346 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,346 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.21
2025-04-17 19:23:24,346 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,346 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,346 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,346 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.2, MARKET, ID: b124d67e-c8ed-41d9-a736-1f0863fba0f8)
2025-04-17 19:23:24,346 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,346 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,346 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.21
2025-04-17 19:23:24,346 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,346 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,346 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,346 - src.engine.execution_engine - INFO - Executed 0 of 2 orders
2025-04-17 19:23:24,346 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99971.15, Equity: 99971.15
2025-04-17 19:23:24,346 - src.engine.execution_engine - INFO - Remaining pending orders: 2
2025-04-17 19:23:24,346 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:18:00
2025-04-17 19:23:24,346 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:18:00, Close: 521.29
2025-04-17 19:23:24,346 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2140, Slow SMA = 521.2133
2025-04-17 19:23:24,346 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.021347, Curr diff: 0.000653
2025-04-17 19:23:24,346 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bullish crossover for SPY @ 2024-03-26 15:18:00
2025-04-17 19:23:24,346 - src.position_management.position_manager - INFO - Position manager received BUY signal for SPY at price 521.29
2025-04-17 19:23:24,346 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: 1
2025-04-17 19:23:24,346 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,346 - src.position_management.position_manager - INFO - Created LONG position entry action for SPY size 10
2025-04-17 19:23:24,346 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,346 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,346 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,346 - src.engine.execution_engine - INFO - Created order from position action: SPY BUY 10 @ 521.29
2025-04-17 19:23:24,347 - src.engine.execution_engine - INFO - Order received: OrderEvent(BUY 10 SPY @ 521.29, MARKET, ID: a22578eb-b143-4267-963a-75509ad8cac4)
2025-04-17 19:23:24,347 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(BUY 10 SPY @ 521.29, MARKET, ID: a22578eb-b143-4267-963a-75509ad8cac4)
2025-04-17 19:23:24,347 - src.engine.execution_engine - INFO - Executing BUY order: 10 shares at 521.21
2025-04-17 19:23:24,347 - src.position_management.position - INFO - Position opened: 67f22fc5-0d7a-4c92-97aa-fa14f11f83b5 SPY LONG 10 @ 521.21
2025-04-17 19:23:24,347 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,347 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,347 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,347 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(BUY 10 SPY @ 521.21, cost=0.00)
2025-04-17 19:23:24,347 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(BUY 10 SPY @ 521.29, MARKET, ID: a22578eb-b143-4267-963a-75509ad8cac4)
2025-04-17 19:23:24,347 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,347 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,347 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,347 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,347 - __main__ - DEBUG - Signal details: BUY for SPY @ 521.29
2025-04-17 19:23:24,347 - src.rules.rule_base - INFO - Generated BUY signal for SPY @ 521.29
2025-04-17 19:23:24,347 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:18:00
2025-04-17 19:23:24,347 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,347 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:18:00, Close: 521.29
2025-04-17 19:23:24,347 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2360, Slow SMA = 521.2147
2025-04-17 19:23:24,347 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.000653, Curr diff: 0.021327
2025-04-17 19:23:24,347 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,347 - src.engine.execution_engine - INFO - Processing 2 pending orders for bar: SPY, close=521.29
2025-04-17 19:23:24,347 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 89546.95, Equity: 94759.85
2025-04-17 19:23:24,347 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.25, MARKET, ID: ab4baf0e-2ebd-4d0c-b8e9-3b15d373d72f)
2025-04-17 19:23:24,347 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,347 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,347 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.29
2025-04-17 19:23:24,347 - src.position_management.position - INFO - Position closed: 67f22fc5-0d7a-4c92-97aa-fa14f11f83b5 SPY LONG 10 @ 521.29 P&L: 0.80
2025-04-17 19:23:24,347 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,347 - src.position_management.portfolio - INFO - Position closed: 67f22fc5-0d7a-4c92-97aa-fa14f11f83b5 SPY PnL: 0.80
2025-04-17 19:23:24,347 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,347 - src.engine.execution_engine - INFO - Commission charged: 5.21, remaining cash: 99967.53
2025-04-17 19:23:24,347 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,347 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,347 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(SELL 10 SPY @ 521.29, cost=5.21)
2025-04-17 19:23:24,347 - src.engine.execution_engine - INFO - Order executed successfully, Fill price: 521.29
2025-04-17 19:23:24,347 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.2, MARKET, ID: b124d67e-c8ed-41d9-a736-1f0863fba0f8)
2025-04-17 19:23:24,347 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,347 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,347 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.29
2025-04-17 19:23:24,347 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,347 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,347 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,347 - src.engine.execution_engine - INFO - Executed 1 of 2 orders
2025-04-17 19:23:24,347 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99967.53, Equity: 99972.75
2025-04-17 19:23:24,347 - src.engine.execution_engine - INFO - Remaining pending orders: 1
2025-04-17 19:23:24,347 - src.engine.backtester - DEBUG - Executed 1 fills
2025-04-17 19:23:24,347 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:19:00
2025-04-17 19:23:24,347 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:19:00, Close: 521.21
2025-04-17 19:23:24,347 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2420, Slow SMA = 521.2107
2025-04-17 19:23:24,347 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.021327, Curr diff: 0.031333
2025-04-17 19:23:24,347 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:19:00
2025-04-17 19:23:24,347 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,347 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:19:00, Close: 521.21
2025-04-17 19:23:24,347 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2420, Slow SMA = 521.2120
2025-04-17 19:23:24,347 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.031333, Curr diff: 0.030000
2025-04-17 19:23:24,347 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,347 - src.engine.execution_engine - INFO - Processing 1 pending orders for bar: SPY, close=521.21
2025-04-17 19:23:24,347 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99967.53, Equity: 99967.53
2025-04-17 19:23:24,347 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.2, MARKET, ID: b124d67e-c8ed-41d9-a736-1f0863fba0f8)
2025-04-17 19:23:24,347 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,347 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,347 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.21
2025-04-17 19:23:24,347 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,347 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,347 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,347 - src.engine.execution_engine - INFO - Executed 0 of 1 orders
2025-04-17 19:23:24,347 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99967.53, Equity: 99967.53
2025-04-17 19:23:24,347 - src.engine.execution_engine - INFO - Remaining pending orders: 1
2025-04-17 19:23:24,347 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:20:00
2025-04-17 19:23:24,347 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:20:00, Close: 521.1801
2025-04-17 19:23:24,347 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2360, Slow SMA = 521.2113
2025-04-17 19:23:24,347 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.030000, Curr diff: 0.024680
2025-04-17 19:23:24,347 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:20:00
2025-04-17 19:23:24,347 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,347 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:20:00, Close: 521.1801
2025-04-17 19:23:24,347 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2140, Slow SMA = 521.2100
2025-04-17 19:23:24,347 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.024680, Curr diff: 0.004027
2025-04-17 19:23:24,347 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,347 - src.engine.execution_engine - INFO - Processing 1 pending orders for bar: SPY, close=521.1801
2025-04-17 19:23:24,347 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99967.53, Equity: 99967.53
2025-04-17 19:23:24,347 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.2, MARKET, ID: b124d67e-c8ed-41d9-a736-1f0863fba0f8)
2025-04-17 19:23:24,347 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,347 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,347 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.1801
2025-04-17 19:23:24,347 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,347 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,347 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,347 - src.engine.execution_engine - INFO - Executed 0 of 1 orders
2025-04-17 19:23:24,347 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99967.53, Equity: 99967.53
2025-04-17 19:23:24,347 - src.engine.execution_engine - INFO - Remaining pending orders: 1
2025-04-17 19:23:24,348 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:21:00
2025-04-17 19:23:24,348 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:21:00, Close: 521.285
2025-04-17 19:23:24,348 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2130, Slow SMA = 521.2157
2025-04-17 19:23:24,348 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.004027, Curr diff: -0.002640
2025-04-17 19:23:24,348 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bearish crossover for SPY @ 2024-03-26 15:21:00
2025-04-17 19:23:24,348 - src.position_management.position_manager - INFO - Position manager received SELL signal for SPY at price 521.285
2025-04-17 19:23:24,348 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: -1
2025-04-17 19:23:24,348 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,348 - src.position_management.position_manager - INFO - Created SHORT position entry action for SPY size 10
2025-04-17 19:23:24,348 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,348 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,348 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,348 - src.engine.execution_engine - INFO - Created order from position action: SPY SELL 10 @ 521.285
2025-04-17 19:23:24,348 - src.engine.execution_engine - INFO - Order received: OrderEvent(SELL 10 SPY @ 521.285, MARKET, ID: e33e85a8-8289-4eea-ad60-c3bbce55da94)
2025-04-17 19:23:24,348 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(SELL 10 SPY @ 521.285, MARKET, ID: e33e85a8-8289-4eea-ad60-c3bbce55da94)
2025-04-17 19:23:24,348 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.1801
2025-04-17 19:23:24,348 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,348 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,348 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(SELL 10 SPY @ 521.285, MARKET, ID: e33e85a8-8289-4eea-ad60-c3bbce55da94)
2025-04-17 19:23:24,348 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,348 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,348 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,348 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,348 - __main__ - DEBUG - Signal details: SELL for SPY @ 521.285
2025-04-17 19:23:24,348 - src.rules.rule_base - INFO - Generated SELL signal for SPY @ 521.285
2025-04-17 19:23:24,348 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:21:00
2025-04-17 19:23:24,348 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,348 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:21:00, Close: 521.285
2025-04-17 19:23:24,348 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2280, Slow SMA = 521.2203
2025-04-17 19:23:24,348 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.002640, Curr diff: 0.007693
2025-04-17 19:23:24,348 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bullish crossover for SPY @ 2024-03-26 15:21:00
2025-04-17 19:23:24,348 - src.position_management.position_manager - INFO - Position manager received BUY signal for SPY at price 521.285
2025-04-17 19:23:24,348 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: 1
2025-04-17 19:23:24,348 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,348 - src.position_management.position_manager - INFO - Created LONG position entry action for SPY size 10
2025-04-17 19:23:24,348 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,348 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,348 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,348 - src.engine.execution_engine - INFO - Created order from position action: SPY BUY 10 @ 521.285
2025-04-17 19:23:24,348 - src.engine.execution_engine - INFO - Order received: OrderEvent(BUY 10 SPY @ 521.285, MARKET, ID: 33b8fbec-7043-4652-bbc8-39a2710add82)
2025-04-17 19:23:24,348 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(BUY 10 SPY @ 521.285, MARKET, ID: 33b8fbec-7043-4652-bbc8-39a2710add82)
2025-04-17 19:23:24,348 - src.engine.execution_engine - INFO - Executing BUY order: 10 shares at 521.1801
2025-04-17 19:23:24,348 - src.position_management.position - INFO - Position opened: 182ca61d-fe89-404d-a2d6-47c8f0124576 SPY LONG 10 @ 521.1801
2025-04-17 19:23:24,348 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,348 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,348 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,348 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(BUY 10 SPY @ 521.1801, cost=0.00)
2025-04-17 19:23:24,348 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(BUY 10 SPY @ 521.285, MARKET, ID: 33b8fbec-7043-4652-bbc8-39a2710add82)
2025-04-17 19:23:24,348 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,348 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,348 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,348 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,348 - __main__ - DEBUG - Signal details: BUY for SPY @ 521.285
2025-04-17 19:23:24,348 - src.rules.rule_base - INFO - Generated BUY signal for SPY @ 521.285
2025-04-17 19:23:24,348 - src.engine.backtester - DEBUG - Emitting signal from strategy: SignalEvent(BUY, SPY, price=521.285)
2025-04-17 19:23:24,348 - src.engine.backtester - DEBUG - Emitted signal event: BUY for SPY
2025-04-17 19:23:24,348 - src.position_management.position_manager - INFO - Position manager received BUY signal for SPY at price 521.285
2025-04-17 19:23:24,348 - src.position_management.position_manager - INFO - Current net position for SPY: 10, direction: 1
2025-04-17 19:23:24,348 - src.position_management.position_manager - INFO - Already have position in LONG direction - skipping
2025-04-17 19:23:24,348 - src.position_management.position_manager - INFO - No position actions created from signal
2025-04-17 19:23:24,348 - src.engine.backtester - DEBUG - Event flow: SIGNAL event received
2025-04-17 19:23:24,348 - src.engine.backtester - DEBUG - Signal: BUY for SPY at 521.285
2025-04-17 19:23:24,348 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,348 - src.engine.execution_engine - INFO - Processing 2 pending orders for bar: SPY, close=521.285
2025-04-17 19:23:24,348 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 89543.93, Equity: 94756.78
2025-04-17 19:23:24,348 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.2, MARKET, ID: b124d67e-c8ed-41d9-a736-1f0863fba0f8)
2025-04-17 19:23:24,348 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,348 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,348 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.285
2025-04-17 19:23:24,348 - src.position_management.position - INFO - Position closed: 182ca61d-fe89-404d-a2d6-47c8f0124576 SPY LONG 10 @ 521.285 P&L: 1.05
2025-04-17 19:23:24,348 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,348 - src.position_management.portfolio - INFO - Position closed: 182ca61d-fe89-404d-a2d6-47c8f0124576 SPY PnL: 1.05
2025-04-17 19:23:24,348 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,348 - src.engine.execution_engine - INFO - Commission charged: 5.21, remaining cash: 99964.42
2025-04-17 19:23:24,348 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,348 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,348 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(SELL 10 SPY @ 521.285, cost=5.21)
2025-04-17 19:23:24,348 - src.engine.execution_engine - INFO - Order executed successfully, Fill price: 521.28
2025-04-17 19:23:24,348 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.285, MARKET, ID: e33e85a8-8289-4eea-ad60-c3bbce55da94)
2025-04-17 19:23:24,348 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,348 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,348 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.285
2025-04-17 19:23:24,348 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,348 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,348 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,348 - src.engine.execution_engine - INFO - Executed 1 of 2 orders
2025-04-17 19:23:24,348 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99964.42, Equity: 99969.63
2025-04-17 19:23:24,348 - src.engine.execution_engine - INFO - Remaining pending orders: 1
2025-04-17 19:23:24,348 - src.engine.backtester - DEBUG - Executed 1 fills
2025-04-17 19:23:24,348 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:22:00
2025-04-17 19:23:24,348 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:22:00, Close: 521.3
2025-04-17 19:23:24,349 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2460, Slow SMA = 521.2260
2025-04-17 19:23:24,349 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.007693, Curr diff: 0.020027
2025-04-17 19:23:24,349 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:22:00
2025-04-17 19:23:24,349 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,349 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:22:00, Close: 521.3
2025-04-17 19:23:24,349 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2700, Slow SMA = 521.2333
2025-04-17 19:23:24,349 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.020027, Curr diff: 0.036673
2025-04-17 19:23:24,349 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,349 - src.engine.execution_engine - INFO - Processing 1 pending orders for bar: SPY, close=521.3
2025-04-17 19:23:24,349 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99964.42, Equity: 99964.42
2025-04-17 19:23:24,349 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.285, MARKET, ID: e33e85a8-8289-4eea-ad60-c3bbce55da94)
2025-04-17 19:23:24,349 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,349 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,349 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.3
2025-04-17 19:23:24,349 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,349 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,349 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,349 - src.engine.execution_engine - INFO - Executed 0 of 1 orders
2025-04-17 19:23:24,349 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99964.42, Equity: 99964.42
2025-04-17 19:23:24,349 - src.engine.execution_engine - INFO - Remaining pending orders: 1
2025-04-17 19:23:24,349 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:23:00
2025-04-17 19:23:24,349 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:23:00, Close: 521.32
2025-04-17 19:23:24,349 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2980, Slow SMA = 521.2420
2025-04-17 19:23:24,349 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.036673, Curr diff: 0.055987
2025-04-17 19:23:24,349 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:23:00
2025-04-17 19:23:24,349 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,349 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:23:00, Close: 521.32
2025-04-17 19:23:24,349 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3050, Slow SMA = 521.2513
2025-04-17 19:23:24,349 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.055987, Curr diff: 0.053653
2025-04-17 19:23:24,349 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,349 - src.engine.execution_engine - INFO - Processing 1 pending orders for bar: SPY, close=521.32
2025-04-17 19:23:24,349 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99964.42, Equity: 99964.42
2025-04-17 19:23:24,349 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.285, MARKET, ID: e33e85a8-8289-4eea-ad60-c3bbce55da94)
2025-04-17 19:23:24,349 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,349 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,349 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.32
2025-04-17 19:23:24,349 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,349 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,349 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,349 - src.engine.execution_engine - INFO - Executed 0 of 1 orders
2025-04-17 19:23:24,349 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99964.42, Equity: 99964.42
2025-04-17 19:23:24,349 - src.engine.execution_engine - INFO - Remaining pending orders: 1
2025-04-17 19:23:24,349 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:24:00
2025-04-17 19:23:24,349 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:24:00, Close: 521.28
2025-04-17 19:23:24,349 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3040, Slow SMA = 521.2580
2025-04-17 19:23:24,349 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.053653, Curr diff: 0.045987
2025-04-17 19:23:24,349 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:24:00
2025-04-17 19:23:24,349 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,349 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:24:00, Close: 521.28
2025-04-17 19:23:24,349 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3000, Slow SMA = 521.2627
2025-04-17 19:23:24,349 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.045987, Curr diff: 0.037320
2025-04-17 19:23:24,349 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,349 - src.engine.execution_engine - INFO - Processing 1 pending orders for bar: SPY, close=521.28
2025-04-17 19:23:24,349 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99964.42, Equity: 99964.42
2025-04-17 19:23:24,349 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.285, MARKET, ID: e33e85a8-8289-4eea-ad60-c3bbce55da94)
2025-04-17 19:23:24,349 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,349 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,349 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.28
2025-04-17 19:23:24,349 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,349 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,349 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,349 - src.engine.execution_engine - INFO - Executed 0 of 1 orders
2025-04-17 19:23:24,349 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99964.42, Equity: 99964.42
2025-04-17 19:23:24,349 - src.engine.execution_engine - INFO - Remaining pending orders: 1
2025-04-17 19:23:24,349 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:25:00
2025-04-17 19:23:24,349 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:25:00, Close: 521.3775
2025-04-17 19:23:24,349 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3155, Slow SMA = 521.2738
2025-04-17 19:23:24,349 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.037320, Curr diff: 0.041653
2025-04-17 19:23:24,349 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:25:00
2025-04-17 19:23:24,349 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,349 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:25:00, Close: 521.3775
2025-04-17 19:23:24,349 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3270, Slow SMA = 521.2797
2025-04-17 19:23:24,349 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.041653, Curr diff: 0.047320
2025-04-17 19:23:24,349 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,349 - src.engine.execution_engine - INFO - Processing 1 pending orders for bar: SPY, close=521.3775
2025-04-17 19:23:24,349 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99964.42, Equity: 99964.42
2025-04-17 19:23:24,349 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.285, MARKET, ID: e33e85a8-8289-4eea-ad60-c3bbce55da94)
2025-04-17 19:23:24,349 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,349 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,349 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.3775
2025-04-17 19:23:24,349 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,349 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,349 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,349 - src.engine.execution_engine - INFO - Executed 0 of 1 orders
2025-04-17 19:23:24,349 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99964.42, Equity: 99964.42
2025-04-17 19:23:24,349 - src.engine.execution_engine - INFO - Remaining pending orders: 1
2025-04-17 19:23:24,350 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:26:00
2025-04-17 19:23:24,350 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:26:00, Close: 521.35
2025-04-17 19:23:24,350 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3330, Slow SMA = 521.2837
2025-04-17 19:23:24,350 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.047320, Curr diff: 0.049320
2025-04-17 19:23:24,350 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:26:00
2025-04-17 19:23:24,350 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,350 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:26:00, Close: 521.35
2025-04-17 19:23:24,350 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3470, Slow SMA = 521.2930
2025-04-17 19:23:24,350 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.049320, Curr diff: 0.053987
2025-04-17 19:23:24,350 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,350 - src.engine.execution_engine - INFO - Processing 1 pending orders for bar: SPY, close=521.35
2025-04-17 19:23:24,350 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99964.42, Equity: 99964.42
2025-04-17 19:23:24,350 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.285, MARKET, ID: e33e85a8-8289-4eea-ad60-c3bbce55da94)
2025-04-17 19:23:24,350 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,350 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,350 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.35
2025-04-17 19:23:24,350 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,350 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,350 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,350 - src.engine.execution_engine - INFO - Executed 0 of 1 orders
2025-04-17 19:23:24,350 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99964.42, Equity: 99964.42
2025-04-17 19:23:24,350 - src.engine.execution_engine - INFO - Remaining pending orders: 1
2025-04-17 19:23:24,350 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:27:00
2025-04-17 19:23:24,350 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:27:00, Close: 521.33
2025-04-17 19:23:24,350 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3570, Slow SMA = 521.3010
2025-04-17 19:23:24,350 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.053987, Curr diff: 0.055987
2025-04-17 19:23:24,350 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:27:00
2025-04-17 19:23:24,350 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,350 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:27:00, Close: 521.33
2025-04-17 19:23:24,350 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3475, Slow SMA = 521.3110
2025-04-17 19:23:24,350 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.055987, Curr diff: 0.036493
2025-04-17 19:23:24,350 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,350 - src.engine.execution_engine - INFO - Processing 1 pending orders for bar: SPY, close=521.33
2025-04-17 19:23:24,350 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99964.42, Equity: 99964.42
2025-04-17 19:23:24,350 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.285, MARKET, ID: e33e85a8-8289-4eea-ad60-c3bbce55da94)
2025-04-17 19:23:24,350 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,350 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,350 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.33
2025-04-17 19:23:24,350 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,350 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,350 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,350 - src.engine.execution_engine - INFO - Executed 0 of 1 orders
2025-04-17 19:23:24,350 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99964.42, Equity: 99964.42
2025-04-17 19:23:24,350 - src.engine.execution_engine - INFO - Remaining pending orders: 1
2025-04-17 19:23:24,350 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:28:00
2025-04-17 19:23:24,350 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:28:00, Close: 521.35
2025-04-17 19:23:24,350 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3420, Slow SMA = 521.3223
2025-04-17 19:23:24,350 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.036493, Curr diff: 0.019667
2025-04-17 19:23:24,350 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:28:00
2025-04-17 19:23:24,350 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,350 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:28:00, Close: 521.35
2025-04-17 19:23:24,350 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3420, Slow SMA = 521.3267
2025-04-17 19:23:24,350 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.019667, Curr diff: 0.015333
2025-04-17 19:23:24,350 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,350 - src.engine.execution_engine - INFO - Processing 1 pending orders for bar: SPY, close=521.35
2025-04-17 19:23:24,350 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99964.42, Equity: 99964.42
2025-04-17 19:23:24,350 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.285, MARKET, ID: e33e85a8-8289-4eea-ad60-c3bbce55da94)
2025-04-17 19:23:24,350 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,350 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,350 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.35
2025-04-17 19:23:24,350 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,350 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,350 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,350 - src.engine.execution_engine - INFO - Executed 0 of 1 orders
2025-04-17 19:23:24,350 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99964.42, Equity: 99964.42
2025-04-17 19:23:24,350 - src.engine.execution_engine - INFO - Remaining pending orders: 1
2025-04-17 19:23:24,350 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:29:00
2025-04-17 19:23:24,350 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:29:00, Close: 521.28
2025-04-17 19:23:24,350 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3280, Slow SMA = 521.3263
2025-04-17 19:23:24,350 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.015333, Curr diff: 0.001667
2025-04-17 19:23:24,350 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:29:00
2025-04-17 19:23:24,350 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,350 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:29:00, Close: 521.28
2025-04-17 19:23:24,350 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3180, Slow SMA = 521.3250
2025-04-17 19:23:24,350 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.001667, Curr diff: -0.007000
2025-04-17 19:23:24,350 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bearish crossover for SPY @ 2024-03-26 15:29:00
2025-04-17 19:23:24,350 - src.position_management.position_manager - INFO - Position manager received SELL signal for SPY at price 521.28
2025-04-17 19:23:24,350 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: -1
2025-04-17 19:23:24,350 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,350 - src.position_management.position_manager - INFO - Created SHORT position entry action for SPY size 10
2025-04-17 19:23:24,350 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,350 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,350 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,350 - src.engine.execution_engine - INFO - Created order from position action: SPY SELL 10 @ 521.28
2025-04-17 19:23:24,350 - src.engine.execution_engine - INFO - Order received: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 683b8de6-c57a-4a8b-b98c-581f10b680dc)
2025-04-17 19:23:24,350 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 683b8de6-c57a-4a8b-b98c-581f10b680dc)
2025-04-17 19:23:24,351 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.35
2025-04-17 19:23:24,351 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,351 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,351 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 683b8de6-c57a-4a8b-b98c-581f10b680dc)
2025-04-17 19:23:24,351 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,351 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,351 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,351 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,351 - __main__ - DEBUG - Signal details: SELL for SPY @ 521.28
2025-04-17 19:23:24,351 - src.rules.rule_base - INFO - Generated SELL signal for SPY @ 521.28
2025-04-17 19:23:24,351 - src.engine.backtester - DEBUG - Emitting signal from strategy: SignalEvent(SELL, SPY, price=521.28)
2025-04-17 19:23:24,351 - src.engine.backtester - DEBUG - Emitted signal event: SELL for SPY
2025-04-17 19:23:24,351 - src.position_management.position_manager - INFO - Position manager received SELL signal for SPY at price 521.28
2025-04-17 19:23:24,351 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: -1
2025-04-17 19:23:24,351 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,351 - src.position_management.position_manager - INFO - Created SHORT position entry action for SPY size 10
2025-04-17 19:23:24,351 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,351 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,351 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,351 - src.engine.execution_engine - INFO - Created order from position action: SPY SELL 10 @ 521.28
2025-04-17 19:23:24,351 - src.engine.execution_engine - INFO - Order received: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 69cac5b8-d90e-400d-9751-c452ab88aa08)
2025-04-17 19:23:24,351 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 69cac5b8-d90e-400d-9751-c452ab88aa08)
2025-04-17 19:23:24,351 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.35
2025-04-17 19:23:24,351 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,351 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,351 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 69cac5b8-d90e-400d-9751-c452ab88aa08)
2025-04-17 19:23:24,351 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,351 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,351 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,351 - src.engine.backtester - DEBUG - Event flow: SIGNAL event received
2025-04-17 19:23:24,351 - src.engine.backtester - DEBUG - Signal: SELL for SPY at 521.28
2025-04-17 19:23:24,351 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,351 - src.engine.execution_engine - INFO - Processing 3 pending orders for bar: SPY, close=521.28
2025-04-17 19:23:24,351 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99964.42, Equity: 99964.42
2025-04-17 19:23:24,351 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.285, MARKET, ID: e33e85a8-8289-4eea-ad60-c3bbce55da94)
2025-04-17 19:23:24,351 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,351 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,351 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.28
2025-04-17 19:23:24,351 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,351 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,351 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,351 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 683b8de6-c57a-4a8b-b98c-581f10b680dc)
2025-04-17 19:23:24,351 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,351 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,351 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.28
2025-04-17 19:23:24,351 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,351 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,351 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,351 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 69cac5b8-d90e-400d-9751-c452ab88aa08)
2025-04-17 19:23:24,351 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,351 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,351 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.28
2025-04-17 19:23:24,351 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,351 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,351 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,351 - src.engine.execution_engine - INFO - Executed 0 of 3 orders
2025-04-17 19:23:24,351 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99964.42, Equity: 99964.42
2025-04-17 19:23:24,351 - src.engine.execution_engine - INFO - Remaining pending orders: 3
2025-04-17 19:23:24,351 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:30:00
2025-04-17 19:23:24,351 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:30:00, Close: 521.2999
2025-04-17 19:23:24,351 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3120, Slow SMA = 521.3250
2025-04-17 19:23:24,351 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.007000, Curr diff: -0.013013
2025-04-17 19:23:24,351 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:30:00
2025-04-17 19:23:24,351 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,351 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:30:00, Close: 521.2999
2025-04-17 19:23:24,351 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3020, Slow SMA = 521.3237
2025-04-17 19:23:24,351 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.013013, Curr diff: -0.021693
2025-04-17 19:23:24,351 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,351 - src.engine.execution_engine - INFO - Processing 3 pending orders for bar: SPY, close=521.2999
2025-04-17 19:23:24,351 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99964.42, Equity: 99964.42
2025-04-17 19:23:24,351 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.285, MARKET, ID: e33e85a8-8289-4eea-ad60-c3bbce55da94)
2025-04-17 19:23:24,351 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,351 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,351 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.2999
2025-04-17 19:23:24,351 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,351 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,351 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,351 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 683b8de6-c57a-4a8b-b98c-581f10b680dc)
2025-04-17 19:23:24,351 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,351 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,351 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.2999
2025-04-17 19:23:24,351 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,351 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,351 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,351 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 69cac5b8-d90e-400d-9751-c452ab88aa08)
2025-04-17 19:23:24,351 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,351 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,351 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.2999
2025-04-17 19:23:24,351 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,351 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,351 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,351 - src.engine.execution_engine - INFO - Executed 0 of 3 orders
2025-04-17 19:23:24,351 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99964.42, Equity: 99964.42
2025-04-17 19:23:24,351 - src.engine.execution_engine - INFO - Remaining pending orders: 3
2025-04-17 19:23:24,351 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:31:00
2025-04-17 19:23:24,351 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:31:00, Close: 521.19
2025-04-17 19:23:24,351 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2700, Slow SMA = 521.3150
2025-04-17 19:23:24,351 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.021693, Curr diff: -0.045027
2025-04-17 19:23:24,351 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:31:00
2025-04-17 19:23:24,351 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,351 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:31:00, Close: 521.19
2025-04-17 19:23:24,351 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2520, Slow SMA = 521.3090
2025-04-17 19:23:24,352 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.045027, Curr diff: -0.057027
2025-04-17 19:23:24,352 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,352 - src.engine.execution_engine - INFO - Processing 3 pending orders for bar: SPY, close=521.19
2025-04-17 19:23:24,352 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99964.42, Equity: 99964.42
2025-04-17 19:23:24,352 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.285, MARKET, ID: e33e85a8-8289-4eea-ad60-c3bbce55da94)
2025-04-17 19:23:24,352 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,352 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,352 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.19
2025-04-17 19:23:24,352 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,352 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,352 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,352 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 683b8de6-c57a-4a8b-b98c-581f10b680dc)
2025-04-17 19:23:24,352 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,352 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,352 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.19
2025-04-17 19:23:24,352 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,352 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,352 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,352 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 69cac5b8-d90e-400d-9751-c452ab88aa08)
2025-04-17 19:23:24,352 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,352 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,352 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.19
2025-04-17 19:23:24,352 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,352 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,352 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,352 - src.engine.execution_engine - INFO - Executed 0 of 3 orders
2025-04-17 19:23:24,352 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99964.42, Equity: 99964.42
2025-04-17 19:23:24,352 - src.engine.execution_engine - INFO - Remaining pending orders: 3
2025-04-17 19:23:24,352 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:32:00
2025-04-17 19:23:24,352 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:32:00, Close: 521.24
2025-04-17 19:23:24,352 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2440, Slow SMA = 521.3063
2025-04-17 19:23:24,352 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.057027, Curr diff: -0.062360
2025-04-17 19:23:24,352 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:32:00
2025-04-17 19:23:24,352 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,352 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:32:00, Close: 521.24
2025-04-17 19:23:24,352 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2320, Slow SMA = 521.2972
2025-04-17 19:23:24,352 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.062360, Curr diff: -0.065173
2025-04-17 19:23:24,352 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,352 - src.engine.execution_engine - INFO - Processing 3 pending orders for bar: SPY, close=521.24
2025-04-17 19:23:24,352 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99964.42, Equity: 99964.42
2025-04-17 19:23:24,352 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.285, MARKET, ID: e33e85a8-8289-4eea-ad60-c3bbce55da94)
2025-04-17 19:23:24,352 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,352 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,352 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.24
2025-04-17 19:23:24,352 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,352 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,352 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,352 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 683b8de6-c57a-4a8b-b98c-581f10b680dc)
2025-04-17 19:23:24,352 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,352 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,352 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.24
2025-04-17 19:23:24,352 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,352 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,352 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,352 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 69cac5b8-d90e-400d-9751-c452ab88aa08)
2025-04-17 19:23:24,352 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,352 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,352 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.24
2025-04-17 19:23:24,352 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,352 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,352 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,352 - src.engine.execution_engine - INFO - Executed 0 of 3 orders
2025-04-17 19:23:24,352 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99964.42, Equity: 99964.42
2025-04-17 19:23:24,352 - src.engine.execution_engine - INFO - Remaining pending orders: 3
2025-04-17 19:23:24,352 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:33:00
2025-04-17 19:23:24,352 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:33:00, Close: 521.285
2025-04-17 19:23:24,352 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2290, Slow SMA = 521.2910
2025-04-17 19:23:24,352 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.065173, Curr diff: -0.061987
2025-04-17 19:23:24,352 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:33:00
2025-04-17 19:23:24,352 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,352 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:33:00, Close: 521.285
2025-04-17 19:23:24,352 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2480, Slow SMA = 521.2867
2025-04-17 19:23:24,352 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.061987, Curr diff: -0.038653
2025-04-17 19:23:24,352 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,352 - src.engine.execution_engine - INFO - Processing 3 pending orders for bar: SPY, close=521.285
2025-04-17 19:23:24,352 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99964.42, Equity: 99964.42
2025-04-17 19:23:24,352 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.285, MARKET, ID: e33e85a8-8289-4eea-ad60-c3bbce55da94)
2025-04-17 19:23:24,352 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,352 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,352 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.285
2025-04-17 19:23:24,352 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,352 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,352 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,352 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 683b8de6-c57a-4a8b-b98c-581f10b680dc)
2025-04-17 19:23:24,352 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,352 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,352 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.285
2025-04-17 19:23:24,352 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,352 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,352 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,352 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 69cac5b8-d90e-400d-9751-c452ab88aa08)
2025-04-17 19:23:24,352 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,352 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,352 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.285
2025-04-17 19:23:24,352 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,352 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,352 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,352 - src.engine.execution_engine - INFO - Executed 0 of 3 orders
2025-04-17 19:23:24,352 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99964.42, Equity: 99964.42
2025-04-17 19:23:24,352 - src.engine.execution_engine - INFO - Remaining pending orders: 3
2025-04-17 19:23:24,353 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:34:00
2025-04-17 19:23:24,353 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:34:00, Close: 521.25
2025-04-17 19:23:24,353 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2600, Slow SMA = 521.2800
2025-04-17 19:23:24,353 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.038653, Curr diff: -0.019987
2025-04-17 19:23:24,353 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:34:00
2025-04-17 19:23:24,353 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,353 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:34:00, Close: 521.25
2025-04-17 19:23:24,353 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2620, Slow SMA = 521.2747
2025-04-17 19:23:24,353 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.019987, Curr diff: -0.012653
2025-04-17 19:23:24,353 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,353 - src.engine.execution_engine - INFO - Processing 3 pending orders for bar: SPY, close=521.25
2025-04-17 19:23:24,353 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99964.42, Equity: 99964.42
2025-04-17 19:23:24,353 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.285, MARKET, ID: e33e85a8-8289-4eea-ad60-c3bbce55da94)
2025-04-17 19:23:24,353 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,353 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,353 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.25
2025-04-17 19:23:24,353 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,353 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,353 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,353 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 683b8de6-c57a-4a8b-b98c-581f10b680dc)
2025-04-17 19:23:24,353 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,353 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,353 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.25
2025-04-17 19:23:24,353 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,353 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,353 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,353 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 69cac5b8-d90e-400d-9751-c452ab88aa08)
2025-04-17 19:23:24,353 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,353 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,353 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.25
2025-04-17 19:23:24,353 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,353 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,353 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,353 - src.engine.execution_engine - INFO - Executed 0 of 3 orders
2025-04-17 19:23:24,353 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99964.42, Equity: 99964.42
2025-04-17 19:23:24,353 - src.engine.execution_engine - INFO - Remaining pending orders: 3
2025-04-17 19:23:24,353 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:35:00
2025-04-17 19:23:24,353 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:35:00, Close: 521.26
2025-04-17 19:23:24,353 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2660, Slow SMA = 521.2700
2025-04-17 19:23:24,353 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.012653, Curr diff: -0.003987
2025-04-17 19:23:24,353 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:35:00
2025-04-17 19:23:24,353 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,353 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:35:00, Close: 521.26
2025-04-17 19:23:24,353 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2610, Slow SMA = 521.2640
2025-04-17 19:23:24,353 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.003987, Curr diff: -0.002987
2025-04-17 19:23:24,353 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,353 - src.engine.execution_engine - INFO - Processing 3 pending orders for bar: SPY, close=521.26
2025-04-17 19:23:24,353 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99964.42, Equity: 99964.42
2025-04-17 19:23:24,353 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.285, MARKET, ID: e33e85a8-8289-4eea-ad60-c3bbce55da94)
2025-04-17 19:23:24,353 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,353 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,353 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.26
2025-04-17 19:23:24,353 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,353 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,353 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,353 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 683b8de6-c57a-4a8b-b98c-581f10b680dc)
2025-04-17 19:23:24,353 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,353 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,353 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.26
2025-04-17 19:23:24,353 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,353 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,353 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,353 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 69cac5b8-d90e-400d-9751-c452ab88aa08)
2025-04-17 19:23:24,353 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,353 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,353 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.26
2025-04-17 19:23:24,353 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,353 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,353 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,353 - src.engine.execution_engine - INFO - Executed 0 of 3 orders
2025-04-17 19:23:24,353 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99964.42, Equity: 99964.42
2025-04-17 19:23:24,353 - src.engine.execution_engine - INFO - Remaining pending orders: 3
2025-04-17 19:23:24,353 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:36:00
2025-04-17 19:23:24,353 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:36:00, Close: 521.23
2025-04-17 19:23:24,353 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2500, Slow SMA = 521.2560
2025-04-17 19:23:24,353 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.002987, Curr diff: -0.005987
2025-04-17 19:23:24,353 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:36:00
2025-04-17 19:23:24,353 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,353 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:36:00, Close: 521.23
2025-04-17 19:23:24,353 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2460, Slow SMA = 521.2527
2025-04-17 19:23:24,353 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.005987, Curr diff: -0.006653
2025-04-17 19:23:24,353 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,353 - src.engine.execution_engine - INFO - Processing 3 pending orders for bar: SPY, close=521.23
2025-04-17 19:23:24,353 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99964.42, Equity: 99964.42
2025-04-17 19:23:24,353 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.285, MARKET, ID: e33e85a8-8289-4eea-ad60-c3bbce55da94)
2025-04-17 19:23:24,353 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,353 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,353 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.23
2025-04-17 19:23:24,353 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,353 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,353 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,353 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 683b8de6-c57a-4a8b-b98c-581f10b680dc)
2025-04-17 19:23:24,353 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,353 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,354 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.23
2025-04-17 19:23:24,354 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,354 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,354 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,354 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 69cac5b8-d90e-400d-9751-c452ab88aa08)
2025-04-17 19:23:24,354 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,354 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,354 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.23
2025-04-17 19:23:24,354 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,354 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,354 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,354 - src.engine.execution_engine - INFO - Executed 0 of 3 orders
2025-04-17 19:23:24,354 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99964.42, Equity: 99964.42
2025-04-17 19:23:24,354 - src.engine.execution_engine - INFO - Remaining pending orders: 3
2025-04-17 19:23:24,354 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:37:00
2025-04-17 19:23:24,354 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:37:00, Close: 521.22
2025-04-17 19:23:24,354 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2400, Slow SMA = 521.2487
2025-04-17 19:23:24,354 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.006653, Curr diff: -0.008653
2025-04-17 19:23:24,354 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:37:00
2025-04-17 19:23:24,354 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,354 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:37:00, Close: 521.22
2025-04-17 19:23:24,354 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2320, Slow SMA = 521.2433
2025-04-17 19:23:24,354 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.008653, Curr diff: -0.011327
2025-04-17 19:23:24,354 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,354 - src.engine.execution_engine - INFO - Processing 3 pending orders for bar: SPY, close=521.22
2025-04-17 19:23:24,354 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99964.42, Equity: 99964.42
2025-04-17 19:23:24,354 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.285, MARKET, ID: e33e85a8-8289-4eea-ad60-c3bbce55da94)
2025-04-17 19:23:24,354 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,354 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,354 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.22
2025-04-17 19:23:24,354 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,354 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,354 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,354 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 683b8de6-c57a-4a8b-b98c-581f10b680dc)
2025-04-17 19:23:24,354 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,354 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,354 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.22
2025-04-17 19:23:24,354 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,354 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,354 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,354 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 69cac5b8-d90e-400d-9751-c452ab88aa08)
2025-04-17 19:23:24,354 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,354 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,354 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.22
2025-04-17 19:23:24,354 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,354 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,354 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,354 - src.engine.execution_engine - INFO - Executed 0 of 3 orders
2025-04-17 19:23:24,354 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99964.42, Equity: 99964.42
2025-04-17 19:23:24,354 - src.engine.execution_engine - INFO - Remaining pending orders: 3
2025-04-17 19:23:24,354 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:38:00
2025-04-17 19:23:24,354 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:38:00, Close: 521.13
2025-04-17 19:23:24,354 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2060, Slow SMA = 521.2320
2025-04-17 19:23:24,354 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.011327, Curr diff: -0.026000
2025-04-17 19:23:24,354 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:38:00
2025-04-17 19:23:24,354 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,354 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:38:00, Close: 521.13
2025-04-17 19:23:24,354 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1860, Slow SMA = 521.2280
2025-04-17 19:23:24,354 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.026000, Curr diff: -0.042000
2025-04-17 19:23:24,354 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,354 - src.engine.execution_engine - INFO - Processing 3 pending orders for bar: SPY, close=521.13
2025-04-17 19:23:24,354 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99964.42, Equity: 99964.42
2025-04-17 19:23:24,354 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.285, MARKET, ID: e33e85a8-8289-4eea-ad60-c3bbce55da94)
2025-04-17 19:23:24,354 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,354 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,354 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.13
2025-04-17 19:23:24,354 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,354 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,354 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,354 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 683b8de6-c57a-4a8b-b98c-581f10b680dc)
2025-04-17 19:23:24,354 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,354 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,354 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.13
2025-04-17 19:23:24,354 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,354 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,354 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,354 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 69cac5b8-d90e-400d-9751-c452ab88aa08)
2025-04-17 19:23:24,354 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,354 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,354 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.13
2025-04-17 19:23:24,354 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,354 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,354 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,354 - src.engine.execution_engine - INFO - Executed 0 of 3 orders
2025-04-17 19:23:24,354 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99964.42, Equity: 99964.42
2025-04-17 19:23:24,354 - src.engine.execution_engine - INFO - Remaining pending orders: 3
2025-04-17 19:23:24,354 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:39:00
2025-04-17 19:23:24,354 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:39:00, Close: 521.185
2025-04-17 19:23:24,354 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1770, Slow SMA = 521.2277
2025-04-17 19:23:24,354 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.042000, Curr diff: -0.050667
2025-04-17 19:23:24,354 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:39:00
2025-04-17 19:23:24,354 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,354 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:39:00, Close: 521.185
2025-04-17 19:23:24,354 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1700, Slow SMA = 521.2240
2025-04-17 19:23:24,354 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.050667, Curr diff: -0.054000
2025-04-17 19:23:24,354 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,355 - src.engine.execution_engine - INFO - Processing 3 pending orders for bar: SPY, close=521.185
2025-04-17 19:23:24,355 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99964.42, Equity: 99964.42
2025-04-17 19:23:24,355 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.285, MARKET, ID: e33e85a8-8289-4eea-ad60-c3bbce55da94)
2025-04-17 19:23:24,355 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,355 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,355 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.185
2025-04-17 19:23:24,355 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,355 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,355 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,355 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 683b8de6-c57a-4a8b-b98c-581f10b680dc)
2025-04-17 19:23:24,355 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,355 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,355 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.185
2025-04-17 19:23:24,355 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,355 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,355 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,355 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 69cac5b8-d90e-400d-9751-c452ab88aa08)
2025-04-17 19:23:24,355 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,355 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,355 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.185
2025-04-17 19:23:24,355 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,355 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,355 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,355 - src.engine.execution_engine - INFO - Executed 0 of 3 orders
2025-04-17 19:23:24,355 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99964.42, Equity: 99964.42
2025-04-17 19:23:24,355 - src.engine.execution_engine - INFO - Remaining pending orders: 3
2025-04-17 19:23:24,355 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:40:00
2025-04-17 19:23:24,355 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:40:00, Close: 521.0999
2025-04-17 19:23:24,355 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1460, Slow SMA = 521.2147
2025-04-17 19:23:24,355 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.054000, Curr diff: -0.068680
2025-04-17 19:23:24,355 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:40:00
2025-04-17 19:23:24,355 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,355 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:40:00, Close: 521.0999
2025-04-17 19:23:24,355 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1400, Slow SMA = 521.2023
2025-04-17 19:23:24,355 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.068680, Curr diff: -0.062360
2025-04-17 19:23:24,355 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,355 - src.engine.execution_engine - INFO - Processing 3 pending orders for bar: SPY, close=521.0999
2025-04-17 19:23:24,355 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99964.42, Equity: 99964.42
2025-04-17 19:23:24,355 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.285, MARKET, ID: e33e85a8-8289-4eea-ad60-c3bbce55da94)
2025-04-17 19:23:24,355 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,355 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,355 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0999
2025-04-17 19:23:24,355 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,355 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,355 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,355 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 683b8de6-c57a-4a8b-b98c-581f10b680dc)
2025-04-17 19:23:24,355 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,355 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,355 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0999
2025-04-17 19:23:24,355 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,355 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,355 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,355 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 69cac5b8-d90e-400d-9751-c452ab88aa08)
2025-04-17 19:23:24,355 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,355 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,355 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0999
2025-04-17 19:23:24,355 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,355 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,355 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,355 - src.engine.execution_engine - INFO - Executed 0 of 3 orders
2025-04-17 19:23:24,355 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99964.42, Equity: 99964.42
2025-04-17 19:23:24,355 - src.engine.execution_engine - INFO - Remaining pending orders: 3
2025-04-17 19:23:24,355 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:41:00
2025-04-17 19:23:24,355 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:41:00, Close: 521.23
2025-04-17 19:23:24,355 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1600, Slow SMA = 521.1987
2025-04-17 19:23:24,355 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.062360, Curr diff: -0.038693
2025-04-17 19:23:24,355 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:41:00
2025-04-17 19:23:24,355 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,355 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:41:00, Close: 521.23
2025-04-17 19:23:24,355 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1690, Slow SMA = 521.1973
2025-04-17 19:23:24,355 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.038693, Curr diff: -0.028360
2025-04-17 19:23:24,355 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,355 - src.engine.execution_engine - INFO - Processing 3 pending orders for bar: SPY, close=521.23
2025-04-17 19:23:24,355 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99964.42, Equity: 99964.42
2025-04-17 19:23:24,355 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.285, MARKET, ID: e33e85a8-8289-4eea-ad60-c3bbce55da94)
2025-04-17 19:23:24,355 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,355 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,355 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.23
2025-04-17 19:23:24,355 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,355 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,355 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,355 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 683b8de6-c57a-4a8b-b98c-581f10b680dc)
2025-04-17 19:23:24,355 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,355 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,355 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.23
2025-04-17 19:23:24,355 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,355 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,355 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,355 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 69cac5b8-d90e-400d-9751-c452ab88aa08)
2025-04-17 19:23:24,355 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,355 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,355 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.23
2025-04-17 19:23:24,355 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,355 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,355 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,355 - src.engine.execution_engine - INFO - Executed 0 of 3 orders
2025-04-17 19:23:24,355 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99964.42, Equity: 99964.42
2025-04-17 19:23:24,355 - src.engine.execution_engine - INFO - Remaining pending orders: 3
2025-04-17 19:23:24,355 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:42:00
2025-04-17 19:23:24,356 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:42:00, Close: 521.21
2025-04-17 19:23:24,356 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1740, Slow SMA = 521.1947
2025-04-17 19:23:24,356 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.028360, Curr diff: -0.020693
2025-04-17 19:23:24,356 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:42:00
2025-04-17 19:23:24,356 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,356 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:42:00, Close: 521.21
2025-04-17 19:23:24,356 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1960, Slow SMA = 521.1913
2025-04-17 19:23:24,356 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.020693, Curr diff: 0.004660
2025-04-17 19:23:24,356 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bullish crossover for SPY @ 2024-03-26 15:42:00
2025-04-17 19:23:24,356 - src.position_management.position_manager - INFO - Position manager received BUY signal for SPY at price 521.21
2025-04-17 19:23:24,356 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: 1
2025-04-17 19:23:24,356 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,356 - src.position_management.position_manager - INFO - Created LONG position entry action for SPY size 10
2025-04-17 19:23:24,356 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,356 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,356 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,356 - src.engine.execution_engine - INFO - Created order from position action: SPY BUY 10 @ 521.21
2025-04-17 19:23:24,356 - src.engine.execution_engine - INFO - Order received: OrderEvent(BUY 10 SPY @ 521.21, MARKET, ID: 3b0caf8a-8c65-44dc-a1d4-58509b908eb8)
2025-04-17 19:23:24,356 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(BUY 10 SPY @ 521.21, MARKET, ID: 3b0caf8a-8c65-44dc-a1d4-58509b908eb8)
2025-04-17 19:23:24,356 - src.engine.execution_engine - INFO - Executing BUY order: 10 shares at 521.23
2025-04-17 19:23:24,356 - src.position_management.position - INFO - Position opened: ace85ae6-82ab-4e9f-8fd1-6bab9573588f SPY LONG 10 @ 521.23
2025-04-17 19:23:24,356 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,356 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,356 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,356 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(BUY 10 SPY @ 521.23, cost=0.00)
2025-04-17 19:23:24,356 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(BUY 10 SPY @ 521.21, MARKET, ID: 3b0caf8a-8c65-44dc-a1d4-58509b908eb8)
2025-04-17 19:23:24,356 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,356 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,356 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,356 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,356 - __main__ - DEBUG - Signal details: BUY for SPY @ 521.21
2025-04-17 19:23:24,356 - src.rules.rule_base - INFO - Generated BUY signal for SPY @ 521.21
2025-04-17 19:23:24,356 - src.engine.backtester - DEBUG - Emitting signal from strategy: SignalEvent(BUY, SPY, price=521.21)
2025-04-17 19:23:24,356 - src.engine.backtester - DEBUG - Emitted signal event: BUY for SPY
2025-04-17 19:23:24,356 - src.position_management.position_manager - INFO - Position manager received BUY signal for SPY at price 521.21
2025-04-17 19:23:24,356 - src.position_management.position_manager - INFO - Current net position for SPY: 10, direction: 1
2025-04-17 19:23:24,356 - src.position_management.position_manager - INFO - Already have position in LONG direction - skipping
2025-04-17 19:23:24,356 - src.position_management.position_manager - INFO - No position actions created from signal
2025-04-17 19:23:24,356 - src.engine.backtester - DEBUG - Event flow: SIGNAL event received
2025-04-17 19:23:24,356 - src.engine.backtester - DEBUG - Signal: BUY for SPY at 521.21
2025-04-17 19:23:24,356 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,356 - src.engine.execution_engine - INFO - Processing 3 pending orders for bar: SPY, close=521.21
2025-04-17 19:23:24,356 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 89539.82, Equity: 94751.92
2025-04-17 19:23:24,356 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.285, MARKET, ID: e33e85a8-8289-4eea-ad60-c3bbce55da94)
2025-04-17 19:23:24,356 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,356 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,356 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.21
2025-04-17 19:23:24,356 - src.position_management.position - INFO - Position closed: ace85ae6-82ab-4e9f-8fd1-6bab9573588f SPY LONG 10 @ 521.21 P&L: -0.20
2025-04-17 19:23:24,356 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,356 - src.position_management.portfolio - INFO - Position closed: ace85ae6-82ab-4e9f-8fd1-6bab9573588f SPY PnL: -0.20
2025-04-17 19:23:24,356 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,356 - src.engine.execution_engine - INFO - Commission charged: 5.21, remaining cash: 99958.81
2025-04-17 19:23:24,356 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,356 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,356 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(SELL 10 SPY @ 521.21, cost=5.21)
2025-04-17 19:23:24,356 - src.engine.execution_engine - INFO - Order executed successfully, Fill price: 521.21
2025-04-17 19:23:24,356 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 683b8de6-c57a-4a8b-b98c-581f10b680dc)
2025-04-17 19:23:24,356 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,356 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,356 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.21
2025-04-17 19:23:24,356 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,356 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,356 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,356 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 69cac5b8-d90e-400d-9751-c452ab88aa08)
2025-04-17 19:23:24,356 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,356 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,356 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.21
2025-04-17 19:23:24,356 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,356 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,356 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,356 - src.engine.execution_engine - INFO - Executed 1 of 3 orders
2025-04-17 19:23:24,356 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99958.81, Equity: 99964.02
2025-04-17 19:23:24,356 - src.engine.execution_engine - INFO - Remaining pending orders: 2
2025-04-17 19:23:24,356 - src.engine.backtester - DEBUG - Executed 1 fills
2025-04-17 19:23:24,356 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:43:00
2025-04-17 19:23:24,356 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:43:00, Close: 521.15
2025-04-17 19:23:24,356 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2060, Slow SMA = 521.1840
2025-04-17 19:23:24,356 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.004660, Curr diff: 0.022013
2025-04-17 19:23:24,356 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:43:00
2025-04-17 19:23:24,356 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,356 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:43:00, Close: 521.15
2025-04-17 19:23:24,356 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1900, Slow SMA = 521.1787
2025-04-17 19:23:24,356 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.022013, Curr diff: 0.011347
2025-04-17 19:23:24,356 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,356 - src.engine.execution_engine - INFO - Processing 2 pending orders for bar: SPY, close=521.15
2025-04-17 19:23:24,356 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99958.81, Equity: 99958.81
2025-04-17 19:23:24,356 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 683b8de6-c57a-4a8b-b98c-581f10b680dc)
2025-04-17 19:23:24,356 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,356 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,356 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.15
2025-04-17 19:23:24,356 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,356 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,356 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,356 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 69cac5b8-d90e-400d-9751-c452ab88aa08)
2025-04-17 19:23:24,356 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,356 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,357 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.15
2025-04-17 19:23:24,357 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,357 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,357 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,357 - src.engine.execution_engine - INFO - Executed 0 of 2 orders
2025-04-17 19:23:24,357 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99958.81, Equity: 99958.81
2025-04-17 19:23:24,357 - src.engine.execution_engine - INFO - Remaining pending orders: 2
2025-04-17 19:23:24,357 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:44:00
2025-04-17 19:23:24,357 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:44:00, Close: 521.19
2025-04-17 19:23:24,357 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1820, Slow SMA = 521.1760
2025-04-17 19:23:24,357 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.011347, Curr diff: 0.006013
2025-04-17 19:23:24,357 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:44:00
2025-04-17 19:23:24,357 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,357 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:44:00, Close: 521.19
2025-04-17 19:23:24,357 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1780, Slow SMA = 521.1740
2025-04-17 19:23:24,357 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.006013, Curr diff: 0.004013
2025-04-17 19:23:24,357 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,357 - src.engine.execution_engine - INFO - Processing 2 pending orders for bar: SPY, close=521.19
2025-04-17 19:23:24,357 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99958.81, Equity: 99958.81
2025-04-17 19:23:24,357 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 683b8de6-c57a-4a8b-b98c-581f10b680dc)
2025-04-17 19:23:24,357 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,357 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,357 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.19
2025-04-17 19:23:24,357 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,357 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,357 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,357 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 69cac5b8-d90e-400d-9751-c452ab88aa08)
2025-04-17 19:23:24,357 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,357 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,357 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.19
2025-04-17 19:23:24,357 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,357 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,357 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,357 - src.engine.execution_engine - INFO - Executed 0 of 2 orders
2025-04-17 19:23:24,357 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99958.81, Equity: 99958.81
2025-04-17 19:23:24,357 - src.engine.execution_engine - INFO - Remaining pending orders: 2
2025-04-17 19:23:24,357 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:45:00
2025-04-17 19:23:24,357 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:45:00, Close: 521.18
2025-04-17 19:23:24,357 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1720, Slow SMA = 521.1713
2025-04-17 19:23:24,357 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.004013, Curr diff: 0.000680
2025-04-17 19:23:24,357 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:45:00
2025-04-17 19:23:24,357 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,357 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:45:00, Close: 521.18
2025-04-17 19:23:24,357 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1780, Slow SMA = 521.1747
2025-04-17 19:23:24,357 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.000680, Curr diff: 0.003347
2025-04-17 19:23:24,357 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,357 - src.engine.execution_engine - INFO - Processing 2 pending orders for bar: SPY, close=521.18
2025-04-17 19:23:24,357 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99958.81, Equity: 99958.81
2025-04-17 19:23:24,357 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 683b8de6-c57a-4a8b-b98c-581f10b680dc)
2025-04-17 19:23:24,357 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,357 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,357 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.18
2025-04-17 19:23:24,357 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,357 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,357 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,357 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 69cac5b8-d90e-400d-9751-c452ab88aa08)
2025-04-17 19:23:24,357 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,357 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,357 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.18
2025-04-17 19:23:24,357 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,357 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,357 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,357 - src.engine.execution_engine - INFO - Executed 0 of 2 orders
2025-04-17 19:23:24,357 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99958.81, Equity: 99958.81
2025-04-17 19:23:24,357 - src.engine.execution_engine - INFO - Remaining pending orders: 2
2025-04-17 19:23:24,357 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:46:00
2025-04-17 19:23:24,357 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:46:00, Close: 521.14
2025-04-17 19:23:24,357 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1760, Slow SMA = 521.1753
2025-04-17 19:23:24,357 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.003347, Curr diff: 0.000680
2025-04-17 19:23:24,357 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:46:00
2025-04-17 19:23:24,357 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,357 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:46:00, Close: 521.14
2025-04-17 19:23:24,357 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1660, Slow SMA = 521.1723
2025-04-17 19:23:24,357 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.000680, Curr diff: -0.006320
2025-04-17 19:23:24,357 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bearish crossover for SPY @ 2024-03-26 15:46:00
2025-04-17 19:23:24,357 - src.position_management.position_manager - INFO - Position manager received SELL signal for SPY at price 521.14
2025-04-17 19:23:24,357 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: -1
2025-04-17 19:23:24,357 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,357 - src.position_management.position_manager - INFO - Created SHORT position entry action for SPY size 10
2025-04-17 19:23:24,357 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,357 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,357 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,357 - src.engine.execution_engine - INFO - Created order from position action: SPY SELL 10 @ 521.14
2025-04-17 19:23:24,357 - src.engine.execution_engine - INFO - Order received: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: db4ebc7f-0042-446e-bf3d-12b51769d88b)
2025-04-17 19:23:24,357 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: db4ebc7f-0042-446e-bf3d-12b51769d88b)
2025-04-17 19:23:24,357 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.18
2025-04-17 19:23:24,357 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,357 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,357 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: db4ebc7f-0042-446e-bf3d-12b51769d88b)
2025-04-17 19:23:24,357 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,357 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,357 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,358 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,358 - __main__ - DEBUG - Signal details: SELL for SPY @ 521.14
2025-04-17 19:23:24,358 - src.rules.rule_base - INFO - Generated SELL signal for SPY @ 521.14
2025-04-17 19:23:24,358 - src.engine.backtester - DEBUG - Emitting signal from strategy: SignalEvent(SELL, SPY, price=521.14)
2025-04-17 19:23:24,358 - src.engine.backtester - DEBUG - Emitted signal event: SELL for SPY
2025-04-17 19:23:24,358 - src.position_management.position_manager - INFO - Position manager received SELL signal for SPY at price 521.14
2025-04-17 19:23:24,358 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: -1
2025-04-17 19:23:24,358 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,358 - src.position_management.position_manager - INFO - Created SHORT position entry action for SPY size 10
2025-04-17 19:23:24,358 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,358 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,358 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,358 - src.engine.execution_engine - INFO - Created order from position action: SPY SELL 10 @ 521.14
2025-04-17 19:23:24,358 - src.engine.execution_engine - INFO - Order received: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: 08ea1e99-2fa9-4236-878c-e377ecb134e7)
2025-04-17 19:23:24,358 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: 08ea1e99-2fa9-4236-878c-e377ecb134e7)
2025-04-17 19:23:24,358 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.18
2025-04-17 19:23:24,358 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,358 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,358 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: 08ea1e99-2fa9-4236-878c-e377ecb134e7)
2025-04-17 19:23:24,358 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,358 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,358 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,358 - src.engine.backtester - DEBUG - Event flow: SIGNAL event received
2025-04-17 19:23:24,358 - src.engine.backtester - DEBUG - Signal: SELL for SPY at 521.14
2025-04-17 19:23:24,358 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,358 - src.engine.execution_engine - INFO - Processing 4 pending orders for bar: SPY, close=521.14
2025-04-17 19:23:24,358 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99958.81, Equity: 99958.81
2025-04-17 19:23:24,358 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 683b8de6-c57a-4a8b-b98c-581f10b680dc)
2025-04-17 19:23:24,358 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,358 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,358 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.14
2025-04-17 19:23:24,358 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,358 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,358 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,358 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 69cac5b8-d90e-400d-9751-c452ab88aa08)
2025-04-17 19:23:24,358 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,358 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,358 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.14
2025-04-17 19:23:24,358 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,358 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,358 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,358 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: db4ebc7f-0042-446e-bf3d-12b51769d88b)
2025-04-17 19:23:24,358 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,358 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,358 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.14
2025-04-17 19:23:24,358 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,358 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,358 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,358 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: 08ea1e99-2fa9-4236-878c-e377ecb134e7)
2025-04-17 19:23:24,358 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,358 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,358 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.14
2025-04-17 19:23:24,358 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,358 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,358 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,358 - src.engine.execution_engine - INFO - Executed 0 of 4 orders
2025-04-17 19:23:24,358 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99958.81, Equity: 99958.81
2025-04-17 19:23:24,358 - src.engine.execution_engine - INFO - Remaining pending orders: 4
2025-04-17 19:23:24,358 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:47:00
2025-04-17 19:23:24,358 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:47:00, Close: 521.125
2025-04-17 19:23:24,358 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1530, Slow SMA = 521.1683
2025-04-17 19:23:24,358 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.006320, Curr diff: -0.015320
2025-04-17 19:23:24,358 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:47:00
2025-04-17 19:23:24,358 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,358 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:47:00, Close: 521.125
2025-04-17 19:23:24,358 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1420, Slow SMA = 521.1700
2025-04-17 19:23:24,358 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.015320, Curr diff: -0.027993
2025-04-17 19:23:24,358 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,358 - src.engine.execution_engine - INFO - Processing 4 pending orders for bar: SPY, close=521.125
2025-04-17 19:23:24,358 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99958.81, Equity: 99958.81
2025-04-17 19:23:24,358 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 683b8de6-c57a-4a8b-b98c-581f10b680dc)
2025-04-17 19:23:24,358 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,358 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,358 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.125
2025-04-17 19:23:24,358 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,358 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,358 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,358 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 69cac5b8-d90e-400d-9751-c452ab88aa08)
2025-04-17 19:23:24,358 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,358 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,358 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.125
2025-04-17 19:23:24,358 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,358 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,358 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,358 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: db4ebc7f-0042-446e-bf3d-12b51769d88b)
2025-04-17 19:23:24,358 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,358 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,358 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.125
2025-04-17 19:23:24,358 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,358 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,358 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,358 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: 08ea1e99-2fa9-4236-878c-e377ecb134e7)
2025-04-17 19:23:24,358 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,358 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,358 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.125
2025-04-17 19:23:24,358 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,358 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,358 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,358 - src.engine.execution_engine - INFO - Executed 0 of 4 orders
2025-04-17 19:23:24,358 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99958.81, Equity: 99958.81
2025-04-17 19:23:24,358 - src.engine.execution_engine - INFO - Remaining pending orders: 4
2025-04-17 19:23:24,358 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:48:00
2025-04-17 19:23:24,358 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:48:00, Close: 521.18
2025-04-17 19:23:24,359 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1420, Slow SMA = 521.1753
2025-04-17 19:23:24,359 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.027993, Curr diff: -0.033333
2025-04-17 19:23:24,359 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:48:00
2025-04-17 19:23:24,359 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,359 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:48:00, Close: 521.18
2025-04-17 19:23:24,359 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1500, Slow SMA = 521.1720
2025-04-17 19:23:24,359 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.033333, Curr diff: -0.022000
2025-04-17 19:23:24,359 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,359 - src.engine.execution_engine - INFO - Processing 4 pending orders for bar: SPY, close=521.18
2025-04-17 19:23:24,359 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99958.81, Equity: 99958.81
2025-04-17 19:23:24,359 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 683b8de6-c57a-4a8b-b98c-581f10b680dc)
2025-04-17 19:23:24,359 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,359 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,359 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.18
2025-04-17 19:23:24,359 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,359 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,359 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,359 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 69cac5b8-d90e-400d-9751-c452ab88aa08)
2025-04-17 19:23:24,359 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,359 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,359 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.18
2025-04-17 19:23:24,359 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,359 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,359 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,359 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: db4ebc7f-0042-446e-bf3d-12b51769d88b)
2025-04-17 19:23:24,359 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,359 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,359 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.18
2025-04-17 19:23:24,359 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,359 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,359 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,359 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: 08ea1e99-2fa9-4236-878c-e377ecb134e7)
2025-04-17 19:23:24,359 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,359 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,359 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.18
2025-04-17 19:23:24,359 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,359 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,359 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,359 - src.engine.execution_engine - INFO - Executed 0 of 4 orders
2025-04-17 19:23:24,359 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99958.81, Equity: 99958.81
2025-04-17 19:23:24,359 - src.engine.execution_engine - INFO - Remaining pending orders: 4
2025-04-17 19:23:24,359 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:49:00
2025-04-17 19:23:24,359 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:49:00, Close: 521.11
2025-04-17 19:23:24,359 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1440, Slow SMA = 521.1640
2025-04-17 19:23:24,359 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.022000, Curr diff: -0.020000
2025-04-17 19:23:24,359 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:49:00
2025-04-17 19:23:24,359 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,359 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:49:00, Close: 521.11
2025-04-17 19:23:24,359 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1410, Slow SMA = 521.1573
2025-04-17 19:23:24,359 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.020000, Curr diff: -0.016333
2025-04-17 19:23:24,359 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,359 - src.engine.execution_engine - INFO - Processing 4 pending orders for bar: SPY, close=521.11
2025-04-17 19:23:24,359 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99958.81, Equity: 99958.81
2025-04-17 19:23:24,359 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 683b8de6-c57a-4a8b-b98c-581f10b680dc)
2025-04-17 19:23:24,359 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,359 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,359 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.11
2025-04-17 19:23:24,359 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,359 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,359 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,359 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 69cac5b8-d90e-400d-9751-c452ab88aa08)
2025-04-17 19:23:24,359 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,359 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,359 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.11
2025-04-17 19:23:24,359 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,359 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,359 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,359 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: db4ebc7f-0042-446e-bf3d-12b51769d88b)
2025-04-17 19:23:24,359 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,359 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,359 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.11
2025-04-17 19:23:24,359 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,359 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,359 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,359 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: 08ea1e99-2fa9-4236-878c-e377ecb134e7)
2025-04-17 19:23:24,359 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,359 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,359 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.11
2025-04-17 19:23:24,359 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,359 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,359 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,359 - src.engine.execution_engine - INFO - Executed 0 of 4 orders
2025-04-17 19:23:24,359 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99958.81, Equity: 99958.81
2025-04-17 19:23:24,359 - src.engine.execution_engine - INFO - Remaining pending orders: 4
2025-04-17 19:23:24,359 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:50:00
2025-04-17 19:23:24,359 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:50:00, Close: 521.28
2025-04-17 19:23:24,359 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1720, Slow SMA = 521.1620
2025-04-17 19:23:24,359 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.016333, Curr diff: 0.010000
2025-04-17 19:23:24,359 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bullish crossover for SPY @ 2024-03-26 15:50:00
2025-04-17 19:23:24,359 - src.position_management.position_manager - INFO - Position manager received BUY signal for SPY at price 521.28
2025-04-17 19:23:24,359 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: 1
2025-04-17 19:23:24,359 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,359 - src.position_management.position_manager - INFO - Created LONG position entry action for SPY size 10
2025-04-17 19:23:24,359 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,359 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,359 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,359 - src.engine.execution_engine - INFO - Created order from position action: SPY BUY 10 @ 521.28
2025-04-17 19:23:24,359 - src.engine.execution_engine - INFO - Order received: OrderEvent(BUY 10 SPY @ 521.28, MARKET, ID: 76c8a98a-1499-457d-9972-86b2241ba7ec)
2025-04-17 19:23:24,359 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(BUY 10 SPY @ 521.28, MARKET, ID: 76c8a98a-1499-457d-9972-86b2241ba7ec)
2025-04-17 19:23:24,360 - src.engine.execution_engine - INFO - Executing BUY order: 10 shares at 521.11
2025-04-17 19:23:24,360 - src.position_management.position - INFO - Position opened: c6c4cb53-97d6-4c55-a4f2-a0f97a38e4c1 SPY LONG 10 @ 521.11
2025-04-17 19:23:24,360 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,360 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,360 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,360 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(BUY 10 SPY @ 521.11, cost=0.00)
2025-04-17 19:23:24,360 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(BUY 10 SPY @ 521.28, MARKET, ID: 76c8a98a-1499-457d-9972-86b2241ba7ec)
2025-04-17 19:23:24,360 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,360 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,360 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,360 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,360 - __main__ - DEBUG - Signal details: BUY for SPY @ 521.28
2025-04-17 19:23:24,360 - src.rules.rule_base - INFO - Generated BUY signal for SPY @ 521.28
2025-04-17 19:23:24,360 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:50:00
2025-04-17 19:23:24,360 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,360 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:50:00, Close: 521.28
2025-04-17 19:23:24,360 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1920, Slow SMA = 521.1707
2025-04-17 19:23:24,360 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.010000, Curr diff: 0.021333
2025-04-17 19:23:24,360 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,360 - src.engine.execution_engine - INFO - Processing 4 pending orders for bar: SPY, close=521.28
2025-04-17 19:23:24,360 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 89536.61, Equity: 94749.41
2025-04-17 19:23:24,360 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 683b8de6-c57a-4a8b-b98c-581f10b680dc)
2025-04-17 19:23:24,360 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,360 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,360 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.28
2025-04-17 19:23:24,360 - src.position_management.position - INFO - Position closed: c6c4cb53-97d6-4c55-a4f2-a0f97a38e4c1 SPY LONG 10 @ 521.28 P&L: 1.70
2025-04-17 19:23:24,360 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,360 - src.position_management.portfolio - INFO - Position closed: c6c4cb53-97d6-4c55-a4f2-a0f97a38e4c1 SPY PnL: 1.70
2025-04-17 19:23:24,360 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,360 - src.engine.execution_engine - INFO - Commission charged: 5.21, remaining cash: 99956.99
2025-04-17 19:23:24,360 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,360 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,360 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(SELL 10 SPY @ 521.28, cost=5.21)
2025-04-17 19:23:24,360 - src.engine.execution_engine - INFO - Order executed successfully, Fill price: 521.28
2025-04-17 19:23:24,360 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 69cac5b8-d90e-400d-9751-c452ab88aa08)
2025-04-17 19:23:24,360 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,360 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,360 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.28
2025-04-17 19:23:24,360 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,360 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,360 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,360 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: db4ebc7f-0042-446e-bf3d-12b51769d88b)
2025-04-17 19:23:24,360 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,360 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,360 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.28
2025-04-17 19:23:24,360 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,360 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,360 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,360 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: 08ea1e99-2fa9-4236-878c-e377ecb134e7)
2025-04-17 19:23:24,360 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,360 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,360 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.28
2025-04-17 19:23:24,360 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,360 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,360 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,360 - src.engine.execution_engine - INFO - Executed 1 of 4 orders
2025-04-17 19:23:24,360 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99956.99, Equity: 99962.21
2025-04-17 19:23:24,360 - src.engine.execution_engine - INFO - Remaining pending orders: 3
2025-04-17 19:23:24,360 - src.engine.backtester - DEBUG - Executed 1 fills
2025-04-17 19:23:24,360 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:51:00
2025-04-17 19:23:24,360 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:51:00, Close: 521.3601
2025-04-17 19:23:24,360 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2280, Slow SMA = 521.1847
2025-04-17 19:23:24,360 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.021333, Curr diff: 0.043347
2025-04-17 19:23:24,360 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:51:00
2025-04-17 19:23:24,360 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,360 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:51:00, Close: 521.3601
2025-04-17 19:23:24,360 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2780, Slow SMA = 521.1960
2025-04-17 19:23:24,360 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.043347, Curr diff: 0.082027
2025-04-17 19:23:24,360 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,360 - src.engine.execution_engine - INFO - Processing 3 pending orders for bar: SPY, close=521.3601
2025-04-17 19:23:24,360 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99956.99, Equity: 99956.99
2025-04-17 19:23:24,360 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 69cac5b8-d90e-400d-9751-c452ab88aa08)
2025-04-17 19:23:24,360 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,360 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,360 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.3601
2025-04-17 19:23:24,360 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,360 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,360 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,360 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: db4ebc7f-0042-446e-bf3d-12b51769d88b)
2025-04-17 19:23:24,360 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,360 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,360 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.3601
2025-04-17 19:23:24,360 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,360 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,360 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,360 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: 08ea1e99-2fa9-4236-878c-e377ecb134e7)
2025-04-17 19:23:24,360 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,360 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,360 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.3601
2025-04-17 19:23:24,360 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,360 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,360 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,360 - src.engine.execution_engine - INFO - Executed 0 of 3 orders
2025-04-17 19:23:24,360 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99956.99, Equity: 99956.99
2025-04-17 19:23:24,360 - src.engine.execution_engine - INFO - Remaining pending orders: 3
2025-04-17 19:23:24,360 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:52:00
2025-04-17 19:23:24,361 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:52:00, Close: 521.38
2025-04-17 19:23:24,361 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3320, Slow SMA = 521.2087
2025-04-17 19:23:24,361 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.082027, Curr diff: 0.123360
2025-04-17 19:23:24,361 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:52:00
2025-04-17 19:23:24,361 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,361 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:52:00, Close: 521.38
2025-04-17 19:23:24,361 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3520, Slow SMA = 521.2220
2025-04-17 19:23:24,361 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.123360, Curr diff: 0.130027
2025-04-17 19:23:24,361 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,361 - src.engine.execution_engine - INFO - Processing 3 pending orders for bar: SPY, close=521.38
2025-04-17 19:23:24,361 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99956.99, Equity: 99956.99
2025-04-17 19:23:24,361 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 69cac5b8-d90e-400d-9751-c452ab88aa08)
2025-04-17 19:23:24,361 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,361 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,361 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.38
2025-04-17 19:23:24,361 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,361 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,361 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,361 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: db4ebc7f-0042-446e-bf3d-12b51769d88b)
2025-04-17 19:23:24,361 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,361 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,361 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.38
2025-04-17 19:23:24,361 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,361 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,361 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,361 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: 08ea1e99-2fa9-4236-878c-e377ecb134e7)
2025-04-17 19:23:24,361 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,361 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,361 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.38
2025-04-17 19:23:24,361 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,361 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,361 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,361 - src.engine.execution_engine - INFO - Executed 0 of 3 orders
2025-04-17 19:23:24,361 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99956.99, Equity: 99956.99
2025-04-17 19:23:24,361 - src.engine.execution_engine - INFO - Remaining pending orders: 3
2025-04-17 19:23:24,361 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:53:00
2025-04-17 19:23:24,361 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:53:00, Close: 521.34
2025-04-17 19:23:24,361 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3640, Slow SMA = 521.2327
2025-04-17 19:23:24,361 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.130027, Curr diff: 0.131360
2025-04-17 19:23:24,361 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:53:00
2025-04-17 19:23:24,361 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,361 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:53:00, Close: 521.34
2025-04-17 19:23:24,361 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3600, Slow SMA = 521.2460
2025-04-17 19:23:24,361 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.131360, Curr diff: 0.114007
2025-04-17 19:23:24,361 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,361 - src.engine.execution_engine - INFO - Processing 3 pending orders for bar: SPY, close=521.34
2025-04-17 19:23:24,361 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99956.99, Equity: 99956.99
2025-04-17 19:23:24,361 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 69cac5b8-d90e-400d-9751-c452ab88aa08)
2025-04-17 19:23:24,361 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,361 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,361 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.34
2025-04-17 19:23:24,361 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,361 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,361 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,361 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: db4ebc7f-0042-446e-bf3d-12b51769d88b)
2025-04-17 19:23:24,361 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,361 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,361 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.34
2025-04-17 19:23:24,361 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,361 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,361 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,361 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: 08ea1e99-2fa9-4236-878c-e377ecb134e7)
2025-04-17 19:23:24,361 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,361 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,361 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.34
2025-04-17 19:23:24,361 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,361 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,361 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,361 - src.engine.execution_engine - INFO - Executed 0 of 3 orders
2025-04-17 19:23:24,361 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99956.99, Equity: 99956.99
2025-04-17 19:23:24,361 - src.engine.execution_engine - INFO - Remaining pending orders: 3
2025-04-17 19:23:24,361 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:54:00
2025-04-17 19:23:24,361 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:54:00, Close: 521.4
2025-04-17 19:23:24,361 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3680, Slow SMA = 521.2633
2025-04-17 19:23:24,361 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.114007, Curr diff: 0.104653
2025-04-17 19:23:24,361 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:54:00
2025-04-17 19:23:24,361 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,361 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:54:00, Close: 521.4
2025-04-17 19:23:24,361 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3720, Slow SMA = 521.2817
2025-04-17 19:23:24,361 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.104653, Curr diff: 0.090320
2025-04-17 19:23:24,361 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,361 - src.engine.execution_engine - INFO - Processing 3 pending orders for bar: SPY, close=521.4
2025-04-17 19:23:24,361 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99956.99, Equity: 99956.99
2025-04-17 19:23:24,361 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 69cac5b8-d90e-400d-9751-c452ab88aa08)
2025-04-17 19:23:24,361 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,361 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,361 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.4
2025-04-17 19:23:24,361 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,361 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,361 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,361 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: db4ebc7f-0042-446e-bf3d-12b51769d88b)
2025-04-17 19:23:24,361 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,361 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,361 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.4
2025-04-17 19:23:24,361 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,361 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,361 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,361 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: 08ea1e99-2fa9-4236-878c-e377ecb134e7)
2025-04-17 19:23:24,362 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,362 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,362 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.4
2025-04-17 19:23:24,362 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,362 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,362 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,362 - src.engine.execution_engine - INFO - Executed 0 of 3 orders
2025-04-17 19:23:24,362 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99956.99, Equity: 99956.99
2025-04-17 19:23:24,362 - src.engine.execution_engine - INFO - Remaining pending orders: 3
2025-04-17 19:23:24,362 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:55:00
2025-04-17 19:23:24,362 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:55:00, Close: 521.39
2025-04-17 19:23:24,362 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3740, Slow SMA = 521.2993
2025-04-17 19:23:24,362 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.090320, Curr diff: 0.074653
2025-04-17 19:23:24,362 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:55:00
2025-04-17 19:23:24,362 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,362 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:55:00, Close: 521.39
2025-04-17 19:23:24,362 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3840, Slow SMA = 521.3133
2025-04-17 19:23:24,362 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.074653, Curr diff: 0.070653
2025-04-17 19:23:24,362 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,362 - src.engine.execution_engine - INFO - Processing 3 pending orders for bar: SPY, close=521.39
2025-04-17 19:23:24,362 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99956.99, Equity: 99956.99
2025-04-17 19:23:24,362 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 69cac5b8-d90e-400d-9751-c452ab88aa08)
2025-04-17 19:23:24,362 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,362 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,362 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.39
2025-04-17 19:23:24,362 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,362 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,362 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,362 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: db4ebc7f-0042-446e-bf3d-12b51769d88b)
2025-04-17 19:23:24,362 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,362 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,362 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.39
2025-04-17 19:23:24,362 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,362 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,362 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,362 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: 08ea1e99-2fa9-4236-878c-e377ecb134e7)
2025-04-17 19:23:24,362 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,362 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,362 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.39
2025-04-17 19:23:24,362 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,362 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,362 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,362 - src.engine.execution_engine - INFO - Executed 0 of 3 orders
2025-04-17 19:23:24,362 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99956.99, Equity: 99956.99
2025-04-17 19:23:24,362 - src.engine.execution_engine - INFO - Remaining pending orders: 3
2025-04-17 19:23:24,362 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:56:00
2025-04-17 19:23:24,362 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:56:00, Close: 521.405
2025-04-17 19:23:24,362 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3970, Slow SMA = 521.3283
2025-04-17 19:23:24,362 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.070653, Curr diff: 0.068653
2025-04-17 19:23:24,362 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:56:00
2025-04-17 19:23:24,362 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,362 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:56:00, Close: 521.405
2025-04-17 19:23:24,362 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3980, Slow SMA = 521.3480
2025-04-17 19:23:24,362 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.068653, Curr diff: 0.049987
2025-04-17 19:23:24,362 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,362 - src.engine.execution_engine - INFO - Processing 3 pending orders for bar: SPY, close=521.405
2025-04-17 19:23:24,362 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99956.99, Equity: 99956.99
2025-04-17 19:23:24,362 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 69cac5b8-d90e-400d-9751-c452ab88aa08)
2025-04-17 19:23:24,362 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,362 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,362 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.405
2025-04-17 19:23:24,362 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,362 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,362 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,362 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: db4ebc7f-0042-446e-bf3d-12b51769d88b)
2025-04-17 19:23:24,362 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,362 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,362 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.405
2025-04-17 19:23:24,362 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,362 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,362 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,362 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: 08ea1e99-2fa9-4236-878c-e377ecb134e7)
2025-04-17 19:23:24,362 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,362 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,362 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.405
2025-04-17 19:23:24,362 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,362 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,362 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,362 - src.engine.execution_engine - INFO - Executed 0 of 3 orders
2025-04-17 19:23:24,362 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99956.99, Equity: 99956.99
2025-04-17 19:23:24,362 - src.engine.execution_engine - INFO - Remaining pending orders: 3
2025-04-17 19:23:24,362 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:57:00
2025-04-17 19:23:24,362 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:57:00, Close: 521.355
2025-04-17 19:23:24,362 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3890, Slow SMA = 521.3643
2025-04-17 19:23:24,362 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.049987, Curr diff: 0.024653
2025-04-17 19:23:24,362 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:57:00
2025-04-17 19:23:24,362 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,362 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:57:00, Close: 521.355
2025-04-17 19:23:24,362 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3820, Slow SMA = 521.3693
2025-04-17 19:23:24,362 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.024653, Curr diff: 0.012653
2025-04-17 19:23:24,362 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,362 - src.engine.execution_engine - INFO - Processing 3 pending orders for bar: SPY, close=521.355
2025-04-17 19:23:24,362 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99956.99, Equity: 99956.99
2025-04-17 19:23:24,362 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 69cac5b8-d90e-400d-9751-c452ab88aa08)
2025-04-17 19:23:24,362 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,362 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,363 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.355
2025-04-17 19:23:24,363 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,363 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,363 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,363 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: db4ebc7f-0042-446e-bf3d-12b51769d88b)
2025-04-17 19:23:24,363 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,363 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,363 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.355
2025-04-17 19:23:24,363 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,363 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,363 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,363 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: 08ea1e99-2fa9-4236-878c-e377ecb134e7)
2025-04-17 19:23:24,363 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,363 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,363 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.355
2025-04-17 19:23:24,363 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,363 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,363 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,363 - src.engine.execution_engine - INFO - Executed 0 of 3 orders
2025-04-17 19:23:24,363 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99956.99, Equity: 99956.99
2025-04-17 19:23:24,363 - src.engine.execution_engine - INFO - Remaining pending orders: 3
2025-04-17 19:23:24,363 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:58:00
2025-04-17 19:23:24,363 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:58:00, Close: 521.3994
2025-04-17 19:23:24,363 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3839, Slow SMA = 521.3773
2025-04-17 19:23:24,363 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.012653, Curr diff: 0.006573
2025-04-17 19:23:24,363 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:58:00
2025-04-17 19:23:24,363 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,363 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:58:00, Close: 521.3994
2025-04-17 19:23:24,363 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3828, Slow SMA = 521.3799
2025-04-17 19:23:24,363 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.006573, Curr diff: 0.002833
2025-04-17 19:23:24,363 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,363 - src.engine.execution_engine - INFO - Processing 3 pending orders for bar: SPY, close=521.3994
2025-04-17 19:23:24,363 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99956.99, Equity: 99956.99
2025-04-17 19:23:24,363 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 69cac5b8-d90e-400d-9751-c452ab88aa08)
2025-04-17 19:23:24,363 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,363 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,363 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.3994
2025-04-17 19:23:24,363 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,363 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,363 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,363 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: db4ebc7f-0042-446e-bf3d-12b51769d88b)
2025-04-17 19:23:24,363 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,363 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,363 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.3994
2025-04-17 19:23:24,363 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,363 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,363 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,363 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: 08ea1e99-2fa9-4236-878c-e377ecb134e7)
2025-04-17 19:23:24,363 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,363 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,363 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.3994
2025-04-17 19:23:24,363 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,363 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,363 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,363 - src.engine.execution_engine - INFO - Executed 0 of 3 orders
2025-04-17 19:23:24,363 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99956.99, Equity: 99956.99
2025-04-17 19:23:24,363 - src.engine.execution_engine - INFO - Remaining pending orders: 3
2025-04-17 19:23:24,363 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 15:59:00
2025-04-17 19:23:24,363 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:59:00, Close: 521.3969
2025-04-17 19:23:24,363 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3811, Slow SMA = 521.3824
2025-04-17 19:23:24,363 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.002833, Curr diff: -0.001240
2025-04-17 19:23:24,363 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bearish crossover for SPY @ 2024-03-26 15:59:00
2025-04-17 19:23:24,363 - src.position_management.position_manager - INFO - Position manager received SELL signal for SPY at price 521.3969
2025-04-17 19:23:24,363 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: -1
2025-04-17 19:23:24,363 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,363 - src.position_management.position_manager - INFO - Created SHORT position entry action for SPY size 10
2025-04-17 19:23:24,363 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,363 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,363 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,363 - src.engine.execution_engine - INFO - Created order from position action: SPY SELL 10 @ 521.3969
2025-04-17 19:23:24,363 - src.engine.execution_engine - INFO - Order received: OrderEvent(SELL 10 SPY @ 521.3969, MARKET, ID: fccde0da-bd79-49c2-ae49-f21361af08f4)
2025-04-17 19:23:24,363 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(SELL 10 SPY @ 521.3969, MARKET, ID: fccde0da-bd79-49c2-ae49-f21361af08f4)
2025-04-17 19:23:24,363 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.3994
2025-04-17 19:23:24,363 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,363 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,363 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(SELL 10 SPY @ 521.3969, MARKET, ID: fccde0da-bd79-49c2-ae49-f21361af08f4)
2025-04-17 19:23:24,363 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,363 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,363 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,363 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,363 - __main__ - DEBUG - Signal details: SELL for SPY @ 521.3969
2025-04-17 19:23:24,363 - src.rules.rule_base - INFO - Generated SELL signal for SPY @ 521.3969
2025-04-17 19:23:24,363 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 15:59:00
2025-04-17 19:23:24,363 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,363 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 15:59:00, Close: 521.3969
2025-04-17 19:23:24,363 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3895, Slow SMA = 521.3835
2025-04-17 19:23:24,363 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.001240, Curr diff: 0.006013
2025-04-17 19:23:24,363 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bullish crossover for SPY @ 2024-03-26 15:59:00
2025-04-17 19:23:24,363 - src.position_management.position_manager - INFO - Position manager received BUY signal for SPY at price 521.3969
2025-04-17 19:23:24,363 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: 1
2025-04-17 19:23:24,363 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,363 - src.position_management.position_manager - INFO - Created LONG position entry action for SPY size 10
2025-04-17 19:23:24,363 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,363 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,363 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,363 - src.engine.execution_engine - INFO - Created order from position action: SPY BUY 10 @ 521.3969
2025-04-17 19:23:24,363 - src.engine.execution_engine - INFO - Order received: OrderEvent(BUY 10 SPY @ 521.3969, MARKET, ID: 84a75f5c-5b7d-4fae-baa2-335bba7c4437)
2025-04-17 19:23:24,363 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(BUY 10 SPY @ 521.3969, MARKET, ID: 84a75f5c-5b7d-4fae-baa2-335bba7c4437)
2025-04-17 19:23:24,364 - src.engine.execution_engine - INFO - Executing BUY order: 10 shares at 521.3994
2025-04-17 19:23:24,364 - src.position_management.position - INFO - Position opened: f0463d03-1810-4d0b-ba7f-11b98dc4735a SPY LONG 10 @ 521.3994
2025-04-17 19:23:24,364 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,364 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,364 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,364 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(BUY 10 SPY @ 521.3994, cost=0.00)
2025-04-17 19:23:24,364 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(BUY 10 SPY @ 521.3969, MARKET, ID: 84a75f5c-5b7d-4fae-baa2-335bba7c4437)
2025-04-17 19:23:24,364 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,364 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,364 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,364 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,364 - __main__ - DEBUG - Signal details: BUY for SPY @ 521.3969
2025-04-17 19:23:24,364 - src.rules.rule_base - INFO - Generated BUY signal for SPY @ 521.3969
2025-04-17 19:23:24,364 - src.engine.backtester - DEBUG - Emitting signal from strategy: SignalEvent(BUY, SPY, price=521.3969)
2025-04-17 19:23:24,364 - src.engine.backtester - DEBUG - Emitted signal event: BUY for SPY
2025-04-17 19:23:24,364 - src.position_management.position_manager - INFO - Position manager received BUY signal for SPY at price 521.3969
2025-04-17 19:23:24,364 - src.position_management.position_manager - INFO - Current net position for SPY: 10, direction: 1
2025-04-17 19:23:24,364 - src.position_management.position_manager - INFO - Already have position in LONG direction - skipping
2025-04-17 19:23:24,364 - src.position_management.position_manager - INFO - No position actions created from signal
2025-04-17 19:23:24,364 - src.engine.backtester - DEBUG - Event flow: SIGNAL event received
2025-04-17 19:23:24,364 - src.engine.backtester - DEBUG - Signal: BUY for SPY at 521.3969
2025-04-17 19:23:24,364 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,364 - src.engine.execution_engine - INFO - Processing 4 pending orders for bar: SPY, close=521.3969
2025-04-17 19:23:24,364 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 89529.01, Equity: 94742.97
2025-04-17 19:23:24,364 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.28, MARKET, ID: 69cac5b8-d90e-400d-9751-c452ab88aa08)
2025-04-17 19:23:24,364 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,364 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,364 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.3969
2025-04-17 19:23:24,364 - src.position_management.position - INFO - Position closed: f0463d03-1810-4d0b-ba7f-11b98dc4735a SPY LONG 10 @ 521.3969 P&L: -0.03
2025-04-17 19:23:24,364 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,364 - src.position_management.portfolio - INFO - Position closed: f0463d03-1810-4d0b-ba7f-11b98dc4735a SPY PnL: -0.03
2025-04-17 19:23:24,364 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,364 - src.engine.execution_engine - INFO - Commission charged: 5.21, remaining cash: 99951.73
2025-04-17 19:23:24,364 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,364 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,364 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(SELL 10 SPY @ 521.3969, cost=5.21)
2025-04-17 19:23:24,364 - src.engine.execution_engine - INFO - Order executed successfully, Fill price: 521.40
2025-04-17 19:23:24,364 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: db4ebc7f-0042-446e-bf3d-12b51769d88b)
2025-04-17 19:23:24,364 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,364 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,364 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.3969
2025-04-17 19:23:24,364 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,364 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,364 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,364 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: 08ea1e99-2fa9-4236-878c-e377ecb134e7)
2025-04-17 19:23:24,364 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,364 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,364 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.3969
2025-04-17 19:23:24,364 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,364 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,364 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,364 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3969, MARKET, ID: fccde0da-bd79-49c2-ae49-f21361af08f4)
2025-04-17 19:23:24,364 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,364 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,364 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.3969
2025-04-17 19:23:24,364 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,364 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,364 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,364 - src.engine.execution_engine - INFO - Executed 1 of 4 orders
2025-04-17 19:23:24,364 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99951.73, Equity: 99956.94
2025-04-17 19:23:24,364 - src.engine.execution_engine - INFO - Remaining pending orders: 3
2025-04-17 19:23:24,364 - src.engine.backtester - DEBUG - Executed 1 fills
2025-04-17 19:23:24,364 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:00:00
2025-04-17 19:23:24,364 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:00:00, Close: 521.42
2025-04-17 19:23:24,364 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.4025, Slow SMA = 521.3862
2025-04-17 19:23:24,364 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.006013, Curr diff: 0.016347
2025-04-17 19:23:24,364 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:00:00
2025-04-17 19:23:24,364 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,364 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:00:00, Close: 521.42
2025-04-17 19:23:24,364 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.4066, Slow SMA = 521.3915
2025-04-17 19:23:24,364 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.016347, Curr diff: 0.015133
2025-04-17 19:23:24,364 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,364 - src.engine.execution_engine - INFO - Processing 3 pending orders for bar: SPY, close=521.42
2025-04-17 19:23:24,364 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99951.73, Equity: 99951.73
2025-04-17 19:23:24,364 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: db4ebc7f-0042-446e-bf3d-12b51769d88b)
2025-04-17 19:23:24,364 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,364 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,364 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.42
2025-04-17 19:23:24,364 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,364 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,364 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,364 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: 08ea1e99-2fa9-4236-878c-e377ecb134e7)
2025-04-17 19:23:24,364 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,364 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,364 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.42
2025-04-17 19:23:24,364 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,364 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,364 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,364 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3969, MARKET, ID: fccde0da-bd79-49c2-ae49-f21361af08f4)
2025-04-17 19:23:24,364 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,364 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,364 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.42
2025-04-17 19:23:24,364 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,364 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,364 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,364 - src.engine.execution_engine - INFO - Executed 0 of 3 orders
2025-04-17 19:23:24,364 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99951.73, Equity: 99951.73
2025-04-17 19:23:24,364 - src.engine.execution_engine - INFO - Remaining pending orders: 3
2025-04-17 19:23:24,364 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:01:00
2025-04-17 19:23:24,365 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:01:00, Close: 521.38
2025-04-17 19:23:24,365 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.4028, Slow SMA = 521.3942
2025-04-17 19:23:24,365 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.015133, Curr diff: 0.008587
2025-04-17 19:23:24,365 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:01:00
2025-04-17 19:23:24,365 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,365 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:01:00, Close: 521.38
2025-04-17 19:23:24,365 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3994, Slow SMA = 521.3928
2025-04-17 19:23:24,365 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.008587, Curr diff: 0.006540
2025-04-17 19:23:24,365 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,365 - src.engine.execution_engine - INFO - Processing 3 pending orders for bar: SPY, close=521.38
2025-04-17 19:23:24,365 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99951.73, Equity: 99951.73
2025-04-17 19:23:24,365 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: db4ebc7f-0042-446e-bf3d-12b51769d88b)
2025-04-17 19:23:24,365 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,365 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,365 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.38
2025-04-17 19:23:24,365 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,365 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,365 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,365 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: 08ea1e99-2fa9-4236-878c-e377ecb134e7)
2025-04-17 19:23:24,365 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,365 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,365 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.38
2025-04-17 19:23:24,365 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,365 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,365 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,365 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3969, MARKET, ID: fccde0da-bd79-49c2-ae49-f21361af08f4)
2025-04-17 19:23:24,365 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,365 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,365 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.38
2025-04-17 19:23:24,365 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,365 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,365 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,365 - src.engine.execution_engine - INFO - Executed 0 of 3 orders
2025-04-17 19:23:24,365 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99951.73, Equity: 99951.73
2025-04-17 19:23:24,365 - src.engine.execution_engine - INFO - Remaining pending orders: 3
2025-04-17 19:23:24,365 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:02:00
2025-04-17 19:23:24,365 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:02:00, Close: 521.3099
2025-04-17 19:23:24,365 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3820, Slow SMA = 521.3868
2025-04-17 19:23:24,365 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.006540, Curr diff: -0.004853
2025-04-17 19:23:24,365 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bearish crossover for SPY @ 2024-03-26 16:02:00
2025-04-17 19:23:24,365 - src.position_management.position_manager - INFO - Position manager received SELL signal for SPY at price 521.3099
2025-04-17 19:23:24,365 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: -1
2025-04-17 19:23:24,365 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,365 - src.position_management.position_manager - INFO - Created SHORT position entry action for SPY size 10
2025-04-17 19:23:24,365 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,365 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,365 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,365 - src.engine.execution_engine - INFO - Created order from position action: SPY SELL 10 @ 521.3099
2025-04-17 19:23:24,365 - src.engine.execution_engine - INFO - Order received: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,365 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,365 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.38
2025-04-17 19:23:24,365 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,365 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,365 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,365 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,365 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,365 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,365 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,365 - __main__ - DEBUG - Signal details: SELL for SPY @ 521.3099
2025-04-17 19:23:24,365 - src.rules.rule_base - INFO - Generated SELL signal for SPY @ 521.3099
2025-04-17 19:23:24,365 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:02:00
2025-04-17 19:23:24,365 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,365 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:02:00, Close: 521.3099
2025-04-17 19:23:24,365 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3600, Slow SMA = 521.3815
2025-04-17 19:23:24,365 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.004853, Curr diff: -0.021533
2025-04-17 19:23:24,365 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,365 - src.engine.execution_engine - INFO - Processing 4 pending orders for bar: SPY, close=521.3099
2025-04-17 19:23:24,365 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99951.73, Equity: 99951.73
2025-04-17 19:23:24,365 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: db4ebc7f-0042-446e-bf3d-12b51769d88b)
2025-04-17 19:23:24,365 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,365 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,365 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.3099
2025-04-17 19:23:24,365 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,365 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,365 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,365 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: 08ea1e99-2fa9-4236-878c-e377ecb134e7)
2025-04-17 19:23:24,365 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,365 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,365 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.3099
2025-04-17 19:23:24,365 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,365 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,365 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,365 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3969, MARKET, ID: fccde0da-bd79-49c2-ae49-f21361af08f4)
2025-04-17 19:23:24,365 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,365 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,365 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.3099
2025-04-17 19:23:24,365 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,365 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,365 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,365 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,365 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,365 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,365 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.3099
2025-04-17 19:23:24,365 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,365 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,365 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,365 - src.engine.execution_engine - INFO - Executed 0 of 4 orders
2025-04-17 19:23:24,365 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99951.73, Equity: 99951.73
2025-04-17 19:23:24,365 - src.engine.execution_engine - INFO - Remaining pending orders: 4
2025-04-17 19:23:24,365 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:03:00
2025-04-17 19:23:24,366 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:03:00, Close: 521.28
2025-04-17 19:23:24,366 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3320, Slow SMA = 521.3742
2025-04-17 19:23:24,366 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.021533, Curr diff: -0.042200
2025-04-17 19:23:24,366 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:03:00
2025-04-17 19:23:24,366 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,366 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:03:00, Close: 521.28
2025-04-17 19:23:24,366 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.3120, Slow SMA = 521.3658
2025-04-17 19:23:24,366 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.042200, Curr diff: -0.053867
2025-04-17 19:23:24,366 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,366 - src.engine.execution_engine - INFO - Processing 4 pending orders for bar: SPY, close=521.28
2025-04-17 19:23:24,366 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99951.73, Equity: 99951.73
2025-04-17 19:23:24,366 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: db4ebc7f-0042-446e-bf3d-12b51769d88b)
2025-04-17 19:23:24,366 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,366 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,366 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.28
2025-04-17 19:23:24,366 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,366 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,366 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,366 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: 08ea1e99-2fa9-4236-878c-e377ecb134e7)
2025-04-17 19:23:24,366 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,366 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,366 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.28
2025-04-17 19:23:24,366 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,366 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,366 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,366 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3969, MARKET, ID: fccde0da-bd79-49c2-ae49-f21361af08f4)
2025-04-17 19:23:24,366 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,366 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,366 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.28
2025-04-17 19:23:24,366 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,366 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,366 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,366 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,366 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,366 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,366 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.28
2025-04-17 19:23:24,366 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,366 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,366 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,366 - src.engine.execution_engine - INFO - Executed 0 of 4 orders
2025-04-17 19:23:24,366 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99951.73, Equity: 99951.73
2025-04-17 19:23:24,366 - src.engine.execution_engine - INFO - Remaining pending orders: 4
2025-04-17 19:23:24,366 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:04:00
2025-04-17 19:23:24,366 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:04:00, Close: 521.23
2025-04-17 19:23:24,366 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2820, Slow SMA = 521.3542
2025-04-17 19:23:24,366 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.053867, Curr diff: -0.072200
2025-04-17 19:23:24,366 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:04:00
2025-04-17 19:23:24,366 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,366 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:04:00, Close: 521.23
2025-04-17 19:23:24,366 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2660, Slow SMA = 521.3458
2025-04-17 19:23:24,366 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.072200, Curr diff: -0.079847
2025-04-17 19:23:24,366 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,366 - src.engine.execution_engine - INFO - Processing 4 pending orders for bar: SPY, close=521.23
2025-04-17 19:23:24,366 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99951.73, Equity: 99951.73
2025-04-17 19:23:24,366 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: db4ebc7f-0042-446e-bf3d-12b51769d88b)
2025-04-17 19:23:24,366 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,366 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,366 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.23
2025-04-17 19:23:24,366 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,366 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,366 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,366 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: 08ea1e99-2fa9-4236-878c-e377ecb134e7)
2025-04-17 19:23:24,366 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,366 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,366 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.23
2025-04-17 19:23:24,366 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,366 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,366 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,366 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3969, MARKET, ID: fccde0da-bd79-49c2-ae49-f21361af08f4)
2025-04-17 19:23:24,366 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,366 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,366 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.23
2025-04-17 19:23:24,366 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,366 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,366 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,366 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,366 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,366 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,366 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.23
2025-04-17 19:23:24,366 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,366 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,366 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,366 - src.engine.execution_engine - INFO - Executed 0 of 4 orders
2025-04-17 19:23:24,366 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99951.73, Equity: 99951.73
2025-04-17 19:23:24,366 - src.engine.execution_engine - INFO - Remaining pending orders: 4
2025-04-17 19:23:24,366 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:05:00
2025-04-17 19:23:24,366 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:05:00, Close: 521.2
2025-04-17 19:23:24,366 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2440, Slow SMA = 521.3355
2025-04-17 19:23:24,366 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.079847, Curr diff: -0.091493
2025-04-17 19:23:24,366 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:05:00
2025-04-17 19:23:24,366 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,366 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:05:00, Close: 521.2
2025-04-17 19:23:24,366 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2280, Slow SMA = 521.3222
2025-04-17 19:23:24,366 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.091493, Curr diff: -0.094200
2025-04-17 19:23:24,366 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,366 - src.engine.execution_engine - INFO - Processing 4 pending orders for bar: SPY, close=521.2
2025-04-17 19:23:24,366 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99951.73, Equity: 99951.73
2025-04-17 19:23:24,366 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: db4ebc7f-0042-446e-bf3d-12b51769d88b)
2025-04-17 19:23:24,366 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,366 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,367 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.2
2025-04-17 19:23:24,367 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,367 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,367 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,367 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: 08ea1e99-2fa9-4236-878c-e377ecb134e7)
2025-04-17 19:23:24,367 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,367 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,367 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.2
2025-04-17 19:23:24,367 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,367 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,367 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,367 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3969, MARKET, ID: fccde0da-bd79-49c2-ae49-f21361af08f4)
2025-04-17 19:23:24,367 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,367 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,367 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.2
2025-04-17 19:23:24,367 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,367 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,367 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,367 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,367 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,367 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,367 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.2
2025-04-17 19:23:24,367 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,367 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,367 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,367 - src.engine.execution_engine - INFO - Executed 0 of 4 orders
2025-04-17 19:23:24,367 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99951.73, Equity: 99951.73
2025-04-17 19:23:24,367 - src.engine.execution_engine - INFO - Remaining pending orders: 4
2025-04-17 19:23:24,367 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:06:00
2025-04-17 19:23:24,367 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:06:00, Close: 521.1699
2025-04-17 19:23:24,367 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2060, Slow SMA = 521.3069
2025-04-17 19:23:24,367 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.094200, Curr diff: -0.100920
2025-04-17 19:23:24,367 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:06:00
2025-04-17 19:23:24,367 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,367 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:06:00, Close: 521.1699
2025-04-17 19:23:24,367 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1940, Slow SMA = 521.2918
2025-04-17 19:23:24,367 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.100920, Curr diff: -0.097807
2025-04-17 19:23:24,367 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,367 - src.engine.execution_engine - INFO - Processing 4 pending orders for bar: SPY, close=521.1699
2025-04-17 19:23:24,367 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99951.73, Equity: 99951.73
2025-04-17 19:23:24,367 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: db4ebc7f-0042-446e-bf3d-12b51769d88b)
2025-04-17 19:23:24,367 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,367 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,367 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.1699
2025-04-17 19:23:24,367 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,367 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,367 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,367 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: 08ea1e99-2fa9-4236-878c-e377ecb134e7)
2025-04-17 19:23:24,367 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,367 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,367 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.1699
2025-04-17 19:23:24,367 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,367 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,367 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,367 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3969, MARKET, ID: fccde0da-bd79-49c2-ae49-f21361af08f4)
2025-04-17 19:23:24,367 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,367 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,367 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.1699
2025-04-17 19:23:24,367 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,367 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,367 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,367 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,367 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,367 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,367 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.1699
2025-04-17 19:23:24,367 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,367 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,367 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,367 - src.engine.execution_engine - INFO - Executed 0 of 4 orders
2025-04-17 19:23:24,367 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99951.73, Equity: 99951.73
2025-04-17 19:23:24,367 - src.engine.execution_engine - INFO - Remaining pending orders: 4
2025-04-17 19:23:24,367 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:07:00
2025-04-17 19:23:24,367 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:07:00, Close: 521.25
2025-04-17 19:23:24,367 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1980, Slow SMA = 521.2820
2025-04-17 19:23:24,367 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.097807, Curr diff: -0.084013
2025-04-17 19:23:24,367 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:07:00
2025-04-17 19:23:24,367 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,367 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:07:00, Close: 521.25
2025-04-17 19:23:24,367 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2080, Slow SMA = 521.2706
2025-04-17 19:23:24,367 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.084013, Curr diff: -0.062680
2025-04-17 19:23:24,367 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,367 - src.engine.execution_engine - INFO - Processing 4 pending orders for bar: SPY, close=521.25
2025-04-17 19:23:24,367 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99951.73, Equity: 99951.73
2025-04-17 19:23:24,367 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: db4ebc7f-0042-446e-bf3d-12b51769d88b)
2025-04-17 19:23:24,367 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,367 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,367 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.25
2025-04-17 19:23:24,367 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,367 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,367 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,367 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: 08ea1e99-2fa9-4236-878c-e377ecb134e7)
2025-04-17 19:23:24,367 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,367 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,367 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.25
2025-04-17 19:23:24,367 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,367 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,367 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,367 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3969, MARKET, ID: fccde0da-bd79-49c2-ae49-f21361af08f4)
2025-04-17 19:23:24,367 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,367 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,367 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.25
2025-04-17 19:23:24,367 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,367 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,367 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,367 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,368 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,368 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,368 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.25
2025-04-17 19:23:24,368 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,368 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,368 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,368 - src.engine.execution_engine - INFO - Executed 0 of 4 orders
2025-04-17 19:23:24,368 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99951.73, Equity: 99951.73
2025-04-17 19:23:24,368 - src.engine.execution_engine - INFO - Remaining pending orders: 4
2025-04-17 19:23:24,368 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:08:00
2025-04-17 19:23:24,368 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:08:00, Close: 521.2085
2025-04-17 19:23:24,368 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2097, Slow SMA = 521.2565
2025-04-17 19:23:24,368 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.062680, Curr diff: -0.046880
2025-04-17 19:23:24,368 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:08:00
2025-04-17 19:23:24,368 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,368 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:08:00, Close: 521.2085
2025-04-17 19:23:24,368 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2174, Slow SMA = 521.2451
2025-04-17 19:23:24,368 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.046880, Curr diff: -0.027727
2025-04-17 19:23:24,368 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,368 - src.engine.execution_engine - INFO - Processing 4 pending orders for bar: SPY, close=521.2085
2025-04-17 19:23:24,368 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99951.73, Equity: 99951.73
2025-04-17 19:23:24,368 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: db4ebc7f-0042-446e-bf3d-12b51769d88b)
2025-04-17 19:23:24,368 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,368 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,368 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.2085
2025-04-17 19:23:24,368 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,368 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,368 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,368 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: 08ea1e99-2fa9-4236-878c-e377ecb134e7)
2025-04-17 19:23:24,368 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,368 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,368 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.2085
2025-04-17 19:23:24,368 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,368 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,368 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,368 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3969, MARKET, ID: fccde0da-bd79-49c2-ae49-f21361af08f4)
2025-04-17 19:23:24,368 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,368 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,368 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.2085
2025-04-17 19:23:24,368 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,368 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,368 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,368 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,368 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,368 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,368 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.2085
2025-04-17 19:23:24,368 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,368 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,368 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,368 - src.engine.execution_engine - INFO - Executed 0 of 4 orders
2025-04-17 19:23:24,368 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99951.73, Equity: 99951.73
2025-04-17 19:23:24,368 - src.engine.execution_engine - INFO - Remaining pending orders: 4
2025-04-17 19:23:24,368 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:09:00
2025-04-17 19:23:24,368 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:09:00, Close: 521.195
2025-04-17 19:23:24,368 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2224, Slow SMA = 521.2328
2025-04-17 19:23:24,368 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.027727, Curr diff: -0.010373
2025-04-17 19:23:24,368 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:09:00
2025-04-17 19:23:24,368 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,368 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:09:00, Close: 521.195
2025-04-17 19:23:24,368 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2114, Slow SMA = 521.2251
2025-04-17 19:23:24,368 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.010373, Curr diff: -0.013713
2025-04-17 19:23:24,368 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,368 - src.engine.execution_engine - INFO - Processing 4 pending orders for bar: SPY, close=521.195
2025-04-17 19:23:24,368 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99951.73, Equity: 99951.73
2025-04-17 19:23:24,368 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: db4ebc7f-0042-446e-bf3d-12b51769d88b)
2025-04-17 19:23:24,368 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,368 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,368 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.195
2025-04-17 19:23:24,368 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,368 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,368 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,368 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: 08ea1e99-2fa9-4236-878c-e377ecb134e7)
2025-04-17 19:23:24,368 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,368 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,368 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.195
2025-04-17 19:23:24,368 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,368 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,368 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,368 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3969, MARKET, ID: fccde0da-bd79-49c2-ae49-f21361af08f4)
2025-04-17 19:23:24,368 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,368 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,368 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.195
2025-04-17 19:23:24,368 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,368 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,368 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,368 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,368 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,368 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,368 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.195
2025-04-17 19:23:24,368 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,368 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,368 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,368 - src.engine.execution_engine - INFO - Executed 0 of 4 orders
2025-04-17 19:23:24,368 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99951.73, Equity: 99951.73
2025-04-17 19:23:24,368 - src.engine.execution_engine - INFO - Remaining pending orders: 4
2025-04-17 19:23:24,368 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:10:00
2025-04-17 19:23:24,368 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:10:00, Close: 521.2
2025-04-17 19:23:24,368 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2014, Slow SMA = 521.2178
2025-04-17 19:23:24,369 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.013713, Curr diff: -0.016387
2025-04-17 19:23:24,369 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:10:00
2025-04-17 19:23:24,369 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,369 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:10:00, Close: 521.2
2025-04-17 19:23:24,369 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1997, Slow SMA = 521.2125
2025-04-17 19:23:24,369 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.016387, Curr diff: -0.012753
2025-04-17 19:23:24,369 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,369 - src.engine.execution_engine - INFO - Processing 4 pending orders for bar: SPY, close=521.2
2025-04-17 19:23:24,369 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99951.73, Equity: 99951.73
2025-04-17 19:23:24,369 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: db4ebc7f-0042-446e-bf3d-12b51769d88b)
2025-04-17 19:23:24,369 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,369 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,369 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.2
2025-04-17 19:23:24,369 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,369 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,369 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,369 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: 08ea1e99-2fa9-4236-878c-e377ecb134e7)
2025-04-17 19:23:24,369 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,369 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,369 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.2
2025-04-17 19:23:24,369 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,369 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,369 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,369 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3969, MARKET, ID: fccde0da-bd79-49c2-ae49-f21361af08f4)
2025-04-17 19:23:24,369 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,369 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,369 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.2
2025-04-17 19:23:24,369 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,369 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,369 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,369 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,369 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,369 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,369 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.2
2025-04-17 19:23:24,369 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,369 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,369 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,369 - src.engine.execution_engine - INFO - Executed 0 of 4 orders
2025-04-17 19:23:24,369 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99951.73, Equity: 99951.73
2025-04-17 19:23:24,369 - src.engine.execution_engine - INFO - Remaining pending orders: 4
2025-04-17 19:23:24,369 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:11:00
2025-04-17 19:23:24,369 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:11:00, Close: 521.23
2025-04-17 19:23:24,369 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2040, Slow SMA = 521.2091
2025-04-17 19:23:24,369 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.012753, Curr diff: -0.005120
2025-04-17 19:23:24,369 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:11:00
2025-04-17 19:23:24,369 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,369 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:11:00, Close: 521.23
2025-04-17 19:23:24,369 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2110, Slow SMA = 521.2091
2025-04-17 19:23:24,369 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.005120, Curr diff: 0.001880
2025-04-17 19:23:24,369 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bullish crossover for SPY @ 2024-03-26 16:11:00
2025-04-17 19:23:24,369 - src.position_management.position_manager - INFO - Position manager received BUY signal for SPY at price 521.23
2025-04-17 19:23:24,369 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: 1
2025-04-17 19:23:24,369 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,369 - src.position_management.position_manager - INFO - Created LONG position entry action for SPY size 10
2025-04-17 19:23:24,369 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,369 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,369 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,369 - src.engine.execution_engine - INFO - Created order from position action: SPY BUY 10 @ 521.23
2025-04-17 19:23:24,369 - src.engine.execution_engine - INFO - Order received: OrderEvent(BUY 10 SPY @ 521.23, MARKET, ID: eed01207-71f6-4ad4-8cfd-bc9830667e25)
2025-04-17 19:23:24,369 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(BUY 10 SPY @ 521.23, MARKET, ID: eed01207-71f6-4ad4-8cfd-bc9830667e25)
2025-04-17 19:23:24,369 - src.engine.execution_engine - INFO - Executing BUY order: 10 shares at 521.2
2025-04-17 19:23:24,369 - src.position_management.position - INFO - Position opened: 7043f79a-6591-4cba-b948-7f5198056cd4 SPY LONG 10 @ 521.2
2025-04-17 19:23:24,369 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,369 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,369 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,369 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(BUY 10 SPY @ 521.2, cost=0.00)
2025-04-17 19:23:24,369 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(BUY 10 SPY @ 521.23, MARKET, ID: eed01207-71f6-4ad4-8cfd-bc9830667e25)
2025-04-17 19:23:24,369 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,369 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,369 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,369 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,369 - __main__ - DEBUG - Signal details: BUY for SPY @ 521.23
2025-04-17 19:23:24,369 - src.rules.rule_base - INFO - Generated BUY signal for SPY @ 521.23
2025-04-17 19:23:24,369 - src.engine.backtester - DEBUG - Emitting signal from strategy: SignalEvent(BUY, SPY, price=521.23)
2025-04-17 19:23:24,369 - src.engine.backtester - DEBUG - Emitted signal event: BUY for SPY
2025-04-17 19:23:24,369 - src.position_management.position_manager - INFO - Position manager received BUY signal for SPY at price 521.23
2025-04-17 19:23:24,369 - src.position_management.position_manager - INFO - Current net position for SPY: 10, direction: 1
2025-04-17 19:23:24,369 - src.position_management.position_manager - INFO - Already have position in LONG direction - skipping
2025-04-17 19:23:24,369 - src.position_management.position_manager - INFO - No position actions created from signal
2025-04-17 19:23:24,369 - src.engine.backtester - DEBUG - Event flow: SIGNAL event received
2025-04-17 19:23:24,369 - src.engine.backtester - DEBUG - Signal: BUY for SPY at 521.23
2025-04-17 19:23:24,369 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,369 - src.engine.execution_engine - INFO - Processing 4 pending orders for bar: SPY, close=521.23
2025-04-17 19:23:24,369 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 89527.73, Equity: 94740.03
2025-04-17 19:23:24,369 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: db4ebc7f-0042-446e-bf3d-12b51769d88b)
2025-04-17 19:23:24,369 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,369 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,369 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.23
2025-04-17 19:23:24,369 - src.position_management.position - INFO - Position closed: 7043f79a-6591-4cba-b948-7f5198056cd4 SPY LONG 10 @ 521.23 P&L: 0.30
2025-04-17 19:23:24,369 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,369 - src.position_management.portfolio - INFO - Position closed: 7043f79a-6591-4cba-b948-7f5198056cd4 SPY PnL: 0.30
2025-04-17 19:23:24,369 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,369 - src.engine.execution_engine - INFO - Commission charged: 5.21, remaining cash: 99947.12
2025-04-17 19:23:24,369 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,369 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,369 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(SELL 10 SPY @ 521.23, cost=5.21)
2025-04-17 19:23:24,369 - src.engine.execution_engine - INFO - Order executed successfully, Fill price: 521.23
2025-04-17 19:23:24,369 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: 08ea1e99-2fa9-4236-878c-e377ecb134e7)
2025-04-17 19:23:24,370 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,370 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,370 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.23
2025-04-17 19:23:24,370 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,370 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,370 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,370 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3969, MARKET, ID: fccde0da-bd79-49c2-ae49-f21361af08f4)
2025-04-17 19:23:24,370 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,370 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,370 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.23
2025-04-17 19:23:24,370 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,370 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,370 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,370 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,370 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,370 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,370 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.23
2025-04-17 19:23:24,370 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,370 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,370 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,370 - src.engine.execution_engine - INFO - Executed 1 of 4 orders
2025-04-17 19:23:24,370 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99947.12, Equity: 99952.33
2025-04-17 19:23:24,370 - src.engine.execution_engine - INFO - Remaining pending orders: 3
2025-04-17 19:23:24,370 - src.engine.backtester - DEBUG - Executed 1 fills
2025-04-17 19:23:24,370 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:12:00
2025-04-17 19:23:24,370 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:12:00, Close: 521.18
2025-04-17 19:23:24,370 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2080, Slow SMA = 521.2058
2025-04-17 19:23:24,370 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.001880, Curr diff: 0.002213
2025-04-17 19:23:24,370 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:12:00
2025-04-17 19:23:24,370 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,370 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:12:00, Close: 521.18
2025-04-17 19:23:24,370 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.2040, Slow SMA = 521.2045
2025-04-17 19:23:24,370 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.002213, Curr diff: -0.000453
2025-04-17 19:23:24,370 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bearish crossover for SPY @ 2024-03-26 16:12:00
2025-04-17 19:23:24,370 - src.position_management.position_manager - INFO - Position manager received SELL signal for SPY at price 521.18
2025-04-17 19:23:24,370 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: -1
2025-04-17 19:23:24,370 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,370 - src.position_management.position_manager - INFO - Created SHORT position entry action for SPY size 10
2025-04-17 19:23:24,370 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,370 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,370 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,370 - src.engine.execution_engine - INFO - Created order from position action: SPY SELL 10 @ 521.18
2025-04-17 19:23:24,370 - src.engine.execution_engine - INFO - Order received: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,370 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,370 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.23
2025-04-17 19:23:24,370 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,370 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,370 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,370 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,370 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,370 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,370 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,370 - __main__ - DEBUG - Signal details: SELL for SPY @ 521.18
2025-04-17 19:23:24,370 - src.rules.rule_base - INFO - Generated SELL signal for SPY @ 521.18
2025-04-17 19:23:24,370 - src.engine.backtester - DEBUG - Emitting signal from strategy: SignalEvent(SELL, SPY, price=521.18)
2025-04-17 19:23:24,370 - src.engine.backtester - DEBUG - Emitted signal event: SELL for SPY
2025-04-17 19:23:24,370 - src.position_management.position_manager - INFO - Position manager received SELL signal for SPY at price 521.18
2025-04-17 19:23:24,370 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: -1
2025-04-17 19:23:24,370 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,370 - src.position_management.position_manager - INFO - Created SHORT position entry action for SPY size 10
2025-04-17 19:23:24,370 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,370 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,370 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,370 - src.engine.execution_engine - INFO - Created order from position action: SPY SELL 10 @ 521.18
2025-04-17 19:23:24,370 - src.engine.execution_engine - INFO - Order received: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,370 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,370 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.23
2025-04-17 19:23:24,370 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,370 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,370 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,370 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,370 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,370 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,370 - src.engine.backtester - DEBUG - Event flow: SIGNAL event received
2025-04-17 19:23:24,370 - src.engine.backtester - DEBUG - Signal: SELL for SPY at 521.18
2025-04-17 19:23:24,370 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,370 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=521.18
2025-04-17 19:23:24,370 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99947.12, Equity: 99947.12
2025-04-17 19:23:24,370 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: 08ea1e99-2fa9-4236-878c-e377ecb134e7)
2025-04-17 19:23:24,370 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,370 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,370 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.18
2025-04-17 19:23:24,370 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,370 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,370 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,370 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3969, MARKET, ID: fccde0da-bd79-49c2-ae49-f21361af08f4)
2025-04-17 19:23:24,370 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,370 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,370 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.18
2025-04-17 19:23:24,370 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,370 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,370 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,370 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,370 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,370 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,370 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.18
2025-04-17 19:23:24,370 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,370 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,370 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,370 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,370 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,370 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,370 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.18
2025-04-17 19:23:24,370 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,370 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,370 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,370 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,371 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,371 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,371 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.18
2025-04-17 19:23:24,371 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,371 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,371 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,371 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,371 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99947.12, Equity: 99947.12
2025-04-17 19:23:24,371 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,371 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:13:00
2025-04-17 19:23:24,371 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:13:00, Close: 521.155
2025-04-17 19:23:24,371 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1950, Slow SMA = 521.2015
2025-04-17 19:23:24,371 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.000453, Curr diff: -0.006453
2025-04-17 19:23:24,371 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:13:00
2025-04-17 19:23:24,371 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,371 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:13:00, Close: 521.155
2025-04-17 19:23:24,371 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1800, Slow SMA = 521.2005
2025-04-17 19:23:24,371 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.006453, Curr diff: -0.020460
2025-04-17 19:23:24,371 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,371 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=521.155
2025-04-17 19:23:24,371 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99947.12, Equity: 99947.12
2025-04-17 19:23:24,371 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: 08ea1e99-2fa9-4236-878c-e377ecb134e7)
2025-04-17 19:23:24,371 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,371 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,371 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.155
2025-04-17 19:23:24,371 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,371 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,371 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,371 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3969, MARKET, ID: fccde0da-bd79-49c2-ae49-f21361af08f4)
2025-04-17 19:23:24,371 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,371 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,371 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.155
2025-04-17 19:23:24,371 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,371 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,371 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,371 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,371 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,371 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,371 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.155
2025-04-17 19:23:24,371 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,371 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,371 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,371 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,371 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,371 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,371 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.155
2025-04-17 19:23:24,371 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,371 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,371 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,371 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,371 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,371 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,371 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.155
2025-04-17 19:23:24,371 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,371 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,371 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,371 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,371 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99947.12, Equity: 99947.12
2025-04-17 19:23:24,371 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,371 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:14:00
2025-04-17 19:23:24,371 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:14:00, Close: 521.18
2025-04-17 19:23:24,371 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1700, Slow SMA = 521.2011
2025-04-17 19:23:24,371 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.020460, Curr diff: -0.031133
2025-04-17 19:23:24,371 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:14:00
2025-04-17 19:23:24,371 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,371 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:14:00, Close: 521.18
2025-04-17 19:23:24,371 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1700, Slow SMA = 521.1965
2025-04-17 19:23:24,371 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.031133, Curr diff: -0.026467
2025-04-17 19:23:24,371 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,371 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=521.18
2025-04-17 19:23:24,371 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99947.12, Equity: 99947.12
2025-04-17 19:23:24,371 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: 08ea1e99-2fa9-4236-878c-e377ecb134e7)
2025-04-17 19:23:24,371 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,371 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,371 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.18
2025-04-17 19:23:24,371 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,371 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,371 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,371 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3969, MARKET, ID: fccde0da-bd79-49c2-ae49-f21361af08f4)
2025-04-17 19:23:24,371 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,371 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,371 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.18
2025-04-17 19:23:24,371 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,371 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,371 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,371 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,371 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,371 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,371 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.18
2025-04-17 19:23:24,371 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,371 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,371 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,371 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,371 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,371 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,371 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.18
2025-04-17 19:23:24,371 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,371 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,371 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,371 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,371 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,371 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,371 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.18
2025-04-17 19:23:24,371 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,372 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,372 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,372 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,372 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99947.12, Equity: 99947.12
2025-04-17 19:23:24,372 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,372 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:15:00
2025-04-17 19:23:24,372 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:15:00, Close: 521.17
2025-04-17 19:23:24,372 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1680, Slow SMA = 521.1911
2025-04-17 19:23:24,372 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.026467, Curr diff: -0.023133
2025-04-17 19:23:24,372 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:15:00
2025-04-17 19:23:24,372 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,372 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:15:00, Close: 521.17
2025-04-17 19:23:24,372 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1710, Slow SMA = 521.1886
2025-04-17 19:23:24,372 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.023133, Curr diff: -0.017567
2025-04-17 19:23:24,372 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,372 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=521.17
2025-04-17 19:23:24,372 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99947.12, Equity: 99947.12
2025-04-17 19:23:24,372 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: 08ea1e99-2fa9-4236-878c-e377ecb134e7)
2025-04-17 19:23:24,372 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,372 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,372 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.17
2025-04-17 19:23:24,372 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,372 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,372 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,372 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3969, MARKET, ID: fccde0da-bd79-49c2-ae49-f21361af08f4)
2025-04-17 19:23:24,372 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,372 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,372 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.17
2025-04-17 19:23:24,372 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,372 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,372 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,372 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,372 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,372 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,372 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.17
2025-04-17 19:23:24,372 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,372 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,372 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,372 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,372 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,372 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,372 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.17
2025-04-17 19:23:24,372 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,372 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,372 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,372 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,372 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,372 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,372 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.17
2025-04-17 19:23:24,372 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,372 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,372 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,372 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,372 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99947.12, Equity: 99947.12
2025-04-17 19:23:24,372 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,372 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:16:00
2025-04-17 19:23:24,372 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:16:00, Close: 521.11
2025-04-17 19:23:24,372 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1620, Slow SMA = 521.1820
2025-04-17 19:23:24,372 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.017567, Curr diff: -0.020000
2025-04-17 19:23:24,372 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:16:00
2025-04-17 19:23:24,372 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,372 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:16:00, Close: 521.11
2025-04-17 19:23:24,372 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1480, Slow SMA = 521.1763
2025-04-17 19:23:24,372 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.020000, Curr diff: -0.028333
2025-04-17 19:23:24,372 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,372 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=521.11
2025-04-17 19:23:24,372 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99947.12, Equity: 99947.12
2025-04-17 19:23:24,372 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: 08ea1e99-2fa9-4236-878c-e377ecb134e7)
2025-04-17 19:23:24,372 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,372 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,372 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.11
2025-04-17 19:23:24,372 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,372 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,372 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,372 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3969, MARKET, ID: fccde0da-bd79-49c2-ae49-f21361af08f4)
2025-04-17 19:23:24,372 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,372 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,372 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.11
2025-04-17 19:23:24,372 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,372 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,372 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,372 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,372 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,372 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,372 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.11
2025-04-17 19:23:24,372 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,372 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,372 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,372 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,372 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,372 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,372 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.11
2025-04-17 19:23:24,372 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,372 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,372 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,372 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,372 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,372 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,372 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.11
2025-04-17 19:23:24,372 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,372 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,372 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,372 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,372 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99947.12, Equity: 99947.12
2025-04-17 19:23:24,372 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,373 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:17:00
2025-04-17 19:23:24,373 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:17:00, Close: 521.1504
2025-04-17 19:23:24,373 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1421, Slow SMA = 521.1734
2025-04-17 19:23:24,373 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.028333, Curr diff: -0.031280
2025-04-17 19:23:24,373 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:17:00
2025-04-17 19:23:24,373 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,373 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:17:00, Close: 521.1504
2025-04-17 19:23:24,373 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1382, Slow SMA = 521.1701
2025-04-17 19:23:24,373 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.031280, Curr diff: -0.031893
2025-04-17 19:23:24,373 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,373 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=521.1504
2025-04-17 19:23:24,373 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99947.12, Equity: 99947.12
2025-04-17 19:23:24,373 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: 08ea1e99-2fa9-4236-878c-e377ecb134e7)
2025-04-17 19:23:24,373 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,373 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,373 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.1504
2025-04-17 19:23:24,373 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,373 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,373 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,373 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3969, MARKET, ID: fccde0da-bd79-49c2-ae49-f21361af08f4)
2025-04-17 19:23:24,373 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,373 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,373 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.1504
2025-04-17 19:23:24,373 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,373 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,373 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,373 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,373 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,373 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,373 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.1504
2025-04-17 19:23:24,373 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,373 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,373 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,373 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,373 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,373 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,373 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.1504
2025-04-17 19:23:24,373 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,373 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,373 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,373 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,373 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,373 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,373 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.1504
2025-04-17 19:23:24,373 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,373 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,373 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,373 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,373 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99947.12, Equity: 99947.12
2025-04-17 19:23:24,373 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,373 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:18:00
2025-04-17 19:23:24,373 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:18:00, Close: 521.21
2025-04-17 19:23:24,373 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1462, Slow SMA = 521.1707
2025-04-17 19:23:24,373 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.031893, Curr diff: -0.024560
2025-04-17 19:23:24,373 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:18:00
2025-04-17 19:23:24,373 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,373 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:18:00, Close: 521.21
2025-04-17 19:23:24,373 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1662, Slow SMA = 521.1694
2025-04-17 19:23:24,373 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.024560, Curr diff: -0.003227
2025-04-17 19:23:24,373 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,373 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=521.21
2025-04-17 19:23:24,373 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99947.12, Equity: 99947.12
2025-04-17 19:23:24,373 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: 08ea1e99-2fa9-4236-878c-e377ecb134e7)
2025-04-17 19:23:24,373 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,373 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,373 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.21
2025-04-17 19:23:24,373 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,373 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,373 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,373 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3969, MARKET, ID: fccde0da-bd79-49c2-ae49-f21361af08f4)
2025-04-17 19:23:24,373 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,373 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,373 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.21
2025-04-17 19:23:24,373 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,373 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,373 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,373 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,373 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,373 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,373 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.21
2025-04-17 19:23:24,373 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,373 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,373 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,373 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,373 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,373 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,373 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.21
2025-04-17 19:23:24,373 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,373 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,373 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,373 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,373 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,373 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,373 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.21
2025-04-17 19:23:24,373 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,373 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,373 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,373 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,373 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99947.12, Equity: 99947.12
2025-04-17 19:23:24,373 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,374 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:19:00
2025-04-17 19:23:24,374 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:19:00, Close: 521.115
2025-04-17 19:23:24,374 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1672, Slow SMA = 521.1617
2025-04-17 19:23:24,374 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.003227, Curr diff: 0.005440
2025-04-17 19:23:24,374 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bullish crossover for SPY @ 2024-03-26 16:19:00
2025-04-17 19:23:24,374 - src.position_management.position_manager - INFO - Position manager received BUY signal for SPY at price 521.115
2025-04-17 19:23:24,374 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: 1
2025-04-17 19:23:24,374 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,374 - src.position_management.position_manager - INFO - Created LONG position entry action for SPY size 10
2025-04-17 19:23:24,374 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,374 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,374 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,374 - src.engine.execution_engine - INFO - Created order from position action: SPY BUY 10 @ 521.115
2025-04-17 19:23:24,374 - src.engine.execution_engine - INFO - Order received: OrderEvent(BUY 10 SPY @ 521.115, MARKET, ID: b3a848c0-9788-4a3c-a086-6a7818d4f654)
2025-04-17 19:23:24,374 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(BUY 10 SPY @ 521.115, MARKET, ID: b3a848c0-9788-4a3c-a086-6a7818d4f654)
2025-04-17 19:23:24,374 - src.engine.execution_engine - INFO - Executing BUY order: 10 shares at 521.21
2025-04-17 19:23:24,374 - src.position_management.position - INFO - Position opened: e8695570-54a8-4e37-9fe5-83150145279a SPY LONG 10 @ 521.21
2025-04-17 19:23:24,374 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,374 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,374 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,374 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(BUY 10 SPY @ 521.21, cost=0.00)
2025-04-17 19:23:24,374 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(BUY 10 SPY @ 521.115, MARKET, ID: b3a848c0-9788-4a3c-a086-6a7818d4f654)
2025-04-17 19:23:24,374 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,374 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,374 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,374 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,374 - __main__ - DEBUG - Signal details: BUY for SPY @ 521.115
2025-04-17 19:23:24,374 - src.rules.rule_base - INFO - Generated BUY signal for SPY @ 521.115
2025-04-17 19:23:24,374 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:19:00
2025-04-17 19:23:24,374 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,374 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:19:00, Close: 521.115
2025-04-17 19:23:24,374 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1601, Slow SMA = 521.1574
2025-04-17 19:23:24,374 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.005440, Curr diff: 0.002693
2025-04-17 19:23:24,374 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,374 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=521.115
2025-04-17 19:23:24,374 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 89522.92, Equity: 94734.07
2025-04-17 19:23:24,374 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.14, MARKET, ID: 08ea1e99-2fa9-4236-878c-e377ecb134e7)
2025-04-17 19:23:24,374 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,374 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,374 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.115
2025-04-17 19:23:24,374 - src.position_management.position - INFO - Position closed: e8695570-54a8-4e37-9fe5-83150145279a SPY LONG 10 @ 521.115 P&L: -0.95
2025-04-17 19:23:24,374 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,374 - src.position_management.portfolio - INFO - Position closed: e8695570-54a8-4e37-9fe5-83150145279a SPY PnL: -0.95
2025-04-17 19:23:24,374 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,374 - src.engine.execution_engine - INFO - Commission charged: 5.21, remaining cash: 99940.01
2025-04-17 19:23:24,374 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,374 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,374 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(SELL 10 SPY @ 521.115, cost=5.21)
2025-04-17 19:23:24,374 - src.engine.execution_engine - INFO - Order executed successfully, Fill price: 521.12
2025-04-17 19:23:24,374 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3969, MARKET, ID: fccde0da-bd79-49c2-ae49-f21361af08f4)
2025-04-17 19:23:24,374 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,374 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,374 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.115
2025-04-17 19:23:24,374 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,374 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,374 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,374 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,374 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,374 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,374 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.115
2025-04-17 19:23:24,374 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,374 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,374 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,374 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,374 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,374 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,374 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.115
2025-04-17 19:23:24,374 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,374 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,374 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,374 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,374 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,374 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,374 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.115
2025-04-17 19:23:24,374 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,374 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,374 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,374 - src.engine.execution_engine - INFO - Executed 1 of 5 orders
2025-04-17 19:23:24,374 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99940.01, Equity: 99945.22
2025-04-17 19:23:24,374 - src.engine.execution_engine - INFO - Remaining pending orders: 4
2025-04-17 19:23:24,374 - src.engine.backtester - DEBUG - Executed 1 fills
2025-04-17 19:23:24,374 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:20:00
2025-04-17 19:23:24,374 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:20:00, Close: 521.0
2025-04-17 19:23:24,374 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1300, Slow SMA = 521.1454
2025-04-17 19:23:24,374 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.002693, Curr diff: -0.015387
2025-04-17 19:23:24,374 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bearish crossover for SPY @ 2024-03-26 16:20:00
2025-04-17 19:23:24,374 - src.position_management.position_manager - INFO - Position manager received SELL signal for SPY at price 521.0
2025-04-17 19:23:24,374 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: -1
2025-04-17 19:23:24,374 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,374 - src.position_management.position_manager - INFO - Created SHORT position entry action for SPY size 10
2025-04-17 19:23:24,374 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,374 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,374 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,374 - src.engine.execution_engine - INFO - Created order from position action: SPY SELL 10 @ 521.0
2025-04-17 19:23:24,374 - src.engine.execution_engine - INFO - Order received: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,375 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,375 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.115
2025-04-17 19:23:24,375 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,375 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,375 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,375 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,375 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,375 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,375 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,375 - __main__ - DEBUG - Signal details: SELL for SPY @ 521.0
2025-04-17 19:23:24,375 - src.rules.rule_base - INFO - Generated SELL signal for SPY @ 521.0
2025-04-17 19:23:24,375 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:20:00
2025-04-17 19:23:24,375 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,375 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:20:00, Close: 521.0
2025-04-17 19:23:24,375 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0880, Slow SMA = 521.1351
2025-04-17 19:23:24,375 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.015387, Curr diff: -0.047053
2025-04-17 19:23:24,375 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,375 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=521.0
2025-04-17 19:23:24,375 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99940.01, Equity: 99940.01
2025-04-17 19:23:24,375 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3969, MARKET, ID: fccde0da-bd79-49c2-ae49-f21361af08f4)
2025-04-17 19:23:24,375 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,375 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,375 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0
2025-04-17 19:23:24,375 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,375 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,375 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,375 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,375 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,375 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,375 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0
2025-04-17 19:23:24,375 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,375 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,375 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,375 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,375 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,375 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,375 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0
2025-04-17 19:23:24,375 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,375 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,375 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,375 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,375 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,375 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,375 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0
2025-04-17 19:23:24,375 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,375 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,375 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,375 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,375 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,375 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,375 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0
2025-04-17 19:23:24,375 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,375 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,375 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,375 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,375 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99940.01, Equity: 99940.01
2025-04-17 19:23:24,375 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,375 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:21:00
2025-04-17 19:23:24,375 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:21:00, Close: 521.0
2025-04-17 19:23:24,375 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0460, Slow SMA = 521.1247
2025-04-17 19:23:24,375 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.047053, Curr diff: -0.078720
2025-04-17 19:23:24,375 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:21:00
2025-04-17 19:23:24,375 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,375 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:21:00, Close: 521.0
2025-04-17 19:23:24,375 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0230, Slow SMA = 521.1127
2025-04-17 19:23:24,375 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.078720, Curr diff: -0.089720
2025-04-17 19:23:24,375 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,375 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=521.0
2025-04-17 19:23:24,375 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99940.01, Equity: 99940.01
2025-04-17 19:23:24,375 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3969, MARKET, ID: fccde0da-bd79-49c2-ae49-f21361af08f4)
2025-04-17 19:23:24,375 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,375 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,375 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0
2025-04-17 19:23:24,375 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,375 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,375 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,375 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,375 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,375 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,375 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0
2025-04-17 19:23:24,375 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,375 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,375 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,375 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,375 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,375 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,375 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0
2025-04-17 19:23:24,375 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,375 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,375 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,375 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,375 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,375 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,375 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0
2025-04-17 19:23:24,375 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,375 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,375 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,375 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,375 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,375 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,375 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0
2025-04-17 19:23:24,375 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,375 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,375 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,375 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,375 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99940.01, Equity: 99940.01
2025-04-17 19:23:24,375 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,376 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:22:00
2025-04-17 19:23:24,376 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:22:00, Close: 520.9699
2025-04-17 19:23:24,376 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9940, Slow SMA = 521.0987
2025-04-17 19:23:24,376 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.089720, Curr diff: -0.104733
2025-04-17 19:23:24,376 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:22:00
2025-04-17 19:23:24,376 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,376 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:22:00, Close: 520.9699
2025-04-17 19:23:24,376 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9880, Slow SMA = 521.0854
2025-04-17 19:23:24,376 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.104733, Curr diff: -0.097413
2025-04-17 19:23:24,376 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,376 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=520.9699
2025-04-17 19:23:24,376 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99940.01, Equity: 99940.01
2025-04-17 19:23:24,376 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3969, MARKET, ID: fccde0da-bd79-49c2-ae49-f21361af08f4)
2025-04-17 19:23:24,376 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,376 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,376 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9699
2025-04-17 19:23:24,376 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,376 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,376 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,376 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,376 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,376 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,376 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9699
2025-04-17 19:23:24,376 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,376 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,376 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,376 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,376 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,376 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,376 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9699
2025-04-17 19:23:24,376 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,376 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,376 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,376 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,376 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,376 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,376 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9699
2025-04-17 19:23:24,376 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,376 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,376 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,376 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,376 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,376 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,376 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9699
2025-04-17 19:23:24,376 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,376 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,376 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,376 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,376 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99940.01, Equity: 99940.01
2025-04-17 19:23:24,376 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,376 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:23:00
2025-04-17 19:23:24,376 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:23:00, Close: 521.01
2025-04-17 19:23:24,376 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9900, Slow SMA = 521.0747
2025-04-17 19:23:24,376 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.097413, Curr diff: -0.084747
2025-04-17 19:23:24,376 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:23:00
2025-04-17 19:23:24,376 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,376 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:23:00, Close: 521.01
2025-04-17 19:23:24,376 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9920, Slow SMA = 521.0680
2025-04-17 19:23:24,376 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.084747, Curr diff: -0.076080
2025-04-17 19:23:24,376 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,376 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=521.01
2025-04-17 19:23:24,376 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99940.01, Equity: 99940.01
2025-04-17 19:23:24,376 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3969, MARKET, ID: fccde0da-bd79-49c2-ae49-f21361af08f4)
2025-04-17 19:23:24,376 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,376 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,376 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.01
2025-04-17 19:23:24,376 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,376 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,376 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,376 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,376 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,376 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,376 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.01
2025-04-17 19:23:24,376 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,376 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,376 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,376 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,376 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,376 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,376 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.01
2025-04-17 19:23:24,376 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,376 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,376 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,376 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,376 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,376 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,376 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.01
2025-04-17 19:23:24,376 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,376 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,376 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,376 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,376 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,376 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,376 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.01
2025-04-17 19:23:24,376 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,376 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,376 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,376 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,376 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99940.01, Equity: 99940.01
2025-04-17 19:23:24,376 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,376 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:24:00
2025-04-17 19:23:24,376 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:24:00, Close: 521.02
2025-04-17 19:23:24,376 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9960, Slow SMA = 521.0620
2025-04-17 19:23:24,377 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.076080, Curr diff: -0.066080
2025-04-17 19:23:24,377 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:24:00
2025-04-17 19:23:24,377 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,377 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:24:00, Close: 521.02
2025-04-17 19:23:24,377 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0060, Slow SMA = 521.0533
2025-04-17 19:23:24,377 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.066080, Curr diff: -0.047367
2025-04-17 19:23:24,377 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,377 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=521.02
2025-04-17 19:23:24,377 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99940.01, Equity: 99940.01
2025-04-17 19:23:24,377 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3969, MARKET, ID: fccde0da-bd79-49c2-ae49-f21361af08f4)
2025-04-17 19:23:24,377 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,377 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,377 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.02
2025-04-17 19:23:24,377 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,377 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,377 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,377 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,377 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,377 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,377 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.02
2025-04-17 19:23:24,377 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,377 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,377 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,377 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,377 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,377 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,377 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.02
2025-04-17 19:23:24,377 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,377 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,377 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,377 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,377 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,377 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,377 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.02
2025-04-17 19:23:24,377 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,377 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,377 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,377 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,377 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,377 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,377 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.02
2025-04-17 19:23:24,377 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,377 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,377 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,377 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,377 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99940.01, Equity: 99940.01
2025-04-17 19:23:24,377 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,377 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:25:00
2025-04-17 19:23:24,377 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:25:00, Close: 520.96
2025-04-17 19:23:24,377 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0040, Slow SMA = 521.0407
2025-04-17 19:23:24,377 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.047367, Curr diff: -0.036653
2025-04-17 19:23:24,377 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:25:00
2025-04-17 19:23:24,377 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,377 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:25:00, Close: 520.96
2025-04-17 19:23:24,377 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9940, Slow SMA = 521.0240
2025-04-17 19:23:24,377 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.036653, Curr diff: -0.029987
2025-04-17 19:23:24,377 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,377 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=520.96
2025-04-17 19:23:24,377 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99940.01, Equity: 99940.01
2025-04-17 19:23:24,377 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3969, MARKET, ID: fccde0da-bd79-49c2-ae49-f21361af08f4)
2025-04-17 19:23:24,377 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,377 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,377 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.96
2025-04-17 19:23:24,377 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,377 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,377 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,377 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,377 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,377 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,377 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.96
2025-04-17 19:23:24,377 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,377 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,377 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,377 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,377 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,377 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,377 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.96
2025-04-17 19:23:24,377 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,377 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,377 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,377 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,377 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,377 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,377 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.96
2025-04-17 19:23:24,377 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,377 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,377 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,377 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,377 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,377 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,377 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.96
2025-04-17 19:23:24,377 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,377 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,377 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,377 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,377 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99940.01, Equity: 99940.01
2025-04-17 19:23:24,377 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,377 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:26:00
2025-04-17 19:23:24,377 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:26:00, Close: 520.98
2025-04-17 19:23:24,377 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9880, Slow SMA = 521.0087
2025-04-17 19:23:24,377 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.029987, Curr diff: -0.020653
2025-04-17 19:23:24,377 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:26:00
2025-04-17 19:23:24,378 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,378 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:26:00, Close: 520.98
2025-04-17 19:23:24,378 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9800, Slow SMA = 520.9997
2025-04-17 19:23:24,378 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.020653, Curr diff: -0.019653
2025-04-17 19:23:24,378 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,378 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=520.98
2025-04-17 19:23:24,378 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99940.01, Equity: 99940.01
2025-04-17 19:23:24,378 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3969, MARKET, ID: fccde0da-bd79-49c2-ae49-f21361af08f4)
2025-04-17 19:23:24,378 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,378 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,378 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.98
2025-04-17 19:23:24,378 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,378 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,378 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,378 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,378 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,378 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,378 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.98
2025-04-17 19:23:24,378 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,378 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,378 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,378 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,378 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,378 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,378 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.98
2025-04-17 19:23:24,378 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,378 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,378 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,378 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,378 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,378 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,378 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.98
2025-04-17 19:23:24,378 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,378 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,378 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,378 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,378 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,378 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,378 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.98
2025-04-17 19:23:24,378 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,378 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,378 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,378 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,378 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99940.01, Equity: 99940.01
2025-04-17 19:23:24,378 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,378 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:27:00
2025-04-17 19:23:24,378 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:27:00, Close: 520.99
2025-04-17 19:23:24,378 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9740, Slow SMA = 520.9913
2025-04-17 19:23:24,378 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.019653, Curr diff: -0.017320
2025-04-17 19:23:24,378 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:27:00
2025-04-17 19:23:24,378 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,378 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:27:00, Close: 520.99
2025-04-17 19:23:24,378 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9800, Slow SMA = 520.9907
2025-04-17 19:23:24,378 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.017320, Curr diff: -0.010653
2025-04-17 19:23:24,378 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,378 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=520.99
2025-04-17 19:23:24,378 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99940.01, Equity: 99940.01
2025-04-17 19:23:24,378 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3969, MARKET, ID: fccde0da-bd79-49c2-ae49-f21361af08f4)
2025-04-17 19:23:24,378 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,378 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,378 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.99
2025-04-17 19:23:24,378 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,378 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,378 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,378 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,378 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,378 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,378 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.99
2025-04-17 19:23:24,378 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,378 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,378 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,378 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,378 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,378 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,378 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.99
2025-04-17 19:23:24,378 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,378 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,378 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,378 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,378 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,378 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,378 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.99
2025-04-17 19:23:24,378 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,378 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,378 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,378 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,378 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,378 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,378 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.99
2025-04-17 19:23:24,378 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,378 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,378 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,378 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,378 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99940.01, Equity: 99940.01
2025-04-17 19:23:24,378 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,378 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:28:00
2025-04-17 19:23:24,378 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:28:00, Close: 521.1099
2025-04-17 19:23:24,378 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0100, Slow SMA = 520.9980
2025-04-17 19:23:24,378 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.010653, Curr diff: 0.012000
2025-04-17 19:23:24,378 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bullish crossover for SPY @ 2024-03-26 16:28:00
2025-04-17 19:23:24,378 - src.position_management.position_manager - INFO - Position manager received BUY signal for SPY at price 521.1099
2025-04-17 19:23:24,378 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: 1
2025-04-17 19:23:24,379 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,379 - src.position_management.position_manager - INFO - Created LONG position entry action for SPY size 10
2025-04-17 19:23:24,379 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,379 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,379 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,379 - src.engine.execution_engine - INFO - Created order from position action: SPY BUY 10 @ 521.1099
2025-04-17 19:23:24,379 - src.engine.execution_engine - INFO - Order received: OrderEvent(BUY 10 SPY @ 521.1099, MARKET, ID: abb29e9e-ad15-4edb-beb8-2a27f22c038f)
2025-04-17 19:23:24,379 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(BUY 10 SPY @ 521.1099, MARKET, ID: abb29e9e-ad15-4edb-beb8-2a27f22c038f)
2025-04-17 19:23:24,379 - src.engine.execution_engine - INFO - Executing BUY order: 10 shares at 520.99
2025-04-17 19:23:24,379 - src.position_management.position - INFO - Position opened: e465e97c-ccb6-4d06-b48a-915749ff3399 SPY LONG 10 @ 520.99
2025-04-17 19:23:24,379 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,379 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,379 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,379 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(BUY 10 SPY @ 520.99, cost=0.00)
2025-04-17 19:23:24,379 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(BUY 10 SPY @ 521.1099, MARKET, ID: abb29e9e-ad15-4edb-beb8-2a27f22c038f)
2025-04-17 19:23:24,379 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,379 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,379 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,379 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,379 - __main__ - DEBUG - Signal details: BUY for SPY @ 521.1099
2025-04-17 19:23:24,379 - src.rules.rule_base - INFO - Generated BUY signal for SPY @ 521.1099
2025-04-17 19:23:24,379 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:28:00
2025-04-17 19:23:24,379 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,379 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:28:00, Close: 521.1099
2025-04-17 19:23:24,379 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0360, Slow SMA = 521.0053
2025-04-17 19:23:24,379 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.012000, Curr diff: 0.030653
2025-04-17 19:23:24,379 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,379 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=521.1099
2025-04-17 19:23:24,379 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 89520.21, Equity: 94731.30
2025-04-17 19:23:24,379 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3969, MARKET, ID: fccde0da-bd79-49c2-ae49-f21361af08f4)
2025-04-17 19:23:24,379 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,379 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,379 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.1099
2025-04-17 19:23:24,379 - src.position_management.position - INFO - Position closed: e465e97c-ccb6-4d06-b48a-915749ff3399 SPY LONG 10 @ 521.1099 P&L: 1.20
2025-04-17 19:23:24,379 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,379 - src.position_management.portfolio - INFO - Position closed: e465e97c-ccb6-4d06-b48a-915749ff3399 SPY PnL: 1.20
2025-04-17 19:23:24,379 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,379 - src.engine.execution_engine - INFO - Commission charged: 5.21, remaining cash: 99937.19
2025-04-17 19:23:24,379 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,379 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,379 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(SELL 10 SPY @ 521.1099, cost=5.21)
2025-04-17 19:23:24,379 - src.engine.execution_engine - INFO - Order executed successfully, Fill price: 521.11
2025-04-17 19:23:24,379 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,379 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,379 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,379 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.1099
2025-04-17 19:23:24,379 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,379 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,379 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,379 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,379 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,379 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,379 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.1099
2025-04-17 19:23:24,379 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,379 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,379 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,379 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,379 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,379 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,379 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.1099
2025-04-17 19:23:24,379 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,379 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,379 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,379 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,379 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,379 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,379 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.1099
2025-04-17 19:23:24,379 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,379 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,379 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,379 - src.engine.execution_engine - INFO - Executed 1 of 5 orders
2025-04-17 19:23:24,379 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99937.19, Equity: 99942.40
2025-04-17 19:23:24,379 - src.engine.execution_engine - INFO - Remaining pending orders: 4
2025-04-17 19:23:24,379 - src.engine.backtester - DEBUG - Executed 1 fills
2025-04-17 19:23:24,379 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:29:00
2025-04-17 19:23:24,379 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:29:00, Close: 521.14
2025-04-17 19:23:24,379 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0680, Slow SMA = 521.0146
2025-04-17 19:23:24,379 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.030653, Curr diff: 0.053320
2025-04-17 19:23:24,379 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:29:00
2025-04-17 19:23:24,379 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,379 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:29:00, Close: 521.14
2025-04-17 19:23:24,379 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0980, Slow SMA = 521.0260
2025-04-17 19:23:24,379 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.053320, Curr diff: 0.071980
2025-04-17 19:23:24,379 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,379 - src.engine.execution_engine - INFO - Processing 4 pending orders for bar: SPY, close=521.14
2025-04-17 19:23:24,379 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99937.19, Equity: 99937.19
2025-04-17 19:23:24,379 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,379 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,379 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,379 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.14
2025-04-17 19:23:24,379 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,379 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,379 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,379 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,379 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,379 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,380 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.14
2025-04-17 19:23:24,380 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,380 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,380 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,380 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,380 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,380 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,380 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.14
2025-04-17 19:23:24,380 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,380 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,380 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,380 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,380 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,380 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,380 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.14
2025-04-17 19:23:24,380 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,380 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,380 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,380 - src.engine.execution_engine - INFO - Executed 0 of 4 orders
2025-04-17 19:23:24,380 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99937.19, Equity: 99937.19
2025-04-17 19:23:24,380 - src.engine.execution_engine - INFO - Remaining pending orders: 4
2025-04-17 19:23:24,380 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:30:00
2025-04-17 19:23:24,380 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:30:00, Close: 521.09
2025-04-17 19:23:24,380 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1180, Slow SMA = 521.0340
2025-04-17 19:23:24,380 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.071980, Curr diff: 0.083973
2025-04-17 19:23:24,380 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:30:00
2025-04-17 19:23:24,380 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,380 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:30:00, Close: 521.09
2025-04-17 19:23:24,380 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1140, Slow SMA = 521.0393
2025-04-17 19:23:24,380 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.083973, Curr diff: 0.074660
2025-04-17 19:23:24,380 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,380 - src.engine.execution_engine - INFO - Processing 4 pending orders for bar: SPY, close=521.09
2025-04-17 19:23:24,380 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99937.19, Equity: 99937.19
2025-04-17 19:23:24,380 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,380 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,380 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,380 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.09
2025-04-17 19:23:24,380 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,380 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,380 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,380 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,380 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,380 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,380 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.09
2025-04-17 19:23:24,380 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,380 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,380 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,380 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,380 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,380 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,380 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.09
2025-04-17 19:23:24,380 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,380 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,380 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,380 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,380 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,380 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,380 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.09
2025-04-17 19:23:24,380 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,380 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,380 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,380 - src.engine.execution_engine - INFO - Executed 0 of 4 orders
2025-04-17 19:23:24,380 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99937.19, Equity: 99937.19
2025-04-17 19:23:24,380 - src.engine.execution_engine - INFO - Remaining pending orders: 4
2025-04-17 19:23:24,380 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:31:00
2025-04-17 19:23:24,380 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:31:00, Close: 521.0779
2025-04-17 19:23:24,380 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.1076, Slow SMA = 521.0438
2025-04-17 19:23:24,380 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.074660, Curr diff: 0.063733
2025-04-17 19:23:24,380 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:31:00
2025-04-17 19:23:24,380 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,380 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:31:00, Close: 521.0779
2025-04-17 19:23:24,380 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0952, Slow SMA = 521.0477
2025-04-17 19:23:24,380 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.063733, Curr diff: 0.047453
2025-04-17 19:23:24,380 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,380 - src.engine.execution_engine - INFO - Processing 4 pending orders for bar: SPY, close=521.0779
2025-04-17 19:23:24,380 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99937.19, Equity: 99937.19
2025-04-17 19:23:24,380 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,380 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,380 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,380 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0779
2025-04-17 19:23:24,380 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,380 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,380 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,380 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,380 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,380 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,380 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0779
2025-04-17 19:23:24,380 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,380 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,380 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,380 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,380 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,380 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,380 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0779
2025-04-17 19:23:24,380 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,380 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,380 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,380 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,380 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,380 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,380 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0779
2025-04-17 19:23:24,380 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,380 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,380 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,381 - src.engine.execution_engine - INFO - Executed 0 of 4 orders
2025-04-17 19:23:24,381 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99937.19, Equity: 99937.19
2025-04-17 19:23:24,381 - src.engine.execution_engine - INFO - Remaining pending orders: 4
2025-04-17 19:23:24,381 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:32:00
2025-04-17 19:23:24,381 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:32:00, Close: 521.01
2025-04-17 19:23:24,381 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0692, Slow SMA = 521.0470
2025-04-17 19:23:24,381 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.047453, Curr diff: 0.022120
2025-04-17 19:23:24,381 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:32:00
2025-04-17 19:23:24,381 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,381 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:32:00, Close: 521.01
2025-04-17 19:23:24,381 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0532, Slow SMA = 521.0504
2025-04-17 19:23:24,381 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.022120, Curr diff: 0.002787
2025-04-17 19:23:24,381 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,381 - src.engine.execution_engine - INFO - Processing 4 pending orders for bar: SPY, close=521.01
2025-04-17 19:23:24,381 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99937.19, Equity: 99937.19
2025-04-17 19:23:24,381 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,381 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,381 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,381 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.01
2025-04-17 19:23:24,381 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,381 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,381 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,381 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,381 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,381 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,381 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.01
2025-04-17 19:23:24,381 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,381 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,381 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,381 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,381 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,381 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,381 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.01
2025-04-17 19:23:24,381 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,381 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,381 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,381 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,381 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,381 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,381 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.01
2025-04-17 19:23:24,381 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,381 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,381 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,381 - src.engine.execution_engine - INFO - Executed 0 of 4 orders
2025-04-17 19:23:24,381 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99937.19, Equity: 99937.19
2025-04-17 19:23:24,381 - src.engine.execution_engine - INFO - Remaining pending orders: 4
2025-04-17 19:23:24,381 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:33:00
2025-04-17 19:23:24,381 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:33:00, Close: 521.0199
2025-04-17 19:23:24,381 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0391, Slow SMA = 521.0544
2025-04-17 19:23:24,381 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.002787, Curr diff: -0.015227
2025-04-17 19:23:24,381 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bearish crossover for SPY @ 2024-03-26 16:33:00
2025-04-17 19:23:24,381 - src.position_management.position_manager - INFO - Position manager received SELL signal for SPY at price 521.0199
2025-04-17 19:23:24,381 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: -1
2025-04-17 19:23:24,381 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,381 - src.position_management.position_manager - INFO - Created SHORT position entry action for SPY size 10
2025-04-17 19:23:24,381 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,381 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,381 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,381 - src.engine.execution_engine - INFO - Created order from position action: SPY SELL 10 @ 521.0199
2025-04-17 19:23:24,381 - src.engine.execution_engine - INFO - Order received: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,381 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,381 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.01
2025-04-17 19:23:24,381 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,381 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,381 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,381 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,381 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,381 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,381 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,381 - __main__ - DEBUG - Signal details: SELL for SPY @ 521.0199
2025-04-17 19:23:24,381 - src.rules.rule_base - INFO - Generated SELL signal for SPY @ 521.0199
2025-04-17 19:23:24,381 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:33:00
2025-04-17 19:23:24,381 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,381 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:33:00, Close: 521.0199
2025-04-17 19:23:24,381 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0275, Slow SMA = 521.0570
2025-04-17 19:23:24,381 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.015227, Curr diff: -0.029487
2025-04-17 19:23:24,381 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,381 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=521.0199
2025-04-17 19:23:24,381 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99937.19, Equity: 99937.19
2025-04-17 19:23:24,381 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,381 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,381 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,381 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0199
2025-04-17 19:23:24,381 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,381 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,381 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,381 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,381 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,381 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,381 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0199
2025-04-17 19:23:24,381 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,381 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,381 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,381 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,381 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,381 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,381 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0199
2025-04-17 19:23:24,381 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,382 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,382 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,382 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,382 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,382 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,382 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0199
2025-04-17 19:23:24,382 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,382 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,382 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,382 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,382 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,382 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,382 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0199
2025-04-17 19:23:24,382 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,382 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,382 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,382 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,382 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99937.19, Equity: 99937.19
2025-04-17 19:23:24,382 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,382 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:34:00
2025-04-17 19:23:24,382 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:34:00, Close: 520.97
2025-04-17 19:23:24,382 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0060, Slow SMA = 521.0564
2025-04-17 19:23:24,382 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.029487, Curr diff: -0.050400
2025-04-17 19:23:24,382 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:34:00
2025-04-17 19:23:24,382 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,382 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:34:00, Close: 520.97
2025-04-17 19:23:24,382 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9980, Slow SMA = 521.0550
2025-04-17 19:23:24,382 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.050400, Curr diff: -0.057067
2025-04-17 19:23:24,382 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,382 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=520.97
2025-04-17 19:23:24,382 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99937.19, Equity: 99937.19
2025-04-17 19:23:24,382 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,382 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,382 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,382 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.97
2025-04-17 19:23:24,382 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,382 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,382 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,382 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,382 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,382 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,382 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.97
2025-04-17 19:23:24,382 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,382 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,382 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,382 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,382 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,382 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,382 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.97
2025-04-17 19:23:24,382 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,382 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,382 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,382 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,382 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,382 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,382 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.97
2025-04-17 19:23:24,382 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,382 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,382 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,382 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,382 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,382 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,382 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.97
2025-04-17 19:23:24,382 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,382 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,382 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,382 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,382 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99937.19, Equity: 99937.19
2025-04-17 19:23:24,382 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,382 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:35:00
2025-04-17 19:23:24,382 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:35:00, Close: 521.06
2025-04-17 19:23:24,382 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0080, Slow SMA = 521.0597
2025-04-17 19:23:24,382 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.057067, Curr diff: -0.051733
2025-04-17 19:23:24,382 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:35:00
2025-04-17 19:23:24,382 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,382 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:35:00, Close: 521.06
2025-04-17 19:23:24,382 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0160, Slow SMA = 521.0564
2025-04-17 19:23:24,382 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.051733, Curr diff: -0.040387
2025-04-17 19:23:24,382 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,382 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=521.06
2025-04-17 19:23:24,382 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99937.19, Equity: 99937.19
2025-04-17 19:23:24,382 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,382 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,382 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,382 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.06
2025-04-17 19:23:24,382 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,382 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,382 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,382 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,382 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,382 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,382 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.06
2025-04-17 19:23:24,382 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,382 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,382 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,382 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,382 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,382 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,382 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.06
2025-04-17 19:23:24,382 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,382 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,382 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,382 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,382 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,382 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,383 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.06
2025-04-17 19:23:24,383 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,383 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,383 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,383 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,383 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,383 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,383 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.06
2025-04-17 19:23:24,383 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,383 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,383 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,383 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,383 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99937.19, Equity: 99937.19
2025-04-17 19:23:24,383 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,383 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:36:00
2025-04-17 19:23:24,383 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:36:00, Close: 520.99
2025-04-17 19:23:24,383 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0100, Slow SMA = 521.0484
2025-04-17 19:23:24,383 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.040387, Curr diff: -0.038373
2025-04-17 19:23:24,383 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:36:00
2025-04-17 19:23:24,383 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,383 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:36:00, Close: 520.99
2025-04-17 19:23:24,383 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0140, Slow SMA = 521.0384
2025-04-17 19:23:24,383 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.038373, Curr diff: -0.024373
2025-04-17 19:23:24,383 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,383 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=520.99
2025-04-17 19:23:24,383 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99937.19, Equity: 99937.19
2025-04-17 19:23:24,383 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,383 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,383 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,383 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.99
2025-04-17 19:23:24,383 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,383 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,383 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,383 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,383 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,383 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,383 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.99
2025-04-17 19:23:24,383 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,383 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,383 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,383 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,383 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,383 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,383 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.99
2025-04-17 19:23:24,383 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,383 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,383 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,383 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,383 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,383 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,383 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.99
2025-04-17 19:23:24,383 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,383 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,383 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,383 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,383 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,383 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,383 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.99
2025-04-17 19:23:24,383 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,383 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,383 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,383 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,383 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99937.19, Equity: 99937.19
2025-04-17 19:23:24,383 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,383 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:37:00
2025-04-17 19:23:24,383 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:37:00, Close: 520.98
2025-04-17 19:23:24,383 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0160, Slow SMA = 521.0277
2025-04-17 19:23:24,383 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.024373, Curr diff: -0.011707
2025-04-17 19:23:24,383 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:37:00
2025-04-17 19:23:24,383 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,383 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:37:00, Close: 520.98
2025-04-17 19:23:24,383 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0000, Slow SMA = 521.0204
2025-04-17 19:23:24,383 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.011707, Curr diff: -0.020373
2025-04-17 19:23:24,383 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,383 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=520.98
2025-04-17 19:23:24,383 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99937.19, Equity: 99937.19
2025-04-17 19:23:24,383 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,383 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,383 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,383 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.98
2025-04-17 19:23:24,383 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,383 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,383 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,383 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,383 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,383 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,383 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.98
2025-04-17 19:23:24,383 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,383 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,383 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,383 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,383 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,383 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,383 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.98
2025-04-17 19:23:24,383 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,383 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,383 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,383 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,383 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,383 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,383 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.98
2025-04-17 19:23:24,383 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,383 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,383 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,383 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,384 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,384 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,384 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.98
2025-04-17 19:23:24,384 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,384 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,384 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,384 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,384 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99937.19, Equity: 99937.19
2025-04-17 19:23:24,384 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,384 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:38:00
2025-04-17 19:23:24,384 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:38:00, Close: 520.94
2025-04-17 19:23:24,384 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9760, Slow SMA = 521.0104
2025-04-17 19:23:24,384 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.020373, Curr diff: -0.034373
2025-04-17 19:23:24,384 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:38:00
2025-04-17 19:23:24,384 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,384 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:38:00, Close: 520.94
2025-04-17 19:23:24,384 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9660, Slow SMA = 521.0012
2025-04-17 19:23:24,384 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.034373, Curr diff: -0.035180
2025-04-17 19:23:24,384 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,384 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=520.94
2025-04-17 19:23:24,384 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99937.19, Equity: 99937.19
2025-04-17 19:23:24,384 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,384 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,384 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,384 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.94
2025-04-17 19:23:24,384 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,384 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,384 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,384 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,384 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,384 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,384 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.94
2025-04-17 19:23:24,384 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,384 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,384 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,384 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,384 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,384 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,384 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.94
2025-04-17 19:23:24,384 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,384 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,384 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,384 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,384 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,384 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,384 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.94
2025-04-17 19:23:24,384 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,384 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,384 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,384 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,384 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,384 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,384 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.94
2025-04-17 19:23:24,384 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,384 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,384 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,384 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,384 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99937.19, Equity: 99937.19
2025-04-17 19:23:24,384 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,384 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:39:00
2025-04-17 19:23:24,384 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:39:00, Close: 520.9899
2025-04-17 19:23:24,384 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9660, Slow SMA = 520.9953
2025-04-17 19:23:24,384 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.035180, Curr diff: -0.029333
2025-04-17 19:23:24,384 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:39:00
2025-04-17 19:23:24,384 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,384 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:39:00, Close: 520.9899
2025-04-17 19:23:24,384 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9680, Slow SMA = 520.9940
2025-04-17 19:23:24,384 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.029333, Curr diff: -0.026013
2025-04-17 19:23:24,384 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,384 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=520.9899
2025-04-17 19:23:24,384 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99937.19, Equity: 99937.19
2025-04-17 19:23:24,384 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,384 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,384 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,384 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9899
2025-04-17 19:23:24,384 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,384 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,384 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,384 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,384 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,384 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,384 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9899
2025-04-17 19:23:24,384 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,384 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,384 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,384 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,384 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,384 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,384 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9899
2025-04-17 19:23:24,384 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,384 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,384 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,384 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,384 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,384 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,384 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9899
2025-04-17 19:23:24,384 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,384 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,384 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,384 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,384 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,384 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,384 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9899
2025-04-17 19:23:24,384 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,384 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,385 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,385 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,385 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99937.19, Equity: 99937.19
2025-04-17 19:23:24,385 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,385 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:40:00
2025-04-17 19:23:24,385 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:40:00, Close: 520.935
2025-04-17 19:23:24,385 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9590, Slow SMA = 520.9890
2025-04-17 19:23:24,385 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.026013, Curr diff: -0.030013
2025-04-17 19:23:24,385 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:40:00
2025-04-17 19:23:24,385 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,385 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:40:00, Close: 520.935
2025-04-17 19:23:24,385 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9580, Slow SMA = 520.9833
2025-04-17 19:23:24,385 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.030013, Curr diff: -0.025353
2025-04-17 19:23:24,385 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,385 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=520.935
2025-04-17 19:23:24,385 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99937.19, Equity: 99937.19
2025-04-17 19:23:24,385 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,385 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,385 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,385 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.935
2025-04-17 19:23:24,385 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,385 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,385 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,385 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,385 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,385 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,385 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.935
2025-04-17 19:23:24,385 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,385 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,385 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,385 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,385 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,385 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,385 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.935
2025-04-17 19:23:24,385 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,385 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,385 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,385 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,385 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,385 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,385 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.935
2025-04-17 19:23:24,385 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,385 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,385 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,385 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,385 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,385 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,385 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.935
2025-04-17 19:23:24,385 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,385 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,385 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,385 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,385 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99937.19, Equity: 99937.19
2025-04-17 19:23:24,385 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,385 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:41:00
2025-04-17 19:23:24,385 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:41:00, Close: 520.9287
2025-04-17 19:23:24,385 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9557, Slow SMA = 520.9772
2025-04-17 19:23:24,385 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.025353, Curr diff: -0.021533
2025-04-17 19:23:24,385 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:41:00
2025-04-17 19:23:24,385 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,385 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:41:00, Close: 520.9287
2025-04-17 19:23:24,385 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9435, Slow SMA = 520.9745
2025-04-17 19:23:24,385 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.021533, Curr diff: -0.031020
2025-04-17 19:23:24,385 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,385 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=520.9287
2025-04-17 19:23:24,385 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99937.19, Equity: 99937.19
2025-04-17 19:23:24,385 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,385 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,385 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,385 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9287
2025-04-17 19:23:24,385 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,385 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,385 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,385 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,385 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,385 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,385 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9287
2025-04-17 19:23:24,385 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,385 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,385 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,385 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,385 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,385 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,385 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9287
2025-04-17 19:23:24,385 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,385 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,385 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,385 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,385 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,385 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,385 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9287
2025-04-17 19:23:24,385 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,385 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,385 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,385 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,385 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,385 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,385 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9287
2025-04-17 19:23:24,385 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,385 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,385 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,385 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,385 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99937.19, Equity: 99937.19
2025-04-17 19:23:24,385 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,386 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:42:00
2025-04-17 19:23:24,386 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:42:00, Close: 520.97
2025-04-17 19:23:24,386 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9395, Slow SMA = 520.9745
2025-04-17 19:23:24,386 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.031020, Curr diff: -0.035000
2025-04-17 19:23:24,386 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:42:00
2025-04-17 19:23:24,386 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,386 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:42:00, Close: 520.97
2025-04-17 19:23:24,386 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9465, Slow SMA = 520.9685
2025-04-17 19:23:24,386 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.035000, Curr diff: -0.022000
2025-04-17 19:23:24,386 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,386 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=520.97
2025-04-17 19:23:24,386 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99937.19, Equity: 99937.19
2025-04-17 19:23:24,386 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,386 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,386 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,386 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.97
2025-04-17 19:23:24,386 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,386 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,386 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,386 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,386 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,386 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,386 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.97
2025-04-17 19:23:24,386 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,386 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,386 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,386 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,386 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,386 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,386 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.97
2025-04-17 19:23:24,386 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,386 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,386 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,386 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,386 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,386 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,386 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.97
2025-04-17 19:23:24,386 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,386 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,386 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,386 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,386 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,386 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,386 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.97
2025-04-17 19:23:24,386 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,386 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,386 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,386 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,386 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99937.19, Equity: 99937.19
2025-04-17 19:23:24,386 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,386 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:43:00
2025-04-17 19:23:24,386 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:43:00, Close: 520.95
2025-04-17 19:23:24,386 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9495, Slow SMA = 520.9611
2025-04-17 19:23:24,386 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.022000, Curr diff: -0.011667
2025-04-17 19:23:24,386 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:43:00
2025-04-17 19:23:24,386 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,386 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:43:00, Close: 520.95
2025-04-17 19:23:24,386 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9537, Slow SMA = 520.9585
2025-04-17 19:23:24,386 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.011667, Curr diff: -0.004740
2025-04-17 19:23:24,386 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,386 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=520.95
2025-04-17 19:23:24,386 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99937.19, Equity: 99937.19
2025-04-17 19:23:24,386 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,386 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,386 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,386 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.95
2025-04-17 19:23:24,386 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,386 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,386 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,386 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,386 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,386 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,386 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.95
2025-04-17 19:23:24,386 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,386 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,386 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,386 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,386 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,386 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,386 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.95
2025-04-17 19:23:24,386 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,386 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,386 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,386 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,386 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,386 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,386 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.95
2025-04-17 19:23:24,386 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,386 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,386 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,386 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,386 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,386 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,386 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.95
2025-04-17 19:23:24,386 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,386 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,386 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,386 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,386 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99937.19, Equity: 99937.19
2025-04-17 19:23:24,386 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,387 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:44:00
2025-04-17 19:23:24,387 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:44:00, Close: 520.92
2025-04-17 19:23:24,387 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9520, Slow SMA = 520.9538
2025-04-17 19:23:24,387 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.004740, Curr diff: -0.001813
2025-04-17 19:23:24,387 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:44:00
2025-04-17 19:23:24,387 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,387 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:44:00, Close: 520.92
2025-04-17 19:23:24,387 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9420, Slow SMA = 520.9498
2025-04-17 19:23:24,387 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.001813, Curr diff: -0.007813
2025-04-17 19:23:24,387 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,387 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=520.92
2025-04-17 19:23:24,387 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99937.19, Equity: 99937.19
2025-04-17 19:23:24,387 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,387 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,387 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,387 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.92
2025-04-17 19:23:24,387 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,387 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,387 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,387 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,387 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,387 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,387 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.92
2025-04-17 19:23:24,387 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,387 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,387 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,387 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,387 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,387 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,387 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.92
2025-04-17 19:23:24,387 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,387 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,387 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,387 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,387 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,387 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,387 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.92
2025-04-17 19:23:24,387 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,387 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,387 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,387 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,387 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,387 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,387 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.92
2025-04-17 19:23:24,387 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,387 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,387 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,387 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,387 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99937.19, Equity: 99937.19
2025-04-17 19:23:24,387 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,387 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:45:00
2025-04-17 19:23:24,387 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:45:00, Close: 520.885
2025-04-17 19:23:24,387 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9250, Slow SMA = 520.9435
2025-04-17 19:23:24,387 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.007813, Curr diff: -0.018480
2025-04-17 19:23:24,387 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:45:00
2025-04-17 19:23:24,387 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,387 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:45:00, Close: 520.885
2025-04-17 19:23:24,387 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9120, Slow SMA = 520.9398
2025-04-17 19:23:24,387 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.018480, Curr diff: -0.027813
2025-04-17 19:23:24,387 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,387 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=520.885
2025-04-17 19:23:24,387 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99937.19, Equity: 99937.19
2025-04-17 19:23:24,387 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,387 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,387 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,387 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.885
2025-04-17 19:23:24,387 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,387 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,387 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,387 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,387 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,387 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,387 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.885
2025-04-17 19:23:24,387 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,387 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,387 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,387 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,387 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,387 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,387 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.885
2025-04-17 19:23:24,387 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,387 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,387 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,387 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,387 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,387 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,387 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.885
2025-04-17 19:23:24,387 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,387 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,387 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,387 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,387 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,387 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,387 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.885
2025-04-17 19:23:24,387 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,387 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,387 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,387 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,387 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99937.19, Equity: 99937.19
2025-04-17 19:23:24,387 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,387 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:46:00
2025-04-17 19:23:24,387 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:46:00, Close: 520.9099
2025-04-17 19:23:24,387 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9040, Slow SMA = 520.9378
2025-04-17 19:23:24,388 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.027813, Curr diff: -0.033827
2025-04-17 19:23:24,388 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:46:00
2025-04-17 19:23:24,388 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,388 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:46:00, Close: 520.9099
2025-04-17 19:23:24,388 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9020, Slow SMA = 520.9325
2025-04-17 19:23:24,388 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.033827, Curr diff: -0.030513
2025-04-17 19:23:24,388 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,388 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=520.9099
2025-04-17 19:23:24,388 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99937.19, Equity: 99937.19
2025-04-17 19:23:24,388 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,388 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,388 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,388 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9099
2025-04-17 19:23:24,388 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,388 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,388 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,388 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,388 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,388 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,388 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9099
2025-04-17 19:23:24,388 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,388 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,388 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,388 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,388 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,388 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,388 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9099
2025-04-17 19:23:24,388 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,388 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,388 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,388 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,388 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,388 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,388 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9099
2025-04-17 19:23:24,388 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,388 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,388 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,388 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,388 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,388 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,388 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9099
2025-04-17 19:23:24,388 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,388 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,388 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,388 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,388 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99937.19, Equity: 99937.19
2025-04-17 19:23:24,388 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,388 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:47:00
2025-04-17 19:23:24,388 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:47:00, Close: 520.96
2025-04-17 19:23:24,388 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9100, Slow SMA = 520.9305
2025-04-17 19:23:24,388 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.030513, Curr diff: -0.020520
2025-04-17 19:23:24,388 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:47:00
2025-04-17 19:23:24,388 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,388 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:47:00, Close: 520.96
2025-04-17 19:23:24,388 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9250, Slow SMA = 520.9321
2025-04-17 19:23:24,388 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.020520, Curr diff: -0.007187
2025-04-17 19:23:24,388 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,388 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=520.96
2025-04-17 19:23:24,388 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99937.19, Equity: 99937.19
2025-04-17 19:23:24,388 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,388 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,388 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,388 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.96
2025-04-17 19:23:24,388 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,388 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,388 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,388 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,388 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,388 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,388 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.96
2025-04-17 19:23:24,388 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,388 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,388 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,388 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,388 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,388 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,388 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.96
2025-04-17 19:23:24,388 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,388 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,388 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,388 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,388 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,388 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,388 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.96
2025-04-17 19:23:24,388 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,388 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,388 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,388 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,388 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,388 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,388 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.96
2025-04-17 19:23:24,388 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,388 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,388 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,388 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,388 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99937.19, Equity: 99937.19
2025-04-17 19:23:24,388 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,388 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:48:00
2025-04-17 19:23:24,388 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:48:00, Close: 521.04
2025-04-17 19:23:24,388 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9560, Slow SMA = 520.9391
2025-04-17 19:23:24,388 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.007187, Curr diff: 0.016813
2025-04-17 19:23:24,388 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bullish crossover for SPY @ 2024-03-26 16:48:00
2025-04-17 19:23:24,388 - src.position_management.position_manager - INFO - Position manager received BUY signal for SPY at price 521.04
2025-04-17 19:23:24,389 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: 1
2025-04-17 19:23:24,389 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,389 - src.position_management.position_manager - INFO - Created LONG position entry action for SPY size 10
2025-04-17 19:23:24,389 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,389 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,389 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,389 - src.engine.execution_engine - INFO - Created order from position action: SPY BUY 10 @ 521.04
2025-04-17 19:23:24,389 - src.engine.execution_engine - INFO - Order received: OrderEvent(BUY 10 SPY @ 521.04, MARKET, ID: 42b7dcf1-2b34-4be4-a874-d720b8ab0624)
2025-04-17 19:23:24,389 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(BUY 10 SPY @ 521.04, MARKET, ID: 42b7dcf1-2b34-4be4-a874-d720b8ab0624)
2025-04-17 19:23:24,389 - src.engine.execution_engine - INFO - Executing BUY order: 10 shares at 520.96
2025-04-17 19:23:24,389 - src.position_management.position - INFO - Position opened: 68d60732-3bf5-45a7-9248-48e35f71db58 SPY LONG 10 @ 520.96
2025-04-17 19:23:24,389 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,389 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,389 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,389 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(BUY 10 SPY @ 520.96, cost=0.00)
2025-04-17 19:23:24,389 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(BUY 10 SPY @ 521.04, MARKET, ID: 42b7dcf1-2b34-4be4-a874-d720b8ab0624)
2025-04-17 19:23:24,389 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,389 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,389 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,389 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,389 - __main__ - DEBUG - Signal details: BUY for SPY @ 521.04
2025-04-17 19:23:24,389 - src.rules.rule_base - INFO - Generated BUY signal for SPY @ 521.04
2025-04-17 19:23:24,389 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:48:00
2025-04-17 19:23:24,389 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,389 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:48:00, Close: 521.04
2025-04-17 19:23:24,389 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9820, Slow SMA = 520.9466
2025-04-17 19:23:24,389 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.016813, Curr diff: 0.035413
2025-04-17 19:23:24,389 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,389 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=521.04
2025-04-17 19:23:24,389 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 89517.99, Equity: 94728.39
2025-04-17 19:23:24,389 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.3099, MARKET, ID: b8e5965f-12ba-44ee-af7b-14f977cb6259)
2025-04-17 19:23:24,389 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,389 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,389 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.04
2025-04-17 19:23:24,389 - src.position_management.position - INFO - Position closed: 68d60732-3bf5-45a7-9248-48e35f71db58 SPY LONG 10 @ 521.04 P&L: 0.80
2025-04-17 19:23:24,389 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,389 - src.position_management.portfolio - INFO - Position closed: 68d60732-3bf5-45a7-9248-48e35f71db58 SPY PnL: 0.80
2025-04-17 19:23:24,389 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,389 - src.engine.execution_engine - INFO - Commission charged: 5.21, remaining cash: 99933.58
2025-04-17 19:23:24,389 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,389 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,389 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(SELL 10 SPY @ 521.04, cost=5.21)
2025-04-17 19:23:24,389 - src.engine.execution_engine - INFO - Order executed successfully, Fill price: 521.04
2025-04-17 19:23:24,389 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,389 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,389 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,389 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.04
2025-04-17 19:23:24,389 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,389 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,389 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,389 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,389 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,389 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,389 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.04
2025-04-17 19:23:24,389 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,389 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,389 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,389 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,389 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,389 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,389 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.04
2025-04-17 19:23:24,389 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,389 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,389 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,389 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,389 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,389 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,389 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.04
2025-04-17 19:23:24,389 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,389 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,389 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,389 - src.engine.execution_engine - INFO - Executed 1 of 5 orders
2025-04-17 19:23:24,389 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99933.58, Equity: 99938.79
2025-04-17 19:23:24,389 - src.engine.execution_engine - INFO - Remaining pending orders: 4
2025-04-17 19:23:24,389 - src.engine.backtester - DEBUG - Executed 1 fills
2025-04-17 19:23:24,389 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:49:00
2025-04-17 19:23:24,389 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:49:00, Close: 520.96
2025-04-17 19:23:24,389 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9920, Slow SMA = 520.9487
2025-04-17 19:23:24,389 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.035413, Curr diff: 0.043347
2025-04-17 19:23:24,389 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:49:00
2025-04-17 19:23:24,389 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,389 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:49:00, Close: 520.96
2025-04-17 19:23:24,389 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9920, Slow SMA = 520.9480
2025-04-17 19:23:24,389 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.043347, Curr diff: 0.044013
2025-04-17 19:23:24,389 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,389 - src.engine.execution_engine - INFO - Processing 4 pending orders for bar: SPY, close=520.96
2025-04-17 19:23:24,389 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99933.58, Equity: 99933.58
2025-04-17 19:23:24,389 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,389 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,389 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,389 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.96
2025-04-17 19:23:24,389 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,389 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,389 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,389 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,389 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,389 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,389 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.96
2025-04-17 19:23:24,389 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,390 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,390 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,390 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,390 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,390 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,390 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.96
2025-04-17 19:23:24,390 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,390 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,390 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,390 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,390 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,390 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,390 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.96
2025-04-17 19:23:24,390 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,390 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,390 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,390 - src.engine.execution_engine - INFO - Executed 0 of 4 orders
2025-04-17 19:23:24,390 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99933.58, Equity: 99933.58
2025-04-17 19:23:24,390 - src.engine.execution_engine - INFO - Remaining pending orders: 4
2025-04-17 19:23:24,390 - src.engine.backtester - INFO - Processed 200 bars, 13 signals, 0 orders, 15 fills
2025-04-17 19:23:24,390 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:50:00
2025-04-17 19:23:24,390 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:50:00, Close: 521.017
2025-04-17 19:23:24,390 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0034, Slow SMA = 520.9511
2025-04-17 19:23:24,390 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.044013, Curr diff: 0.052280
2025-04-17 19:23:24,390 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:50:00
2025-04-17 19:23:24,390 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,390 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:50:00, Close: 521.017
2025-04-17 19:23:24,390 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9988, Slow SMA = 520.9556
2025-04-17 19:23:24,390 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.052280, Curr diff: 0.043213
2025-04-17 19:23:24,390 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,390 - src.engine.execution_engine - INFO - Processing 4 pending orders for bar: SPY, close=521.017
2025-04-17 19:23:24,390 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99933.58, Equity: 99933.58
2025-04-17 19:23:24,390 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,390 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,390 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,390 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.017
2025-04-17 19:23:24,390 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,390 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,390 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,390 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,390 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,390 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,390 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.017
2025-04-17 19:23:24,390 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,390 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,390 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,390 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,390 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,390 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,390 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.017
2025-04-17 19:23:24,390 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,390 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,390 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,390 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,390 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,390 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,390 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.017
2025-04-17 19:23:24,390 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,390 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,390 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,390 - src.engine.execution_engine - INFO - Executed 0 of 4 orders
2025-04-17 19:23:24,390 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99933.58, Equity: 99933.58
2025-04-17 19:23:24,390 - src.engine.execution_engine - INFO - Remaining pending orders: 4
2025-04-17 19:23:24,390 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:51:00
2025-04-17 19:23:24,390 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:51:00, Close: 520.965
2025-04-17 19:23:24,390 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9838, Slow SMA = 520.9566
2025-04-17 19:23:24,390 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.043213, Curr diff: 0.027213
2025-04-17 19:23:24,390 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:51:00
2025-04-17 19:23:24,390 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,390 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:51:00, Close: 520.965
2025-04-17 19:23:24,390 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9848, Slow SMA = 520.9596
2025-04-17 19:23:24,390 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.027213, Curr diff: 0.025213
2025-04-17 19:23:24,390 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,390 - src.engine.execution_engine - INFO - Processing 4 pending orders for bar: SPY, close=520.965
2025-04-17 19:23:24,390 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99933.58, Equity: 99933.58
2025-04-17 19:23:24,390 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,390 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,390 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,390 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.965
2025-04-17 19:23:24,390 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,390 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,390 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,390 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,390 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,390 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,390 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.965
2025-04-17 19:23:24,390 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,390 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,390 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,390 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,390 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,390 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,390 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.965
2025-04-17 19:23:24,390 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,390 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,390 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,390 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,390 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,390 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,390 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.965
2025-04-17 19:23:24,390 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,390 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,390 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,390 - src.engine.execution_engine - INFO - Executed 0 of 4 orders
2025-04-17 19:23:24,391 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99933.58, Equity: 99933.58
2025-04-17 19:23:24,391 - src.engine.execution_engine - INFO - Remaining pending orders: 4
2025-04-17 19:23:24,391 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:52:00
2025-04-17 19:23:24,391 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:52:00, Close: 520.875
2025-04-17 19:23:24,391 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9678, Slow SMA = 520.9566
2025-04-17 19:23:24,391 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.025213, Curr diff: 0.011213
2025-04-17 19:23:24,391 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:52:00
2025-04-17 19:23:24,391 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,391 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:52:00, Close: 520.875
2025-04-17 19:23:24,391 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9394, Slow SMA = 520.9559
2025-04-17 19:23:24,391 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.011213, Curr diff: -0.016520
2025-04-17 19:23:24,391 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bearish crossover for SPY @ 2024-03-26 16:52:00
2025-04-17 19:23:24,391 - src.position_management.position_manager - INFO - Position manager received SELL signal for SPY at price 520.875
2025-04-17 19:23:24,391 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: -1
2025-04-17 19:23:24,391 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,391 - src.position_management.position_manager - INFO - Created SHORT position entry action for SPY size 10
2025-04-17 19:23:24,391 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,391 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,391 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,391 - src.engine.execution_engine - INFO - Created order from position action: SPY SELL 10 @ 520.875
2025-04-17 19:23:24,391 - src.engine.execution_engine - INFO - Order received: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,391 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,391 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.965
2025-04-17 19:23:24,391 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,391 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,391 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,391 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,391 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,391 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,391 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,391 - __main__ - DEBUG - Signal details: SELL for SPY @ 520.875
2025-04-17 19:23:24,391 - src.rules.rule_base - INFO - Generated SELL signal for SPY @ 520.875
2025-04-17 19:23:24,391 - src.engine.backtester - DEBUG - Emitting signal from strategy: SignalEvent(SELL, SPY, price=520.875)
2025-04-17 19:23:24,391 - src.engine.backtester - DEBUG - Emitted signal event: SELL for SPY
2025-04-17 19:23:24,391 - src.position_management.position_manager - INFO - Position manager received SELL signal for SPY at price 520.875
2025-04-17 19:23:24,391 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: -1
2025-04-17 19:23:24,391 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,391 - src.position_management.position_manager - INFO - Created SHORT position entry action for SPY size 10
2025-04-17 19:23:24,391 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,391 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,391 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,391 - src.engine.execution_engine - INFO - Created order from position action: SPY SELL 10 @ 520.875
2025-04-17 19:23:24,391 - src.engine.execution_engine - INFO - Order received: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,391 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,391 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.965
2025-04-17 19:23:24,391 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,391 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,391 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,391 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,391 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,391 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,391 - src.engine.backtester - DEBUG - Event flow: SIGNAL event received
2025-04-17 19:23:24,391 - src.engine.backtester - DEBUG - Signal: SELL for SPY at 520.875
2025-04-17 19:23:24,391 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,391 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.875
2025-04-17 19:23:24,391 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99933.58, Equity: 99933.58
2025-04-17 19:23:24,391 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,391 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,391 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,391 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.875
2025-04-17 19:23:24,391 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,391 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,391 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,391 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,391 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,391 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,391 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.875
2025-04-17 19:23:24,391 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,391 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,391 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,391 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,391 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,391 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,391 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.875
2025-04-17 19:23:24,391 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,391 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,391 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,391 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,391 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,391 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,391 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.875
2025-04-17 19:23:24,391 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,391 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,391 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,391 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,391 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,391 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,391 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.875
2025-04-17 19:23:24,391 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,391 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,391 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,391 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,391 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,391 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,391 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.875
2025-04-17 19:23:24,391 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,391 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,391 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,391 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,391 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99933.58, Equity: 99933.58
2025-04-17 19:23:24,391 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,391 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:53:00
2025-04-17 19:23:24,392 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:53:00, Close: 520.885
2025-04-17 19:23:24,392 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9130, Slow SMA = 520.9559
2025-04-17 19:23:24,392 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.016520, Curr diff: -0.042920
2025-04-17 19:23:24,392 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:53:00
2025-04-17 19:23:24,392 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,392 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:53:00, Close: 520.885
2025-04-17 19:23:24,392 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8970, Slow SMA = 520.9543
2025-04-17 19:23:24,392 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.042920, Curr diff: -0.057260
2025-04-17 19:23:24,392 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,392 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.885
2025-04-17 19:23:24,392 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99933.58, Equity: 99933.58
2025-04-17 19:23:24,392 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,392 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,392 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,392 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.885
2025-04-17 19:23:24,392 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,392 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,392 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,392 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,392 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,392 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,392 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.885
2025-04-17 19:23:24,392 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,392 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,392 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,392 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,392 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,392 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,392 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.885
2025-04-17 19:23:24,392 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,392 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,392 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,392 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,392 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,392 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,392 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.885
2025-04-17 19:23:24,392 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,392 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,392 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,392 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,392 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,392 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,392 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.885
2025-04-17 19:23:24,392 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,392 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,392 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,392 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,392 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,392 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,392 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.885
2025-04-17 19:23:24,392 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,392 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,392 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,392 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,392 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99933.58, Equity: 99933.58
2025-04-17 19:23:24,392 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,392 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:54:00
2025-04-17 19:23:24,392 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:54:00, Close: 520.865
2025-04-17 19:23:24,392 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8770, Slow SMA = 520.9513
2025-04-17 19:23:24,392 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.057260, Curr diff: -0.074267
2025-04-17 19:23:24,392 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:54:00
2025-04-17 19:23:24,392 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,392 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:54:00, Close: 520.865
2025-04-17 19:23:24,392 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8750, Slow SMA = 520.9449
2025-04-17 19:23:24,392 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.074267, Curr diff: -0.069933
2025-04-17 19:23:24,392 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,392 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.865
2025-04-17 19:23:24,392 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99933.58, Equity: 99933.58
2025-04-17 19:23:24,392 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,392 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,392 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,392 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.865
2025-04-17 19:23:24,392 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,392 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,392 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,392 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,392 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,392 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,392 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.865
2025-04-17 19:23:24,392 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,392 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,392 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,392 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,392 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,392 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,392 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.865
2025-04-17 19:23:24,392 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,392 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,392 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,392 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,392 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,392 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,392 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.865
2025-04-17 19:23:24,392 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,392 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,392 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,392 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,392 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,392 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,392 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.865
2025-04-17 19:23:24,392 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,392 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,392 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,392 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,392 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,392 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,392 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.865
2025-04-17 19:23:24,392 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,392 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,392 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,392 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,392 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99933.58, Equity: 99933.58
2025-04-17 19:23:24,393 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,393 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:55:00
2025-04-17 19:23:24,393 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:55:00, Close: 520.89
2025-04-17 19:23:24,393 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8780, Slow SMA = 520.9403
2025-04-17 19:23:24,393 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.069933, Curr diff: -0.062267
2025-04-17 19:23:24,393 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:55:00
2025-04-17 19:23:24,393 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,393 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:55:00, Close: 520.89
2025-04-17 19:23:24,393 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8790, Slow SMA = 520.9303
2025-04-17 19:23:24,393 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.062267, Curr diff: -0.051267
2025-04-17 19:23:24,393 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,393 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.89
2025-04-17 19:23:24,393 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99933.58, Equity: 99933.58
2025-04-17 19:23:24,393 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,393 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,393 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,393 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.89
2025-04-17 19:23:24,393 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,393 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,393 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,393 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,393 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,393 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,393 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.89
2025-04-17 19:23:24,393 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,393 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,393 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,393 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,393 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,393 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,393 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.89
2025-04-17 19:23:24,393 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,393 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,393 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,393 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,393 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,393 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,393 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.89
2025-04-17 19:23:24,393 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,393 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,393 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,393 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,393 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,393 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,393 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.89
2025-04-17 19:23:24,393 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,393 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,393 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,393 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,393 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,393 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,393 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.89
2025-04-17 19:23:24,393 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,393 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,393 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,393 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,393 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99933.58, Equity: 99933.58
2025-04-17 19:23:24,393 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,393 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:56:00
2025-04-17 19:23:24,393 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:56:00, Close: 520.87
2025-04-17 19:23:24,393 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8760, Slow SMA = 520.9189
2025-04-17 19:23:24,393 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.051267, Curr diff: -0.042933
2025-04-17 19:23:24,393 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:56:00
2025-04-17 19:23:24,393 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,393 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:56:00, Close: 520.87
2025-04-17 19:23:24,393 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8770, Slow SMA = 520.9129
2025-04-17 19:23:24,393 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.042933, Curr diff: -0.035933
2025-04-17 19:23:24,393 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,393 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.87
2025-04-17 19:23:24,393 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99933.58, Equity: 99933.58
2025-04-17 19:23:24,393 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,393 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,393 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,393 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.87
2025-04-17 19:23:24,393 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,393 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,393 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,393 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,393 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,393 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,393 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.87
2025-04-17 19:23:24,393 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,393 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,393 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,393 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,393 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,393 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,393 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.87
2025-04-17 19:23:24,393 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,393 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,393 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,393 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,393 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,393 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,393 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.87
2025-04-17 19:23:24,393 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,393 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,393 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,393 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,393 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,393 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,393 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.87
2025-04-17 19:23:24,393 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,394 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,394 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,394 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,394 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,394 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,394 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.87
2025-04-17 19:23:24,394 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,394 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,394 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,394 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,394 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99933.58, Equity: 99933.58
2025-04-17 19:23:24,394 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,394 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:57:00
2025-04-17 19:23:24,394 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:57:00, Close: 520.905
2025-04-17 19:23:24,394 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8850, Slow SMA = 520.9093
2025-04-17 19:23:24,394 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.035933, Curr diff: -0.024267
2025-04-17 19:23:24,394 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:57:00
2025-04-17 19:23:24,394 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,394 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:57:00, Close: 520.905
2025-04-17 19:23:24,394 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8880, Slow SMA = 520.9018
2025-04-17 19:23:24,394 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.024267, Curr diff: -0.013800
2025-04-17 19:23:24,394 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,394 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.905
2025-04-17 19:23:24,394 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99933.58, Equity: 99933.58
2025-04-17 19:23:24,394 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,394 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,394 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,394 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.905
2025-04-17 19:23:24,394 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,394 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,394 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,394 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,394 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,394 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,394 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.905
2025-04-17 19:23:24,394 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,394 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,394 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,394 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,394 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,394 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,394 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.905
2025-04-17 19:23:24,394 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,394 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,394 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,394 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,394 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,394 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,394 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.905
2025-04-17 19:23:24,394 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,394 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,394 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,394 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,394 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,394 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,394 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.905
2025-04-17 19:23:24,394 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,394 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,394 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,394 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,394 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,394 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,394 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.905
2025-04-17 19:23:24,394 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,394 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,394 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,394 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,394 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99933.58, Equity: 99933.58
2025-04-17 19:23:24,394 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,394 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:58:00
2025-04-17 19:23:24,394 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:58:00, Close: 520.8399
2025-04-17 19:23:24,394 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8780, Slow SMA = 520.8900
2025-04-17 19:23:24,394 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.013800, Curr diff: -0.012013
2025-04-17 19:23:24,394 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:58:00
2025-04-17 19:23:24,394 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,394 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:58:00, Close: 520.8399
2025-04-17 19:23:24,394 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8720, Slow SMA = 520.8817
2025-04-17 19:23:24,394 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.012013, Curr diff: -0.009693
2025-04-17 19:23:24,394 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,394 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.8399
2025-04-17 19:23:24,394 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99933.58, Equity: 99933.58
2025-04-17 19:23:24,394 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,394 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,394 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,394 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.8399
2025-04-17 19:23:24,394 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,394 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,394 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,394 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,394 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,394 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,394 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.8399
2025-04-17 19:23:24,394 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,394 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,394 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,394 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,394 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,394 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,394 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.8399
2025-04-17 19:23:24,394 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,394 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,394 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,394 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,394 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,395 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,395 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.8399
2025-04-17 19:23:24,395 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,395 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,395 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,395 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,395 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,395 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,395 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.8399
2025-04-17 19:23:24,395 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,395 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,395 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,395 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,395 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,395 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,395 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.8399
2025-04-17 19:23:24,395 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,395 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,395 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,395 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,395 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99933.58, Equity: 99933.58
2025-04-17 19:23:24,395 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,395 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 16:59:00
2025-04-17 19:23:24,395 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:59:00, Close: 520.88
2025-04-17 19:23:24,395 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8740, Slow SMA = 520.8760
2025-04-17 19:23:24,395 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.009693, Curr diff: -0.002027
2025-04-17 19:23:24,395 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 16:59:00
2025-04-17 19:23:24,395 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,395 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 16:59:00, Close: 520.88
2025-04-17 19:23:24,395 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8690, Slow SMA = 520.8763
2025-04-17 19:23:24,395 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.002027, Curr diff: -0.007360
2025-04-17 19:23:24,395 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,395 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.88
2025-04-17 19:23:24,395 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99933.58, Equity: 99933.58
2025-04-17 19:23:24,395 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,395 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,395 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,395 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.88
2025-04-17 19:23:24,395 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,395 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,395 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,395 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,395 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,395 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,395 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.88
2025-04-17 19:23:24,395 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,395 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,395 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,395 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,395 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,395 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,395 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.88
2025-04-17 19:23:24,395 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,395 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,395 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,395 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,395 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,395 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,395 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.88
2025-04-17 19:23:24,395 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,395 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,395 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,395 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,395 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,395 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,395 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.88
2025-04-17 19:23:24,395 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,395 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,395 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,395 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,395 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,395 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,395 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.88
2025-04-17 19:23:24,395 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,395 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,395 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,395 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,395 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99933.58, Equity: 99933.58
2025-04-17 19:23:24,395 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,395 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:00:00
2025-04-17 19:23:24,395 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:00:00, Close: 520.795
2025-04-17 19:23:24,395 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8470, Slow SMA = 520.8710
2025-04-17 19:23:24,395 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.007360, Curr diff: -0.024027
2025-04-17 19:23:24,395 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:00:00
2025-04-17 19:23:24,395 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,395 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:00:00, Close: 520.795
2025-04-17 19:23:24,395 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8380, Slow SMA = 520.8650
2025-04-17 19:23:24,395 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.024027, Curr diff: -0.027007
2025-04-17 19:23:24,395 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,395 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.795
2025-04-17 19:23:24,395 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99933.58, Equity: 99933.58
2025-04-17 19:23:24,395 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,395 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,395 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,395 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.795
2025-04-17 19:23:24,395 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,395 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,395 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,395 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,395 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,395 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,395 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.795
2025-04-17 19:23:24,395 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,395 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,395 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,395 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,396 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,396 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,396 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.795
2025-04-17 19:23:24,396 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,396 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,396 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,396 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,396 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,396 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,396 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.795
2025-04-17 19:23:24,396 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,396 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,396 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,396 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,396 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,396 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,396 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.795
2025-04-17 19:23:24,396 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,396 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,396 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,396 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,396 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,396 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,396 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.795
2025-04-17 19:23:24,396 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,396 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,396 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,396 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,396 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99933.58, Equity: 99933.58
2025-04-17 19:23:24,396 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,396 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:01:00
2025-04-17 19:23:24,396 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:01:00, Close: 520.77
2025-04-17 19:23:24,396 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8240, Slow SMA = 520.8573
2025-04-17 19:23:24,396 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.027007, Curr diff: -0.033320
2025-04-17 19:23:24,396 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:01:00
2025-04-17 19:23:24,396 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,396 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:01:00, Close: 520.77
2025-04-17 19:23:24,396 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8020, Slow SMA = 520.8510
2025-04-17 19:23:24,396 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.033320, Curr diff: -0.048987
2025-04-17 19:23:24,396 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,396 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.77
2025-04-17 19:23:24,396 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99933.58, Equity: 99933.58
2025-04-17 19:23:24,396 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,396 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,396 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,396 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.77
2025-04-17 19:23:24,396 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,396 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,396 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,396 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,396 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,396 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,396 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.77
2025-04-17 19:23:24,396 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,396 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,396 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,396 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,396 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,396 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,396 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.77
2025-04-17 19:23:24,396 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,396 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,396 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,396 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,396 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,396 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,396 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.77
2025-04-17 19:23:24,396 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,396 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,396 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,396 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,396 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,396 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,396 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.77
2025-04-17 19:23:24,396 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,396 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,396 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,396 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,396 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,396 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,396 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.77
2025-04-17 19:23:24,396 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,396 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,396 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,396 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,396 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99933.58, Equity: 99933.58
2025-04-17 19:23:24,396 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,396 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:02:00
2025-04-17 19:23:24,396 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:02:00, Close: 520.805
2025-04-17 19:23:24,396 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.7870, Slow SMA = 520.8470
2025-04-17 19:23:24,396 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.048987, Curr diff: -0.059987
2025-04-17 19:23:24,396 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:02:00
2025-04-17 19:23:24,396 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,396 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:02:00, Close: 520.805
2025-04-17 19:23:24,396 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.7890, Slow SMA = 520.8413
2025-04-17 19:23:24,396 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.059987, Curr diff: -0.052320
2025-04-17 19:23:24,396 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,396 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.805
2025-04-17 19:23:24,396 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99933.58, Equity: 99933.58
2025-04-17 19:23:24,396 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,396 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,396 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,396 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.805
2025-04-17 19:23:24,396 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,396 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,397 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,397 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,397 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,397 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,397 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.805
2025-04-17 19:23:24,397 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,397 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,397 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,397 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,397 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,397 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,397 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.805
2025-04-17 19:23:24,397 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,397 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,397 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,397 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,397 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,397 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,397 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.805
2025-04-17 19:23:24,397 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,397 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,397 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,397 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,397 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,397 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,397 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.805
2025-04-17 19:23:24,397 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,397 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,397 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,397 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,397 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,397 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,397 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.805
2025-04-17 19:23:24,397 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,397 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,397 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,397 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,397 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99933.58, Equity: 99933.58
2025-04-17 19:23:24,397 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,397 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:03:00
2025-04-17 19:23:24,397 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:03:00, Close: 520.905
2025-04-17 19:23:24,397 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8110, Slow SMA = 520.8423
2025-04-17 19:23:24,397 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.052320, Curr diff: -0.031320
2025-04-17 19:23:24,397 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:03:00
2025-04-17 19:23:24,397 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,397 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:03:00, Close: 520.905
2025-04-17 19:23:24,397 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8380, Slow SMA = 520.8447
2025-04-17 19:23:24,397 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.031320, Curr diff: -0.006653
2025-04-17 19:23:24,397 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,397 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.905
2025-04-17 19:23:24,397 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99933.58, Equity: 99933.58
2025-04-17 19:23:24,397 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,397 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,397 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,397 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.905
2025-04-17 19:23:24,397 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,397 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,397 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,397 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,397 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,397 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,397 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.905
2025-04-17 19:23:24,397 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,397 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,397 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,397 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,397 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,397 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,397 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.905
2025-04-17 19:23:24,397 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,397 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,397 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,397 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,397 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,397 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,397 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.905
2025-04-17 19:23:24,397 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,397 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,397 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,397 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,397 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,397 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,397 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.905
2025-04-17 19:23:24,397 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,397 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,397 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,397 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,397 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,397 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,397 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.905
2025-04-17 19:23:24,397 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,397 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,397 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,397 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,397 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99933.58, Equity: 99933.58
2025-04-17 19:23:24,397 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,397 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:04:00
2025-04-17 19:23:24,397 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:04:00, Close: 520.845
2025-04-17 19:23:24,397 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8530, Slow SMA = 520.8430
2025-04-17 19:23:24,397 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.006653, Curr diff: 0.010013
2025-04-17 19:23:24,397 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bullish crossover for SPY @ 2024-03-26 17:04:00
2025-04-17 19:23:24,397 - src.position_management.position_manager - INFO - Position manager received BUY signal for SPY at price 520.845
2025-04-17 19:23:24,397 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: 1
2025-04-17 19:23:24,397 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,397 - src.position_management.position_manager - INFO - Created LONG position entry action for SPY size 10
2025-04-17 19:23:24,397 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,398 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,398 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,398 - src.engine.execution_engine - INFO - Created order from position action: SPY BUY 10 @ 520.845
2025-04-17 19:23:24,398 - src.engine.execution_engine - INFO - Order received: OrderEvent(BUY 10 SPY @ 520.845, MARKET, ID: 9d8bd28c-6d29-400c-b1fd-776144a3725e)
2025-04-17 19:23:24,398 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(BUY 10 SPY @ 520.845, MARKET, ID: 9d8bd28c-6d29-400c-b1fd-776144a3725e)
2025-04-17 19:23:24,398 - src.engine.execution_engine - INFO - Executing BUY order: 10 shares at 520.905
2025-04-17 19:23:24,398 - src.position_management.position - INFO - Position opened: c6475296-624b-4370-bb21-e0571c03fc46 SPY LONG 10 @ 520.905
2025-04-17 19:23:24,398 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,398 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,398 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,398 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(BUY 10 SPY @ 520.905, cost=0.00)
2025-04-17 19:23:24,398 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(BUY 10 SPY @ 520.845, MARKET, ID: 9d8bd28c-6d29-400c-b1fd-776144a3725e)
2025-04-17 19:23:24,398 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,398 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,398 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,398 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,398 - __main__ - DEBUG - Signal details: BUY for SPY @ 520.845
2025-04-17 19:23:24,398 - src.rules.rule_base - INFO - Generated BUY signal for SPY @ 520.845
2025-04-17 19:23:24,398 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:04:00
2025-04-17 19:23:24,398 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,398 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:04:00, Close: 520.845
2025-04-17 19:23:24,398 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8610, Slow SMA = 520.8390
2025-04-17 19:23:24,398 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.010013, Curr diff: 0.022013
2025-04-17 19:23:24,398 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,398 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.845
2025-04-17 19:23:24,398 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 89515.48, Equity: 94723.93
2025-04-17 19:23:24,398 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 129dfe9a-d1b9-4c0b-bd51-7887d9e396e6)
2025-04-17 19:23:24,398 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,398 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,398 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.845
2025-04-17 19:23:24,398 - src.position_management.position - INFO - Position closed: c6475296-624b-4370-bb21-e0571c03fc46 SPY LONG 10 @ 520.845 P&L: -0.60
2025-04-17 19:23:24,398 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,398 - src.position_management.portfolio - INFO - Position closed: c6475296-624b-4370-bb21-e0571c03fc46 SPY PnL: -0.60
2025-04-17 19:23:24,398 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,398 - src.engine.execution_engine - INFO - Commission charged: 5.21, remaining cash: 99927.17
2025-04-17 19:23:24,398 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,398 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,398 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(SELL 10 SPY @ 520.845, cost=5.21)
2025-04-17 19:23:24,398 - src.engine.execution_engine - INFO - Order executed successfully, Fill price: 520.85
2025-04-17 19:23:24,398 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,398 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,398 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,398 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.845
2025-04-17 19:23:24,398 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,398 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,398 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,398 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,398 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,398 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,398 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.845
2025-04-17 19:23:24,398 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,398 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,398 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,398 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,398 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,398 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,398 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.845
2025-04-17 19:23:24,398 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,398 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,398 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,398 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,398 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,398 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,398 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.845
2025-04-17 19:23:24,398 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,398 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,398 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,398 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,398 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,398 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,398 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.845
2025-04-17 19:23:24,398 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,398 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,398 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,398 - src.engine.execution_engine - INFO - Executed 1 of 6 orders
2025-04-17 19:23:24,398 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99927.17, Equity: 99932.38
2025-04-17 19:23:24,398 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,398 - src.engine.backtester - DEBUG - Executed 1 fills
2025-04-17 19:23:24,398 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:05:00
2025-04-17 19:23:24,398 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:05:00, Close: 520.9172
2025-04-17 19:23:24,398 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8834, Slow SMA = 520.8398
2025-04-17 19:23:24,398 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.022013, Curr diff: 0.043640
2025-04-17 19:23:24,398 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:05:00
2025-04-17 19:23:24,398 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,398 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:05:00, Close: 520.9172
2025-04-17 19:23:24,398 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8859, Slow SMA = 520.8450
2025-04-17 19:23:24,398 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.043640, Curr diff: 0.040927
2025-04-17 19:23:24,398 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,398 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=520.9172
2025-04-17 19:23:24,398 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99927.17, Equity: 99927.17
2025-04-17 19:23:24,398 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,398 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,398 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,398 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9172
2025-04-17 19:23:24,398 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,398 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,398 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,398 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,398 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,399 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,399 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9172
2025-04-17 19:23:24,399 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,399 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,399 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,399 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,399 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,399 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,399 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9172
2025-04-17 19:23:24,399 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,399 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,399 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,399 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,399 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,399 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,399 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9172
2025-04-17 19:23:24,399 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,399 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,399 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,399 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,399 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,399 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,399 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9172
2025-04-17 19:23:24,399 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,399 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,399 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,399 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,399 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99927.17, Equity: 99927.17
2025-04-17 19:23:24,399 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,399 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:06:00
2025-04-17 19:23:24,399 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:06:00, Close: 520.99
2025-04-17 19:23:24,399 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9029, Slow SMA = 520.8550
2025-04-17 19:23:24,399 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.040927, Curr diff: 0.047920
2025-04-17 19:23:24,399 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:06:00
2025-04-17 19:23:24,399 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,399 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:06:00, Close: 520.99
2025-04-17 19:23:24,399 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9319, Slow SMA = 520.8623
2025-04-17 19:23:24,399 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.047920, Curr diff: 0.069587
2025-04-17 19:23:24,399 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,399 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=520.99
2025-04-17 19:23:24,399 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99927.17, Equity: 99927.17
2025-04-17 19:23:24,399 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,399 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,399 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,399 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.99
2025-04-17 19:23:24,399 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,399 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,399 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,399 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,399 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,399 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,399 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.99
2025-04-17 19:23:24,399 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,399 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,399 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,399 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,399 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,399 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,399 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.99
2025-04-17 19:23:24,399 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,399 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,399 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,399 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,399 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,399 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,399 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.99
2025-04-17 19:23:24,399 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,399 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,399 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,399 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,399 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,399 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,399 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.99
2025-04-17 19:23:24,399 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,399 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,399 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,399 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,399 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99927.17, Equity: 99927.17
2025-04-17 19:23:24,399 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,399 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:07:00
2025-04-17 19:23:24,399 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:07:00, Close: 520.9901
2025-04-17 19:23:24,399 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9609, Slow SMA = 520.8696
2025-04-17 19:23:24,399 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.069587, Curr diff: 0.091267
2025-04-17 19:23:24,399 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:07:00
2025-04-17 19:23:24,399 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,399 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:07:00, Close: 520.9901
2025-04-17 19:23:24,399 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9755, Slow SMA = 520.8826
2025-04-17 19:23:24,399 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.091267, Curr diff: 0.092840
2025-04-17 19:23:24,399 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,399 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=520.9901
2025-04-17 19:23:24,399 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99927.17, Equity: 99927.17
2025-04-17 19:23:24,399 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,399 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,399 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,399 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9901
2025-04-17 19:23:24,399 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,399 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,399 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,399 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,399 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,399 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,399 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9901
2025-04-17 19:23:24,399 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,399 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,399 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,400 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,400 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,400 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,400 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9901
2025-04-17 19:23:24,400 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,400 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,400 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,400 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,400 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,400 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,400 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9901
2025-04-17 19:23:24,400 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,400 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,400 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,400 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,400 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,400 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,400 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9901
2025-04-17 19:23:24,400 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,400 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,400 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,400 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,400 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99927.17, Equity: 99927.17
2025-04-17 19:23:24,400 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,400 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:08:00
2025-04-17 19:23:24,400 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:08:00, Close: 520.94
2025-04-17 19:23:24,400 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9800, Slow SMA = 520.8923
2025-04-17 19:23:24,400 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.092840, Curr diff: 0.087733
2025-04-17 19:23:24,400 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:08:00
2025-04-17 19:23:24,400 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,400 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:08:00, Close: 520.94
2025-04-17 19:23:24,400 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9700, Slow SMA = 520.9036
2025-04-17 19:23:24,400 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.087733, Curr diff: 0.066400
2025-04-17 19:23:24,400 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,400 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=520.94
2025-04-17 19:23:24,400 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99927.17, Equity: 99927.17
2025-04-17 19:23:24,400 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,400 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,400 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,400 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.94
2025-04-17 19:23:24,400 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,400 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,400 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,400 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,400 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,400 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,400 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.94
2025-04-17 19:23:24,400 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,400 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,400 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,400 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,400 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,400 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,400 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.94
2025-04-17 19:23:24,400 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,400 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,400 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,400 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,400 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,400 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,400 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.94
2025-04-17 19:23:24,400 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,400 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,400 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,400 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,400 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,400 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,400 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.94
2025-04-17 19:23:24,400 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,400 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,400 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,400 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,400 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99927.17, Equity: 99927.17
2025-04-17 19:23:24,400 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,400 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:09:00
2025-04-17 19:23:24,400 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:09:00, Close: 520.935
2025-04-17 19:23:24,400 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9590, Slow SMA = 520.9146
2025-04-17 19:23:24,400 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.066400, Curr diff: 0.044400
2025-04-17 19:23:24,400 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:09:00
2025-04-17 19:23:24,400 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,400 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:09:00, Close: 520.935
2025-04-17 19:23:24,400 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9480, Slow SMA = 520.9233
2025-04-17 19:23:24,400 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.044400, Curr diff: 0.024713
2025-04-17 19:23:24,400 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,400 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=520.935
2025-04-17 19:23:24,400 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99927.17, Equity: 99927.17
2025-04-17 19:23:24,400 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,400 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,400 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,400 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.935
2025-04-17 19:23:24,400 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,400 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,400 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,400 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,400 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,400 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,400 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.935
2025-04-17 19:23:24,400 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,400 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,400 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,400 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,400 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,400 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,401 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.935
2025-04-17 19:23:24,401 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,401 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,401 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,401 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,401 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,401 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,401 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.935
2025-04-17 19:23:24,401 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,401 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,401 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,401 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,401 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,401 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,401 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.935
2025-04-17 19:23:24,401 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,401 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,401 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,401 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,401 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99927.17, Equity: 99927.17
2025-04-17 19:23:24,401 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,401 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:10:00
2025-04-17 19:23:24,401 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:10:00, Close: 520.884
2025-04-17 19:23:24,401 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9268, Slow SMA = 520.9286
2025-04-17 19:23:24,401 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.024713, Curr diff: -0.001773
2025-04-17 19:23:24,401 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bearish crossover for SPY @ 2024-03-26 17:10:00
2025-04-17 19:23:24,401 - src.position_management.position_manager - INFO - Position manager received SELL signal for SPY at price 520.884
2025-04-17 19:23:24,401 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: -1
2025-04-17 19:23:24,401 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,401 - src.position_management.position_manager - INFO - Created SHORT position entry action for SPY size 10
2025-04-17 19:23:24,401 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,401 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,401 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,401 - src.engine.execution_engine - INFO - Created order from position action: SPY SELL 10 @ 520.884
2025-04-17 19:23:24,401 - src.engine.execution_engine - INFO - Order received: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,401 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,401 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.935
2025-04-17 19:23:24,401 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,401 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,401 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,401 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,401 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,401 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,401 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,401 - __main__ - DEBUG - Signal details: SELL for SPY @ 520.884
2025-04-17 19:23:24,401 - src.rules.rule_base - INFO - Generated SELL signal for SPY @ 520.884
2025-04-17 19:23:24,401 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:10:00
2025-04-17 19:23:24,401 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,401 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:10:00, Close: 520.884
2025-04-17 19:23:24,401 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9156, Slow SMA = 520.9272
2025-04-17 19:23:24,401 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.001773, Curr diff: -0.011573
2025-04-17 19:23:24,401 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,401 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.884
2025-04-17 19:23:24,401 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99927.17, Equity: 99927.17
2025-04-17 19:23:24,401 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,401 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,401 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,401 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.884
2025-04-17 19:23:24,401 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,401 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,401 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,401 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,401 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,401 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,401 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.884
2025-04-17 19:23:24,401 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,401 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,401 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,401 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,401 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,401 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,401 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.884
2025-04-17 19:23:24,401 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,401 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,401 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,401 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,401 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,401 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,401 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.884
2025-04-17 19:23:24,401 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,401 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,401 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,401 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,401 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,401 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,401 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.884
2025-04-17 19:23:24,401 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,401 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,401 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,401 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,401 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,401 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,401 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.884
2025-04-17 19:23:24,401 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,401 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,401 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,401 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,401 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99927.17, Equity: 99927.17
2025-04-17 19:23:24,401 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,401 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:11:00
2025-04-17 19:23:24,401 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:11:00, Close: 520.905
2025-04-17 19:23:24,402 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9086, Slow SMA = 520.9272
2025-04-17 19:23:24,402 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.011573, Curr diff: -0.018573
2025-04-17 19:23:24,402 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:11:00
2025-04-17 19:23:24,402 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,402 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:11:00, Close: 520.905
2025-04-17 19:23:24,402 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9026, Slow SMA = 520.9312
2025-04-17 19:23:24,402 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.018573, Curr diff: -0.028573
2025-04-17 19:23:24,402 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,402 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.905
2025-04-17 19:23:24,402 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99927.17, Equity: 99927.17
2025-04-17 19:23:24,402 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,402 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,402 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,402 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.905
2025-04-17 19:23:24,402 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,402 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,402 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,402 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,402 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,402 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,402 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.905
2025-04-17 19:23:24,402 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,402 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,402 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,402 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,402 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,402 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,402 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.905
2025-04-17 19:23:24,402 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,402 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,402 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,402 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,402 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,402 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,402 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.905
2025-04-17 19:23:24,402 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,402 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,402 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,402 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,402 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,402 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,402 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.905
2025-04-17 19:23:24,402 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,402 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,402 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,402 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,402 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,402 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,402 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.905
2025-04-17 19:23:24,402 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,402 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,402 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,402 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,402 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99927.17, Equity: 99927.17
2025-04-17 19:23:24,402 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,402 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:12:00
2025-04-17 19:23:24,402 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:12:00, Close: 520.94
2025-04-17 19:23:24,402 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9036, Slow SMA = 520.9375
2025-04-17 19:23:24,402 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.028573, Curr diff: -0.033907
2025-04-17 19:23:24,402 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:12:00
2025-04-17 19:23:24,402 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,402 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:12:00, Close: 520.94
2025-04-17 19:23:24,402 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9148, Slow SMA = 520.9390
2025-04-17 19:23:24,402 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.033907, Curr diff: -0.024227
2025-04-17 19:23:24,402 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,402 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.94
2025-04-17 19:23:24,402 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99927.17, Equity: 99927.17
2025-04-17 19:23:24,402 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,402 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,402 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,402 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.94
2025-04-17 19:23:24,402 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,402 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,402 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,402 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,402 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,402 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,402 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.94
2025-04-17 19:23:24,402 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,402 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,402 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,402 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,402 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,402 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,402 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.94
2025-04-17 19:23:24,402 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,402 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,402 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,402 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,402 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,402 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,402 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.94
2025-04-17 19:23:24,402 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,402 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,402 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,402 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,402 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,402 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,402 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.94
2025-04-17 19:23:24,402 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,402 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,402 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,402 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,402 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,402 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,402 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.94
2025-04-17 19:23:24,402 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,402 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,402 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,402 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,402 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99927.17, Equity: 99927.17
2025-04-17 19:23:24,403 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,403 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:13:00
2025-04-17 19:23:24,403 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:13:00, Close: 520.94
2025-04-17 19:23:24,403 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9260, Slow SMA = 520.9405
2025-04-17 19:23:24,403 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.024227, Curr diff: -0.014547
2025-04-17 19:23:24,403 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:13:00
2025-04-17 19:23:24,403 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,403 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:13:00, Close: 520.94
2025-04-17 19:23:24,403 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9330, Slow SMA = 520.9372
2025-04-17 19:23:24,403 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.014547, Curr diff: -0.004213
2025-04-17 19:23:24,403 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,403 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.94
2025-04-17 19:23:24,403 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99927.17, Equity: 99927.17
2025-04-17 19:23:24,403 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,403 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,403 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,403 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.94
2025-04-17 19:23:24,403 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,403 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,403 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,403 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,403 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,403 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,403 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.94
2025-04-17 19:23:24,403 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,403 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,403 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,403 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,403 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,403 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,403 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.94
2025-04-17 19:23:24,403 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,403 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,403 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,403 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,403 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,403 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,403 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.94
2025-04-17 19:23:24,403 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,403 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,403 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,403 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,403 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,403 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,403 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.94
2025-04-17 19:23:24,403 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,403 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,403 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,403 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,403 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,403 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,403 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.94
2025-04-17 19:23:24,403 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,403 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,403 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,403 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,403 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99927.17, Equity: 99927.17
2025-04-17 19:23:24,403 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,403 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:14:00
2025-04-17 19:23:24,403 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:14:00, Close: 521.0
2025-04-17 19:23:24,403 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9520, Slow SMA = 520.9379
2025-04-17 19:23:24,403 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.004213, Curr diff: 0.014120
2025-04-17 19:23:24,403 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bullish crossover for SPY @ 2024-03-26 17:14:00
2025-04-17 19:23:24,403 - src.position_management.position_manager - INFO - Position manager received BUY signal for SPY at price 521.0
2025-04-17 19:23:24,403 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: 1
2025-04-17 19:23:24,403 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,403 - src.position_management.position_manager - INFO - Created LONG position entry action for SPY size 10
2025-04-17 19:23:24,403 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,403 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,403 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,403 - src.engine.execution_engine - INFO - Created order from position action: SPY BUY 10 @ 521.0
2025-04-17 19:23:24,403 - src.engine.execution_engine - INFO - Order received: OrderEvent(BUY 10 SPY @ 521.0, MARKET, ID: a29e224c-810f-4a73-ab1b-0eb7ff391361)
2025-04-17 19:23:24,403 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(BUY 10 SPY @ 521.0, MARKET, ID: a29e224c-810f-4a73-ab1b-0eb7ff391361)
2025-04-17 19:23:24,403 - src.engine.execution_engine - INFO - Executing BUY order: 10 shares at 520.94
2025-04-17 19:23:24,403 - src.position_management.position - INFO - Position opened: b3805125-6ada-4040-abc2-5fe37907fd82 SPY LONG 10 @ 520.94
2025-04-17 19:23:24,403 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,403 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,403 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,403 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(BUY 10 SPY @ 520.94, cost=0.00)
2025-04-17 19:23:24,403 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(BUY 10 SPY @ 521.0, MARKET, ID: a29e224c-810f-4a73-ab1b-0eb7ff391361)
2025-04-17 19:23:24,403 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,403 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,403 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,403 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,403 - __main__ - DEBUG - Signal details: BUY for SPY @ 521.0
2025-04-17 19:23:24,403 - src.rules.rule_base - INFO - Generated BUY signal for SPY @ 521.0
2025-04-17 19:23:24,403 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:14:00
2025-04-17 19:23:24,403 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,403 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:14:00, Close: 521.0
2025-04-17 19:23:24,403 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9640, Slow SMA = 520.9385
2025-04-17 19:23:24,403 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.014120, Curr diff: 0.025460
2025-04-17 19:23:24,403 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,403 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=521.0
2025-04-17 19:23:24,403 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 89508.37, Equity: 94718.37
2025-04-17 19:23:24,403 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.18, MARKET, ID: 23a82eda-4016-41c4-bcec-2b2ced6d32d0)
2025-04-17 19:23:24,403 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,404 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,404 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0
2025-04-17 19:23:24,404 - src.position_management.position - INFO - Position closed: b3805125-6ada-4040-abc2-5fe37907fd82 SPY LONG 10 @ 521.0 P&L: 0.60
2025-04-17 19:23:24,404 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,404 - src.position_management.portfolio - INFO - Position closed: b3805125-6ada-4040-abc2-5fe37907fd82 SPY PnL: 0.60
2025-04-17 19:23:24,404 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,404 - src.engine.execution_engine - INFO - Commission charged: 5.21, remaining cash: 99923.16
2025-04-17 19:23:24,404 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,404 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,404 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(SELL 10 SPY @ 521.0, cost=5.21)
2025-04-17 19:23:24,404 - src.engine.execution_engine - INFO - Order executed successfully, Fill price: 521.00
2025-04-17 19:23:24,404 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,404 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,404 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,404 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0
2025-04-17 19:23:24,404 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,404 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,404 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,404 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,404 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,404 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,404 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0
2025-04-17 19:23:24,404 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,404 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,404 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,404 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,404 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,404 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,404 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0
2025-04-17 19:23:24,404 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,404 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,404 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,404 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,404 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,404 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,404 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0
2025-04-17 19:23:24,404 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,404 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,404 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,404 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,404 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,404 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,404 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0
2025-04-17 19:23:24,404 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,404 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,404 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,404 - src.engine.execution_engine - INFO - Executed 1 of 6 orders
2025-04-17 19:23:24,404 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99923.16, Equity: 99928.37
2025-04-17 19:23:24,404 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,404 - src.engine.backtester - DEBUG - Executed 1 fills
2025-04-17 19:23:24,404 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:15:00
2025-04-17 19:23:24,404 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:15:00, Close: 520.98
2025-04-17 19:23:24,404 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9720, Slow SMA = 520.9379
2025-04-17 19:23:24,404 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.025460, Curr diff: 0.034133
2025-04-17 19:23:24,404 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:15:00
2025-04-17 19:23:24,404 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,404 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:15:00, Close: 520.98
2025-04-17 19:23:24,404 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9800, Slow SMA = 520.9405
2025-04-17 19:23:24,404 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.034133, Curr diff: 0.039467
2025-04-17 19:23:24,404 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,404 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=520.98
2025-04-17 19:23:24,404 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99923.16, Equity: 99923.16
2025-04-17 19:23:24,404 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,404 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,404 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,404 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.98
2025-04-17 19:23:24,404 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,404 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,404 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,404 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,404 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,404 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,404 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.98
2025-04-17 19:23:24,404 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,404 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,404 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,404 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,404 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,404 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,404 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.98
2025-04-17 19:23:24,404 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,404 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,404 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,404 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,404 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,404 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,404 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.98
2025-04-17 19:23:24,404 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,404 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,404 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,404 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,404 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,404 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,404 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.98
2025-04-17 19:23:24,404 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,404 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,404 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,404 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,404 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99923.16, Equity: 99923.16
2025-04-17 19:23:24,404 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,404 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:16:00
2025-04-17 19:23:24,405 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:16:00, Close: 520.89
2025-04-17 19:23:24,405 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9700, Slow SMA = 520.9372
2025-04-17 19:23:24,405 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.039467, Curr diff: 0.032800
2025-04-17 19:23:24,405 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:16:00
2025-04-17 19:23:24,405 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,405 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:16:00, Close: 520.89
2025-04-17 19:23:24,405 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9480, Slow SMA = 520.9342
2025-04-17 19:23:24,405 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.032800, Curr diff: 0.013800
2025-04-17 19:23:24,405 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,405 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=520.89
2025-04-17 19:23:24,405 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99923.16, Equity: 99923.16
2025-04-17 19:23:24,405 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,405 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,405 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,405 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.89
2025-04-17 19:23:24,405 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,405 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,405 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,405 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,405 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,405 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,405 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.89
2025-04-17 19:23:24,405 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,405 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,405 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,405 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,405 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,405 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,405 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.89
2025-04-17 19:23:24,405 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,405 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,405 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,405 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,405 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,405 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,405 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.89
2025-04-17 19:23:24,405 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,405 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,405 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,405 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,405 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,405 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,405 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.89
2025-04-17 19:23:24,405 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,405 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,405 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,405 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,405 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99923.16, Equity: 99923.16
2025-04-17 19:23:24,405 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,405 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:17:00
2025-04-17 19:23:24,405 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:17:00, Close: 520.825
2025-04-17 19:23:24,405 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9130, Slow SMA = 520.9269
2025-04-17 19:23:24,405 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.013800, Curr diff: -0.013867
2025-04-17 19:23:24,405 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bearish crossover for SPY @ 2024-03-26 17:17:00
2025-04-17 19:23:24,405 - src.position_management.position_manager - INFO - Position manager received SELL signal for SPY at price 520.825
2025-04-17 19:23:24,405 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: -1
2025-04-17 19:23:24,405 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,405 - src.position_management.position_manager - INFO - Created SHORT position entry action for SPY size 10
2025-04-17 19:23:24,405 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,405 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,405 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,405 - src.engine.execution_engine - INFO - Created order from position action: SPY SELL 10 @ 520.825
2025-04-17 19:23:24,405 - src.engine.execution_engine - INFO - Order received: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,405 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,405 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.89
2025-04-17 19:23:24,405 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,405 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,405 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,405 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,405 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,405 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,405 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,405 - __main__ - DEBUG - Signal details: SELL for SPY @ 520.825
2025-04-17 19:23:24,405 - src.rules.rule_base - INFO - Generated SELL signal for SPY @ 520.825
2025-04-17 19:23:24,405 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:17:00
2025-04-17 19:23:24,405 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,405 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:17:00, Close: 520.825
2025-04-17 19:23:24,405 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8820, Slow SMA = 520.9229
2025-04-17 19:23:24,405 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.013867, Curr diff: -0.040933
2025-04-17 19:23:24,405 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,405 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.825
2025-04-17 19:23:24,405 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99923.16, Equity: 99923.16
2025-04-17 19:23:24,405 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,405 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,405 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,405 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.825
2025-04-17 19:23:24,405 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,405 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,405 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,405 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,405 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,405 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,405 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.825
2025-04-17 19:23:24,405 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,405 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,405 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,405 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,405 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,405 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,405 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.825
2025-04-17 19:23:24,405 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,405 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,405 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,405 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,405 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,406 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,406 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.825
2025-04-17 19:23:24,406 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,406 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,406 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,406 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,406 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,406 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,406 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.825
2025-04-17 19:23:24,406 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,406 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,406 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,406 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,406 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,406 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,406 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.825
2025-04-17 19:23:24,406 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,406 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,406 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,406 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,406 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99923.16, Equity: 99923.16
2025-04-17 19:23:24,406 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,406 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:18:00
2025-04-17 19:23:24,406 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:18:00, Close: 520.83
2025-04-17 19:23:24,406 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8520, Slow SMA = 520.9193
2025-04-17 19:23:24,406 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.040933, Curr diff: -0.067333
2025-04-17 19:23:24,406 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:18:00
2025-04-17 19:23:24,406 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,406 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:18:00, Close: 520.83
2025-04-17 19:23:24,406 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8400, Slow SMA = 520.9143
2025-04-17 19:23:24,406 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.067333, Curr diff: -0.074333
2025-04-17 19:23:24,406 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,406 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.83
2025-04-17 19:23:24,406 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99923.16, Equity: 99923.16
2025-04-17 19:23:24,406 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,406 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,406 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,406 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.83
2025-04-17 19:23:24,406 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,406 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,406 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,406 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,406 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,406 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,406 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.83
2025-04-17 19:23:24,406 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,406 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,406 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,406 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,406 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,406 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,406 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.83
2025-04-17 19:23:24,406 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,406 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,406 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,406 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,406 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,406 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,406 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.83
2025-04-17 19:23:24,406 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,406 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,406 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,406 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,406 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,406 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,406 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.83
2025-04-17 19:23:24,406 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,406 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,406 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,406 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,406 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,406 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,406 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.83
2025-04-17 19:23:24,406 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,406 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,406 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,406 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,406 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99923.16, Equity: 99923.16
2025-04-17 19:23:24,406 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,406 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:19:00
2025-04-17 19:23:24,406 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:19:00, Close: 520.825
2025-04-17 19:23:24,406 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8270, Slow SMA = 520.9090
2025-04-17 19:23:24,406 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.074333, Curr diff: -0.082000
2025-04-17 19:23:24,406 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:19:00
2025-04-17 19:23:24,406 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,406 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:19:00, Close: 520.825
2025-04-17 19:23:24,406 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8270, Slow SMA = 520.9013
2025-04-17 19:23:24,406 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.082000, Curr diff: -0.074333
2025-04-17 19:23:24,406 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,406 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.825
2025-04-17 19:23:24,406 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99923.16, Equity: 99923.16
2025-04-17 19:23:24,406 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,406 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,406 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,406 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.825
2025-04-17 19:23:24,406 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,406 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,406 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,406 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,406 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,406 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,406 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.825
2025-04-17 19:23:24,406 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,406 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,407 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,407 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,407 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,407 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,407 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.825
2025-04-17 19:23:24,407 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,407 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,407 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,407 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,407 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,407 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,407 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.825
2025-04-17 19:23:24,407 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,407 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,407 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,407 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,407 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,407 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,407 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.825
2025-04-17 19:23:24,407 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,407 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,407 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,407 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,407 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,407 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,407 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.825
2025-04-17 19:23:24,407 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,407 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,407 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,407 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,407 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99923.16, Equity: 99923.16
2025-04-17 19:23:24,407 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,407 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:20:00
2025-04-17 19:23:24,407 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:20:00, Close: 520.82
2025-04-17 19:23:24,407 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8260, Slow SMA = 520.8933
2025-04-17 19:23:24,407 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.074333, Curr diff: -0.067333
2025-04-17 19:23:24,407 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:20:00
2025-04-17 19:23:24,407 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,407 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:20:00, Close: 520.82
2025-04-17 19:23:24,407 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8240, Slow SMA = 520.8853
2025-04-17 19:23:24,407 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.067333, Curr diff: -0.061333
2025-04-17 19:23:24,407 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,407 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.82
2025-04-17 19:23:24,407 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99923.16, Equity: 99923.16
2025-04-17 19:23:24,407 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,407 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,407 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,407 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.82
2025-04-17 19:23:24,407 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,407 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,407 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,407 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,407 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,407 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,407 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.82
2025-04-17 19:23:24,407 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,407 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,407 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,407 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,407 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,407 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,407 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.82
2025-04-17 19:23:24,407 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,407 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,407 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,407 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,407 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,407 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,407 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.82
2025-04-17 19:23:24,407 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,407 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,407 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,407 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,407 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,407 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,407 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.82
2025-04-17 19:23:24,407 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,407 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,407 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,407 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,407 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,407 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,407 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.82
2025-04-17 19:23:24,407 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,407 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,407 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,407 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,407 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99923.16, Equity: 99923.16
2025-04-17 19:23:24,407 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,407 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:21:00
2025-04-17 19:23:24,407 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:21:00, Close: 520.825
2025-04-17 19:23:24,407 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8230, Slow SMA = 520.8777
2025-04-17 19:23:24,407 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.061333, Curr diff: -0.054667
2025-04-17 19:23:24,407 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:21:00
2025-04-17 19:23:24,407 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,407 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:21:00, Close: 520.825
2025-04-17 19:23:24,407 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8230, Slow SMA = 520.8660
2025-04-17 19:23:24,407 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.054667, Curr diff: -0.043000
2025-04-17 19:23:24,407 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,407 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.825
2025-04-17 19:23:24,407 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99923.16, Equity: 99923.16
2025-04-17 19:23:24,407 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,407 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,407 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,407 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.825
2025-04-17 19:23:24,408 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,408 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,408 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,408 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,408 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,408 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,408 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.825
2025-04-17 19:23:24,408 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,408 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,408 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,408 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,408 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,408 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,408 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.825
2025-04-17 19:23:24,408 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,408 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,408 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,408 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,408 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,408 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,408 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.825
2025-04-17 19:23:24,408 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,408 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,408 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,408 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,408 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,408 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,408 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.825
2025-04-17 19:23:24,408 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,408 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,408 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,408 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,408 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,408 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,408 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.825
2025-04-17 19:23:24,408 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,408 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,408 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,408 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,408 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99923.16, Equity: 99923.16
2025-04-17 19:23:24,408 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,408 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:22:00
2025-04-17 19:23:24,408 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:22:00, Close: 520.82
2025-04-17 19:23:24,408 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8220, Slow SMA = 520.8540
2025-04-17 19:23:24,408 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.043000, Curr diff: -0.032000
2025-04-17 19:23:24,408 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:22:00
2025-04-17 19:23:24,408 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,408 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:22:00, Close: 520.82
2025-04-17 19:23:24,408 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8220, Slow SMA = 520.8433
2025-04-17 19:23:24,408 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.032000, Curr diff: -0.021333
2025-04-17 19:23:24,408 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,408 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.82
2025-04-17 19:23:24,408 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99923.16, Equity: 99923.16
2025-04-17 19:23:24,408 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,408 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,408 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,408 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.82
2025-04-17 19:23:24,408 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,408 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,408 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,408 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,408 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,408 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,408 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.82
2025-04-17 19:23:24,408 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,408 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,408 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,408 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,408 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,408 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,408 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.82
2025-04-17 19:23:24,408 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,408 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,408 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,408 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,408 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,408 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,408 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.82
2025-04-17 19:23:24,408 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,408 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,408 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,408 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,408 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,408 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,408 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.82
2025-04-17 19:23:24,408 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,408 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,408 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,408 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,408 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,408 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,408 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.82
2025-04-17 19:23:24,408 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,408 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,408 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,408 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,408 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99923.16, Equity: 99923.16
2025-04-17 19:23:24,408 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,408 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:23:00
2025-04-17 19:23:24,408 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:23:00, Close: 520.775
2025-04-17 19:23:24,408 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8130, Slow SMA = 520.8297
2025-04-17 19:23:24,408 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.021333, Curr diff: -0.016667
2025-04-17 19:23:24,408 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:23:00
2025-04-17 19:23:24,408 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,408 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:23:00, Close: 520.775
2025-04-17 19:23:24,408 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8030, Slow SMA = 520.8220
2025-04-17 19:23:24,409 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.016667, Curr diff: -0.019000
2025-04-17 19:23:24,409 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,409 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.775
2025-04-17 19:23:24,409 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99923.16, Equity: 99923.16
2025-04-17 19:23:24,409 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,409 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,409 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,409 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.775
2025-04-17 19:23:24,409 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,409 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,409 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,409 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,409 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,409 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,409 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.775
2025-04-17 19:23:24,409 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,409 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,409 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,409 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,409 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,409 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,409 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.775
2025-04-17 19:23:24,409 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,409 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,409 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,409 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,409 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,409 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,409 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.775
2025-04-17 19:23:24,409 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,409 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,409 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,409 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,409 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,409 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,409 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.775
2025-04-17 19:23:24,409 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,409 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,409 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,409 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,409 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,409 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,409 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.775
2025-04-17 19:23:24,409 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,409 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,409 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,409 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,409 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99923.16, Equity: 99923.16
2025-04-17 19:23:24,409 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,409 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:24:00
2025-04-17 19:23:24,409 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:24:00, Close: 520.79
2025-04-17 19:23:24,409 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.7960, Slow SMA = 520.8153
2025-04-17 19:23:24,409 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.019000, Curr diff: -0.019333
2025-04-17 19:23:24,409 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:24:00
2025-04-17 19:23:24,409 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,409 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:24:00, Close: 520.79
2025-04-17 19:23:24,409 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.7900, Slow SMA = 520.8130
2025-04-17 19:23:24,409 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.019333, Curr diff: -0.023000
2025-04-17 19:23:24,409 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,409 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.79
2025-04-17 19:23:24,409 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99923.16, Equity: 99923.16
2025-04-17 19:23:24,409 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,409 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,409 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,409 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.79
2025-04-17 19:23:24,409 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,409 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,409 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,409 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,409 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,409 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,409 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.79
2025-04-17 19:23:24,409 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,409 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,409 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,409 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,409 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,409 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,409 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.79
2025-04-17 19:23:24,409 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,409 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,409 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,409 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,409 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,409 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,409 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.79
2025-04-17 19:23:24,409 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,409 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,409 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,409 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,409 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,409 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,409 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.79
2025-04-17 19:23:24,409 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,409 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,409 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,409 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,409 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,409 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,409 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.79
2025-04-17 19:23:24,409 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,409 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,409 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,409 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,409 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99923.16, Equity: 99923.16
2025-04-17 19:23:24,409 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,409 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:25:00
2025-04-17 19:23:24,410 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:25:00, Close: 520.76
2025-04-17 19:23:24,410 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.7780, Slow SMA = 520.8087
2025-04-17 19:23:24,410 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.023000, Curr diff: -0.030667
2025-04-17 19:23:24,410 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:25:00
2025-04-17 19:23:24,410 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,410 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:25:00, Close: 520.76
2025-04-17 19:23:24,410 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.7750, Slow SMA = 520.8040
2025-04-17 19:23:24,410 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.030667, Curr diff: -0.029000
2025-04-17 19:23:24,410 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,410 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.76
2025-04-17 19:23:24,410 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99923.16, Equity: 99923.16
2025-04-17 19:23:24,410 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,410 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,410 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,410 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.76
2025-04-17 19:23:24,410 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,410 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,410 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,410 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,410 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,410 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,410 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.76
2025-04-17 19:23:24,410 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,410 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,410 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,410 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,410 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,410 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,410 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.76
2025-04-17 19:23:24,410 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,410 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,410 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,410 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,410 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,410 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,410 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.76
2025-04-17 19:23:24,410 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,410 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,410 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,410 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,410 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,410 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,410 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.76
2025-04-17 19:23:24,410 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,410 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,410 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,410 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,410 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,410 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,410 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.76
2025-04-17 19:23:24,410 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,410 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,410 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,410 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,410 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99923.16, Equity: 99923.16
2025-04-17 19:23:24,410 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,410 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:26:00
2025-04-17 19:23:24,410 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:26:00, Close: 520.8
2025-04-17 19:23:24,410 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.7800, Slow SMA = 520.8020
2025-04-17 19:23:24,410 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.029000, Curr diff: -0.022000
2025-04-17 19:23:24,410 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:26:00
2025-04-17 19:23:24,410 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,410 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:26:00, Close: 520.8
2025-04-17 19:23:24,410 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.7820, Slow SMA = 520.8003
2025-04-17 19:23:24,410 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.022000, Curr diff: -0.018333
2025-04-17 19:23:24,410 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,410 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.8
2025-04-17 19:23:24,410 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99923.16, Equity: 99923.16
2025-04-17 19:23:24,410 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,410 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,410 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,410 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.8
2025-04-17 19:23:24,410 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,410 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,410 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,410 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,410 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,410 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,410 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.8
2025-04-17 19:23:24,410 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,410 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,410 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,410 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,410 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,410 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,410 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.8
2025-04-17 19:23:24,410 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,410 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,410 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,410 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,410 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,410 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,410 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.8
2025-04-17 19:23:24,410 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,410 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,410 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,410 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,410 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,410 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,410 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.8
2025-04-17 19:23:24,410 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,410 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,410 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,410 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,410 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,410 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,410 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.8
2025-04-17 19:23:24,410 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,410 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,410 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,411 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,411 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99923.16, Equity: 99923.16
2025-04-17 19:23:24,411 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,411 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:27:00
2025-04-17 19:23:24,411 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:27:00, Close: 520.76
2025-04-17 19:23:24,411 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.7760, Slow SMA = 520.7960
2025-04-17 19:23:24,411 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.018333, Curr diff: -0.020000
2025-04-17 19:23:24,411 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:27:00
2025-04-17 19:23:24,411 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,411 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:27:00, Close: 520.76
2025-04-17 19:23:24,411 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.7760, Slow SMA = 520.7920
2025-04-17 19:23:24,411 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.020000, Curr diff: -0.016000
2025-04-17 19:23:24,411 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,411 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.76
2025-04-17 19:23:24,411 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99923.16, Equity: 99923.16
2025-04-17 19:23:24,411 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,411 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,411 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,411 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.76
2025-04-17 19:23:24,411 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,411 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,411 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,411 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,411 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,411 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,411 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.76
2025-04-17 19:23:24,411 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,411 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,411 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,411 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,411 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,411 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,411 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.76
2025-04-17 19:23:24,411 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,411 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,411 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,411 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,411 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,411 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,411 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.76
2025-04-17 19:23:24,411 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,411 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,411 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,411 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,411 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,411 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,411 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.76
2025-04-17 19:23:24,411 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,411 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,411 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,411 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,411 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,411 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,411 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.76
2025-04-17 19:23:24,411 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,411 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,411 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,411 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,411 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99923.16, Equity: 99923.16
2025-04-17 19:23:24,411 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,411 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:28:00
2025-04-17 19:23:24,411 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:28:00, Close: 520.82
2025-04-17 19:23:24,411 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.7880, Slow SMA = 520.7920
2025-04-17 19:23:24,411 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.016000, Curr diff: -0.004000
2025-04-17 19:23:24,411 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:28:00
2025-04-17 19:23:24,411 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,411 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:28:00, Close: 520.82
2025-04-17 19:23:24,411 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.7920, Slow SMA = 520.7917
2025-04-17 19:23:24,411 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.004000, Curr diff: 0.000333
2025-04-17 19:23:24,411 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bullish crossover for SPY @ 2024-03-26 17:28:00
2025-04-17 19:23:24,411 - src.position_management.position_manager - INFO - Position manager received BUY signal for SPY at price 520.82
2025-04-17 19:23:24,411 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: 1
2025-04-17 19:23:24,411 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,411 - src.position_management.position_manager - INFO - Created LONG position entry action for SPY size 10
2025-04-17 19:23:24,411 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,411 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,411 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,411 - src.engine.execution_engine - INFO - Created order from position action: SPY BUY 10 @ 520.82
2025-04-17 19:23:24,411 - src.engine.execution_engine - INFO - Order received: OrderEvent(BUY 10 SPY @ 520.82, MARKET, ID: baa41e9c-5474-4998-b89f-4a94bf9f0213)
2025-04-17 19:23:24,411 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(BUY 10 SPY @ 520.82, MARKET, ID: baa41e9c-5474-4998-b89f-4a94bf9f0213)
2025-04-17 19:23:24,411 - src.engine.execution_engine - INFO - Executing BUY order: 10 shares at 520.76
2025-04-17 19:23:24,411 - src.position_management.position - INFO - Position opened: 105a39d0-9c2c-427a-ba55-425a684da5d5 SPY LONG 10 @ 520.76
2025-04-17 19:23:24,411 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,411 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,411 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,411 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(BUY 10 SPY @ 520.76, cost=0.00)
2025-04-17 19:23:24,411 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(BUY 10 SPY @ 520.82, MARKET, ID: baa41e9c-5474-4998-b89f-4a94bf9f0213)
2025-04-17 19:23:24,411 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,411 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,411 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,411 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,411 - __main__ - DEBUG - Signal details: BUY for SPY @ 520.82
2025-04-17 19:23:24,411 - src.rules.rule_base - INFO - Generated BUY signal for SPY @ 520.82
2025-04-17 19:23:24,411 - src.engine.backtester - DEBUG - Emitting signal from strategy: SignalEvent(BUY, SPY, price=520.82)
2025-04-17 19:23:24,411 - src.engine.backtester - DEBUG - Emitted signal event: BUY for SPY
2025-04-17 19:23:24,411 - src.position_management.position_manager - INFO - Position manager received BUY signal for SPY at price 520.82
2025-04-17 19:23:24,411 - src.position_management.position_manager - INFO - Current net position for SPY: 10, direction: 1
2025-04-17 19:23:24,411 - src.position_management.position_manager - INFO - Already have position in LONG direction - skipping
2025-04-17 19:23:24,411 - src.position_management.position_manager - INFO - No position actions created from signal
2025-04-17 19:23:24,412 - src.engine.backtester - DEBUG - Event flow: SIGNAL event received
2025-04-17 19:23:24,412 - src.engine.backtester - DEBUG - Signal: BUY for SPY at 520.82
2025-04-17 19:23:24,412 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,412 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.82
2025-04-17 19:23:24,412 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 89507.96, Equity: 94716.16
2025-04-17 19:23:24,412 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: 6e6e6576-abee-4db9-9136-ccaec152caf4)
2025-04-17 19:23:24,412 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,412 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,412 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.82
2025-04-17 19:23:24,412 - src.position_management.position - INFO - Position closed: 105a39d0-9c2c-427a-ba55-425a684da5d5 SPY LONG 10 @ 520.82 P&L: 0.60
2025-04-17 19:23:24,412 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,412 - src.position_management.portfolio - INFO - Position closed: 105a39d0-9c2c-427a-ba55-425a684da5d5 SPY PnL: 0.60
2025-04-17 19:23:24,412 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,412 - src.engine.execution_engine - INFO - Commission charged: 5.21, remaining cash: 99919.16
2025-04-17 19:23:24,412 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,412 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,412 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(SELL 10 SPY @ 520.82, cost=5.21)
2025-04-17 19:23:24,412 - src.engine.execution_engine - INFO - Order executed successfully, Fill price: 520.82
2025-04-17 19:23:24,412 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,412 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,412 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,412 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.82
2025-04-17 19:23:24,412 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,412 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,412 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,412 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,412 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,412 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,412 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.82
2025-04-17 19:23:24,412 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,412 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,412 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,412 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,412 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,412 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,412 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.82
2025-04-17 19:23:24,412 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,412 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,412 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,412 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,412 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,412 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,412 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.82
2025-04-17 19:23:24,412 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,412 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,412 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,412 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,412 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,412 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,412 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.82
2025-04-17 19:23:24,412 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,412 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,412 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,412 - src.engine.execution_engine - INFO - Executed 1 of 6 orders
2025-04-17 19:23:24,412 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99919.16, Equity: 99924.36
2025-04-17 19:23:24,412 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,412 - src.engine.backtester - DEBUG - Executed 1 fills
2025-04-17 19:23:24,412 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:29:00
2025-04-17 19:23:24,412 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:29:00, Close: 520.86
2025-04-17 19:23:24,412 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8040, Slow SMA = 520.7940
2025-04-17 19:23:24,412 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.000333, Curr diff: 0.010000
2025-04-17 19:23:24,412 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:29:00
2025-04-17 19:23:24,412 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,412 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:29:00, Close: 520.86
2025-04-17 19:23:24,412 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8240, Slow SMA = 520.7967
2025-04-17 19:23:24,412 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.010000, Curr diff: 0.027333
2025-04-17 19:23:24,412 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,412 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=520.86
2025-04-17 19:23:24,412 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,412 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,412 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,412 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,412 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.86
2025-04-17 19:23:24,412 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,412 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,412 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,412 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,412 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,412 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,412 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.86
2025-04-17 19:23:24,412 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,412 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,412 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,412 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,412 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,412 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,412 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.86
2025-04-17 19:23:24,412 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,412 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,412 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,412 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,412 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,412 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,412 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.86
2025-04-17 19:23:24,412 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,412 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,412 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,412 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,412 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,412 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,412 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.86
2025-04-17 19:23:24,412 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,412 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,412 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,412 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,413 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,413 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,413 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:30:00
2025-04-17 19:23:24,413 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:30:00, Close: 520.92
2025-04-17 19:23:24,413 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8560, Slow SMA = 520.8033
2025-04-17 19:23:24,413 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.027333, Curr diff: 0.052667
2025-04-17 19:23:24,413 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:30:00
2025-04-17 19:23:24,413 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,413 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:30:00, Close: 520.92
2025-04-17 19:23:24,413 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8760, Slow SMA = 520.8130
2025-04-17 19:23:24,413 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.052667, Curr diff: 0.063000
2025-04-17 19:23:24,413 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,413 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=520.92
2025-04-17 19:23:24,413 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,413 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,413 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,413 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,413 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.92
2025-04-17 19:23:24,413 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,413 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,413 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,413 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,413 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,413 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,413 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.92
2025-04-17 19:23:24,413 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,413 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,413 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,413 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,413 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,413 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,413 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.92
2025-04-17 19:23:24,413 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,413 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,413 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,413 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,413 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,413 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,413 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.92
2025-04-17 19:23:24,413 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,413 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,413 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,413 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,413 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,413 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,413 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.92
2025-04-17 19:23:24,413 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,413 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,413 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,413 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,413 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,413 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,413 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:31:00
2025-04-17 19:23:24,413 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:31:00, Close: 520.9151
2025-04-17 19:23:24,413 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8950, Slow SMA = 520.8223
2025-04-17 19:23:24,413 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.063000, Curr diff: 0.072680
2025-04-17 19:23:24,413 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:31:00
2025-04-17 19:23:24,413 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,413 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:31:00, Close: 520.9151
2025-04-17 19:23:24,413 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9060, Slow SMA = 520.8307
2025-04-17 19:23:24,413 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.072680, Curr diff: 0.075360
2025-04-17 19:23:24,413 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,413 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=520.9151
2025-04-17 19:23:24,413 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,413 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,413 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,413 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,413 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9151
2025-04-17 19:23:24,413 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,413 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,413 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,413 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,413 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,413 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,413 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9151
2025-04-17 19:23:24,413 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,413 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,413 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,413 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,413 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,413 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,413 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9151
2025-04-17 19:23:24,413 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,413 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,413 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,413 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,413 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,413 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,413 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9151
2025-04-17 19:23:24,413 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,413 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,413 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,413 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,413 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,413 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,413 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9151
2025-04-17 19:23:24,413 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,413 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,413 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,413 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,413 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,413 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,414 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:32:00
2025-04-17 19:23:24,414 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:32:00, Close: 520.92
2025-04-17 19:23:24,414 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9180, Slow SMA = 520.8393
2025-04-17 19:23:24,414 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.075360, Curr diff: 0.078693
2025-04-17 19:23:24,414 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:32:00
2025-04-17 19:23:24,414 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,414 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:32:00, Close: 520.92
2025-04-17 19:23:24,414 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9180, Slow SMA = 520.8500
2025-04-17 19:23:24,414 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.078693, Curr diff: 0.068027
2025-04-17 19:23:24,414 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,414 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=520.92
2025-04-17 19:23:24,414 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,414 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,414 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,414 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,414 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.92
2025-04-17 19:23:24,414 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,414 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,414 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,414 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,414 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,414 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,414 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.92
2025-04-17 19:23:24,414 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,414 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,414 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,414 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,414 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,414 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,414 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.92
2025-04-17 19:23:24,414 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,414 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,414 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,414 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,414 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,414 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,414 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.92
2025-04-17 19:23:24,414 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,414 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,414 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,414 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,414 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,414 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,414 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.92
2025-04-17 19:23:24,414 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,414 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,414 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,414 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,414 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,414 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,414 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:33:00
2025-04-17 19:23:24,414 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:33:00, Close: 520.93
2025-04-17 19:23:24,414 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9200, Slow SMA = 520.8613
2025-04-17 19:23:24,414 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.068027, Curr diff: 0.058693
2025-04-17 19:23:24,414 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:33:00
2025-04-17 19:23:24,414 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,414 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:33:00, Close: 520.93
2025-04-17 19:23:24,414 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9230, Slow SMA = 520.8700
2025-04-17 19:23:24,414 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.058693, Curr diff: 0.053007
2025-04-17 19:23:24,414 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,414 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=520.93
2025-04-17 19:23:24,414 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,414 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,414 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,414 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,414 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.93
2025-04-17 19:23:24,414 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,414 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,414 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,414 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,414 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,414 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,414 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.93
2025-04-17 19:23:24,414 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,414 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,414 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,414 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,414 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,414 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,414 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.93
2025-04-17 19:23:24,414 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,414 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,414 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,414 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,414 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,414 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,414 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.93
2025-04-17 19:23:24,414 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,414 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,414 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,414 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,414 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,414 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,414 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.93
2025-04-17 19:23:24,414 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,414 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,414 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,414 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,414 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,414 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,414 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:34:00
2025-04-17 19:23:24,415 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:34:00, Close: 520.98
2025-04-17 19:23:24,415 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9360, Slow SMA = 520.8820
2025-04-17 19:23:24,415 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.053007, Curr diff: 0.053987
2025-04-17 19:23:24,415 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:34:00
2025-04-17 19:23:24,415 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,415 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:34:00, Close: 520.98
2025-04-17 19:23:24,415 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9480, Slow SMA = 520.8967
2025-04-17 19:23:24,415 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.053987, Curr diff: 0.051320
2025-04-17 19:23:24,415 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,415 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=520.98
2025-04-17 19:23:24,415 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,415 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,415 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,415 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,415 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.98
2025-04-17 19:23:24,415 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,415 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,415 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,415 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,415 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,415 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,415 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.98
2025-04-17 19:23:24,415 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,415 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,415 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,415 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,415 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,415 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,415 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.98
2025-04-17 19:23:24,415 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,415 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,415 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,415 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,415 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,415 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,415 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.98
2025-04-17 19:23:24,415 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,415 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,415 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,415 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,415 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,415 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,415 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.98
2025-04-17 19:23:24,415 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,415 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,415 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,415 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,415 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,415 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,415 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:35:00
2025-04-17 19:23:24,415 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:35:00, Close: 520.97
2025-04-17 19:23:24,415 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9580, Slow SMA = 520.9107
2025-04-17 19:23:24,415 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.051320, Curr diff: 0.047320
2025-04-17 19:23:24,415 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:35:00
2025-04-17 19:23:24,415 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,415 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:35:00, Close: 520.97
2025-04-17 19:23:24,415 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9660, Slow SMA = 520.9207
2025-04-17 19:23:24,415 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.047320, Curr diff: 0.045320
2025-04-17 19:23:24,415 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,415 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=520.97
2025-04-17 19:23:24,415 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,415 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,415 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,415 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,415 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.97
2025-04-17 19:23:24,415 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,415 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,415 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,415 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,415 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,415 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,415 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.97
2025-04-17 19:23:24,415 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,415 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,415 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,415 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,415 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,415 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,415 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.97
2025-04-17 19:23:24,415 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,415 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,415 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,415 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,415 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,415 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,415 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.97
2025-04-17 19:23:24,415 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,415 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,415 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,415 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,415 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,415 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,415 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.97
2025-04-17 19:23:24,415 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,415 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,415 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,415 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,415 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,415 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,415 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:36:00
2025-04-17 19:23:24,415 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:36:00, Close: 520.92
2025-04-17 19:23:24,415 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9640, Slow SMA = 520.9273
2025-04-17 19:23:24,416 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.045320, Curr diff: 0.036653
2025-04-17 19:23:24,416 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:36:00
2025-04-17 19:23:24,416 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,416 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:36:00, Close: 520.92
2025-04-17 19:23:24,416 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9520, Slow SMA = 520.9313
2025-04-17 19:23:24,416 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.036653, Curr diff: 0.020653
2025-04-17 19:23:24,416 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,416 - src.engine.execution_engine - INFO - Processing 5 pending orders for bar: SPY, close=520.92
2025-04-17 19:23:24,416 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,416 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,416 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,416 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,416 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.92
2025-04-17 19:23:24,416 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,416 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,416 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,416 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,416 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,416 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,416 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.92
2025-04-17 19:23:24,416 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,416 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,416 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,416 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,416 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,416 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,416 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.92
2025-04-17 19:23:24,416 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,416 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,416 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,416 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,416 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,416 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,416 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.92
2025-04-17 19:23:24,416 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,416 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,416 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,416 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,416 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,416 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,416 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.92
2025-04-17 19:23:24,416 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,416 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,416 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,416 - src.engine.execution_engine - INFO - Executed 0 of 5 orders
2025-04-17 19:23:24,416 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,416 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,416 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:37:00
2025-04-17 19:23:24,416 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:37:00, Close: 520.85
2025-04-17 19:23:24,416 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9260, Slow SMA = 520.9307
2025-04-17 19:23:24,416 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.020653, Curr diff: -0.004680
2025-04-17 19:23:24,416 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bearish crossover for SPY @ 2024-03-26 17:37:00
2025-04-17 19:23:24,416 - src.position_management.position_manager - INFO - Position manager received SELL signal for SPY at price 520.85
2025-04-17 19:23:24,416 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: -1
2025-04-17 19:23:24,416 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,416 - src.position_management.position_manager - INFO - Created SHORT position entry action for SPY size 10
2025-04-17 19:23:24,416 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,416 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,416 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,416 - src.engine.execution_engine - INFO - Created order from position action: SPY SELL 10 @ 520.85
2025-04-17 19:23:24,416 - src.engine.execution_engine - INFO - Order received: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,416 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,416 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.92
2025-04-17 19:23:24,416 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,416 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,416 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,416 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,416 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,416 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,416 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,416 - __main__ - DEBUG - Signal details: SELL for SPY @ 520.85
2025-04-17 19:23:24,416 - src.rules.rule_base - INFO - Generated SELL signal for SPY @ 520.85
2025-04-17 19:23:24,416 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:37:00
2025-04-17 19:23:24,416 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,416 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:37:00, Close: 520.85
2025-04-17 19:23:24,416 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9020, Slow SMA = 520.9260
2025-04-17 19:23:24,416 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.004680, Curr diff: -0.024013
2025-04-17 19:23:24,416 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,416 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.85
2025-04-17 19:23:24,416 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,416 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,416 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,416 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,416 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.85
2025-04-17 19:23:24,416 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,416 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,416 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,416 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,416 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,416 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,416 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.85
2025-04-17 19:23:24,416 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,416 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,416 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,416 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,416 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,416 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,416 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.85
2025-04-17 19:23:24,416 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,416 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,416 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,416 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,416 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,416 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,416 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.85
2025-04-17 19:23:24,416 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,417 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,417 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,417 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,417 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,417 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,417 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.85
2025-04-17 19:23:24,417 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,417 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,417 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,417 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,417 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,417 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,417 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.85
2025-04-17 19:23:24,417 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,417 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,417 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,417 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,417 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,417 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,417 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:38:00
2025-04-17 19:23:24,417 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:38:00, Close: 520.86
2025-04-17 19:23:24,417 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8800, Slow SMA = 520.9220
2025-04-17 19:23:24,417 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.024013, Curr diff: -0.042013
2025-04-17 19:23:24,417 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:38:00
2025-04-17 19:23:24,417 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,417 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:38:00, Close: 520.86
2025-04-17 19:23:24,417 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8680, Slow SMA = 520.9183
2025-04-17 19:23:24,417 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.042013, Curr diff: -0.050340
2025-04-17 19:23:24,417 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,417 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.86
2025-04-17 19:23:24,417 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,417 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,417 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,417 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,417 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.86
2025-04-17 19:23:24,417 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,417 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,417 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,417 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,417 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,417 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,417 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.86
2025-04-17 19:23:24,417 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,417 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,417 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,417 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,417 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,417 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,417 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.86
2025-04-17 19:23:24,417 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,417 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,417 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,417 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,417 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,417 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,417 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.86
2025-04-17 19:23:24,417 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,417 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,417 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,417 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,417 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,417 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,417 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.86
2025-04-17 19:23:24,417 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,417 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,417 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,417 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,417 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,417 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,417 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.86
2025-04-17 19:23:24,417 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,417 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,417 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,417 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,417 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,417 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,417 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:39:00
2025-04-17 19:23:24,417 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:39:00, Close: 520.804
2025-04-17 19:23:24,417 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8448, Slow SMA = 520.9109
2025-04-17 19:23:24,417 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.050340, Curr diff: -0.066133
2025-04-17 19:23:24,417 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:39:00
2025-04-17 19:23:24,417 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,417 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:39:00, Close: 520.804
2025-04-17 19:23:24,417 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8356, Slow SMA = 520.9032
2025-04-17 19:23:24,417 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.066133, Curr diff: -0.067600
2025-04-17 19:23:24,417 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,417 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.804
2025-04-17 19:23:24,417 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,417 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,417 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,417 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,417 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.804
2025-04-17 19:23:24,417 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,417 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,417 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,417 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,417 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,417 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,417 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.804
2025-04-17 19:23:24,417 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,417 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,417 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,417 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,417 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,418 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,418 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.804
2025-04-17 19:23:24,418 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,418 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,418 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,418 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,418 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,418 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,418 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.804
2025-04-17 19:23:24,418 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,418 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,418 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,418 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,418 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,418 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,418 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.804
2025-04-17 19:23:24,418 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,418 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,418 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,418 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,418 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,418 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,418 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.804
2025-04-17 19:23:24,418 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,418 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,418 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,418 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,418 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,418 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,418 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:40:00
2025-04-17 19:23:24,418 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:40:00, Close: 520.81
2025-04-17 19:23:24,418 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8276, Slow SMA = 520.8959
2025-04-17 19:23:24,418 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.067600, Curr diff: -0.068267
2025-04-17 19:23:24,418 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:40:00
2025-04-17 19:23:24,418 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,418 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:40:00, Close: 520.81
2025-04-17 19:23:24,418 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8176, Slow SMA = 520.8879
2025-04-17 19:23:24,418 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.068267, Curr diff: -0.070267
2025-04-17 19:23:24,418 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,418 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.81
2025-04-17 19:23:24,418 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,418 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,418 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,418 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,418 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.81
2025-04-17 19:23:24,418 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,418 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,418 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,418 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,418 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,418 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,418 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.81
2025-04-17 19:23:24,418 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,418 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,418 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,418 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,418 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,418 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,418 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.81
2025-04-17 19:23:24,418 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,418 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,418 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,418 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,418 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,418 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,418 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.81
2025-04-17 19:23:24,418 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,418 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,418 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,418 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,418 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,418 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,418 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.81
2025-04-17 19:23:24,418 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,418 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,418 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,418 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,418 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,418 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,418 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.81
2025-04-17 19:23:24,418 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,418 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,418 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,418 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,418 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,418 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,418 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:41:00
2025-04-17 19:23:24,418 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:41:00, Close: 520.83
2025-04-17 19:23:24,418 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8116, Slow SMA = 520.8812
2025-04-17 19:23:24,418 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.070267, Curr diff: -0.069600
2025-04-17 19:23:24,418 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:41:00
2025-04-17 19:23:24,418 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,418 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:41:00, Close: 520.83
2025-04-17 19:23:24,418 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8168, Slow SMA = 520.8712
2025-04-17 19:23:24,418 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.069600, Curr diff: -0.054400
2025-04-17 19:23:24,418 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,418 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.83
2025-04-17 19:23:24,418 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,418 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,418 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,418 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,418 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.83
2025-04-17 19:23:24,418 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,418 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,419 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,419 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,419 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,419 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,419 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.83
2025-04-17 19:23:24,419 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,419 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,419 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,419 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,419 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,419 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,419 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.83
2025-04-17 19:23:24,419 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,419 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,419 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,419 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,419 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,419 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,419 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.83
2025-04-17 19:23:24,419 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,419 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,419 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,419 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,419 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,419 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,419 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.83
2025-04-17 19:23:24,419 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,419 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,419 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,419 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,419 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,419 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,419 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.83
2025-04-17 19:23:24,419 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,419 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,419 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,419 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,419 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,419 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,419 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:42:00
2025-04-17 19:23:24,419 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:42:00, Close: 520.83
2025-04-17 19:23:24,419 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8220, Slow SMA = 520.8612
2025-04-17 19:23:24,419 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.054400, Curr diff: -0.039200
2025-04-17 19:23:24,419 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:42:00
2025-04-17 19:23:24,419 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,419 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:42:00, Close: 520.83
2025-04-17 19:23:24,419 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8260, Slow SMA = 520.8519
2025-04-17 19:23:24,419 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.039200, Curr diff: -0.025867
2025-04-17 19:23:24,419 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,419 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.83
2025-04-17 19:23:24,419 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,419 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,419 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,419 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,419 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.83
2025-04-17 19:23:24,419 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,419 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,419 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,419 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,419 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,419 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,419 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.83
2025-04-17 19:23:24,419 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,419 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,419 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,419 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,419 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,419 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,419 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.83
2025-04-17 19:23:24,419 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,419 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,419 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,419 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,419 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,419 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,419 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.83
2025-04-17 19:23:24,419 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,419 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,419 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,419 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,419 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,419 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,419 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.83
2025-04-17 19:23:24,419 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,419 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,419 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,419 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,419 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,419 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,419 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.83
2025-04-17 19:23:24,419 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,419 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,419 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,419 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,419 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,419 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,419 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:43:00
2025-04-17 19:23:24,419 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:43:00, Close: 520.81
2025-04-17 19:23:24,419 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8260, Slow SMA = 520.8412
2025-04-17 19:23:24,419 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.025867, Curr diff: -0.015200
2025-04-17 19:23:24,419 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:43:00
2025-04-17 19:23:24,419 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,419 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:43:00, Close: 520.81
2025-04-17 19:23:24,419 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8220, Slow SMA = 520.8339
2025-04-17 19:23:24,419 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.015200, Curr diff: -0.011867
2025-04-17 19:23:24,420 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,420 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.81
2025-04-17 19:23:24,420 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,420 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,420 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,420 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,420 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.81
2025-04-17 19:23:24,420 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,420 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,420 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,420 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,420 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,420 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,420 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.81
2025-04-17 19:23:24,420 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,420 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,420 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,420 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,420 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,420 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,420 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.81
2025-04-17 19:23:24,420 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,420 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,420 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,420 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,420 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,420 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,420 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.81
2025-04-17 19:23:24,420 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,420 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,420 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,420 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,420 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,420 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,420 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.81
2025-04-17 19:23:24,420 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,420 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,420 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,420 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,420 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,420 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,420 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.81
2025-04-17 19:23:24,420 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,420 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,420 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,420 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,420 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,420 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,420 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:44:00
2025-04-17 19:23:24,420 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:44:00, Close: 520.6887
2025-04-17 19:23:24,420 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.7937, Slow SMA = 520.8184
2025-04-17 19:23:24,420 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.011867, Curr diff: -0.024707
2025-04-17 19:23:24,420 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:44:00
2025-04-17 19:23:24,420 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,420 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:44:00, Close: 520.6887
2025-04-17 19:23:24,420 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.7655, Slow SMA = 520.8077
2025-04-17 19:23:24,420 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.024707, Curr diff: -0.042213
2025-04-17 19:23:24,420 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,420 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.6887
2025-04-17 19:23:24,420 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,420 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,420 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,420 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,420 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.6887
2025-04-17 19:23:24,420 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,420 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,420 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,420 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,420 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,420 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,420 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.6887
2025-04-17 19:23:24,420 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,420 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,420 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,420 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,420 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,420 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,420 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.6887
2025-04-17 19:23:24,420 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,420 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,420 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,420 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,420 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,420 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,420 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.6887
2025-04-17 19:23:24,420 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,420 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,420 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,420 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,420 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,420 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,420 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.6887
2025-04-17 19:23:24,420 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,420 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,420 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,420 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,420 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,420 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,420 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.6887
2025-04-17 19:23:24,420 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,420 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,420 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,420 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,420 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,420 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,420 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:45:00
2025-04-17 19:23:24,420 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:45:00, Close: 520.56
2025-04-17 19:23:24,421 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.7115, Slow SMA = 520.7884
2025-04-17 19:23:24,421 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.042213, Curr diff: -0.076880
2025-04-17 19:23:24,421 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:45:00
2025-04-17 19:23:24,421 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,421 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:45:00, Close: 520.56
2025-04-17 19:23:24,421 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.6615, Slow SMA = 520.7684
2025-04-17 19:23:24,421 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.076880, Curr diff: -0.106880
2025-04-17 19:23:24,421 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,421 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.56
2025-04-17 19:23:24,421 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,421 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,421 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,421 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,421 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.56
2025-04-17 19:23:24,421 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,421 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,421 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,421 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,421 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,421 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,421 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.56
2025-04-17 19:23:24,421 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,421 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,421 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,421 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,421 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,421 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,421 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.56
2025-04-17 19:23:24,421 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,421 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,421 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,421 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,421 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,421 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,421 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.56
2025-04-17 19:23:24,421 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,421 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,421 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,421 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,421 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,421 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,421 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.56
2025-04-17 19:23:24,421 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,421 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,421 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,421 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,421 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,421 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,421 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.56
2025-04-17 19:23:24,421 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,421 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,421 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,421 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,421 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,421 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,421 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:46:00
2025-04-17 19:23:24,421 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:46:00, Close: 520.63
2025-04-17 19:23:24,421 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.6255, Slow SMA = 520.7530
2025-04-17 19:23:24,421 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.106880, Curr diff: -0.127547
2025-04-17 19:23:24,421 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:46:00
2025-04-17 19:23:24,421 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,421 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:46:00, Close: 520.63
2025-04-17 19:23:24,421 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.6137, Slow SMA = 520.7414
2025-04-17 19:23:24,421 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.127547, Curr diff: -0.127687
2025-04-17 19:23:24,421 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,421 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.63
2025-04-17 19:23:24,421 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,421 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,421 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,421 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,421 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.63
2025-04-17 19:23:24,421 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,421 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,421 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,421 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,421 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,421 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,421 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.63
2025-04-17 19:23:24,421 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,421 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,421 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,421 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,421 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,421 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,421 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.63
2025-04-17 19:23:24,421 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,421 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,421 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,421 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,421 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,421 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,421 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.63
2025-04-17 19:23:24,421 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,421 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,421 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,421 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,421 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,421 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,421 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.63
2025-04-17 19:23:24,421 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,421 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,421 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,421 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,421 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,421 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,421 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.63
2025-04-17 19:23:24,421 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,421 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,421 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,421 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,421 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,422 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,422 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:47:00
2025-04-17 19:23:24,422 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:47:00, Close: 520.645
2025-04-17 19:23:24,422 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.6050, Slow SMA = 520.7308
2025-04-17 19:23:24,422 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.127687, Curr diff: -0.125827
2025-04-17 19:23:24,422 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:47:00
2025-04-17 19:23:24,422 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,422 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:47:00, Close: 520.645
2025-04-17 19:23:24,422 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.6220, Slow SMA = 520.7198
2025-04-17 19:23:24,422 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.125827, Curr diff: -0.097827
2025-04-17 19:23:24,422 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,422 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.645
2025-04-17 19:23:24,422 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,422 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,422 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,422 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,422 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.645
2025-04-17 19:23:24,422 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,422 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,422 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,422 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,422 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,422 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,422 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.645
2025-04-17 19:23:24,422 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,422 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,422 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,422 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,422 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,422 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,422 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.645
2025-04-17 19:23:24,422 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,422 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,422 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,422 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,422 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,422 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,422 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.645
2025-04-17 19:23:24,422 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,422 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,422 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,422 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,422 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,422 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,422 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.645
2025-04-17 19:23:24,422 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,422 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,422 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,422 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,422 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,422 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,422 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.645
2025-04-17 19:23:24,422 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,422 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,422 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,422 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,422 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,422 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,422 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:48:00
2025-04-17 19:23:24,422 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:48:00, Close: 520.595
2025-04-17 19:23:24,422 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.6290, Slow SMA = 520.7055
2025-04-17 19:23:24,422 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.097827, Curr diff: -0.076493
2025-04-17 19:23:24,422 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:48:00
2025-04-17 19:23:24,422 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,422 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:48:00, Close: 520.595
2025-04-17 19:23:24,422 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.6220, Slow SMA = 520.6898
2025-04-17 19:23:24,422 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.076493, Curr diff: -0.067827
2025-04-17 19:23:24,422 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,422 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.595
2025-04-17 19:23:24,422 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,422 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,422 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,422 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,422 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.595
2025-04-17 19:23:24,422 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,422 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,422 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,422 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,422 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,422 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,422 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.595
2025-04-17 19:23:24,422 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,422 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,422 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,422 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,422 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,422 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,422 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.595
2025-04-17 19:23:24,422 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,422 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,422 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,422 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,422 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,422 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,422 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.595
2025-04-17 19:23:24,422 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,422 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,422 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,422 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,422 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,422 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,422 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.595
2025-04-17 19:23:24,422 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,422 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,422 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,423 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,423 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,423 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,423 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.595
2025-04-17 19:23:24,423 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,423 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,423 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,423 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,423 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,423 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,423 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:49:00
2025-04-17 19:23:24,423 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:49:00, Close: 520.63
2025-04-17 19:23:24,423 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.6220, Slow SMA = 520.6765
2025-04-17 19:23:24,423 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.067827, Curr diff: -0.054493
2025-04-17 19:23:24,423 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:49:00
2025-04-17 19:23:24,423 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,423 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:49:00, Close: 520.63
2025-04-17 19:23:24,423 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.6190, Slow SMA = 520.6632
2025-04-17 19:23:24,423 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.054493, Curr diff: -0.044160
2025-04-17 19:23:24,423 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,423 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.63
2025-04-17 19:23:24,423 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,423 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,423 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,423 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,423 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.63
2025-04-17 19:23:24,423 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,423 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,423 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,423 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,423 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,423 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,423 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.63
2025-04-17 19:23:24,423 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,423 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,423 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,423 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,423 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,423 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,423 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.63
2025-04-17 19:23:24,423 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,423 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,423 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,423 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,423 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,423 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,423 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.63
2025-04-17 19:23:24,423 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,423 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,423 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,423 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,423 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,423 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,423 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.63
2025-04-17 19:23:24,423 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,423 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,423 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,423 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,423 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,423 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,423 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.63
2025-04-17 19:23:24,423 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,423 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,423 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,423 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,423 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,423 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,423 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:50:00
2025-04-17 19:23:24,423 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:50:00, Close: 520.62
2025-04-17 19:23:24,423 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.6140, Slow SMA = 520.6492
2025-04-17 19:23:24,423 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.044160, Curr diff: -0.035160
2025-04-17 19:23:24,423 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:50:00
2025-04-17 19:23:24,423 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,423 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:50:00, Close: 520.62
2025-04-17 19:23:24,423 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.6190, Slow SMA = 520.6365
2025-04-17 19:23:24,423 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.035160, Curr diff: -0.017493
2025-04-17 19:23:24,423 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,423 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.62
2025-04-17 19:23:24,423 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,423 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,423 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,423 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,423 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.62
2025-04-17 19:23:24,423 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,423 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,423 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,423 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,423 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,423 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,423 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.62
2025-04-17 19:23:24,423 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,423 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,423 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,423 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,423 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,423 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,423 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.62
2025-04-17 19:23:24,423 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,423 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,423 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,423 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,423 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,423 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,423 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.62
2025-04-17 19:23:24,424 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,424 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,424 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,424 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,424 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,424 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,424 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.62
2025-04-17 19:23:24,424 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,424 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,424 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,424 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,424 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,424 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,424 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.62
2025-04-17 19:23:24,424 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,424 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,424 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,424 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,424 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99919.16, Equity: 99919.16
2025-04-17 19:23:24,424 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,424 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:51:00
2025-04-17 19:23:24,424 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:51:00, Close: 520.64
2025-04-17 19:23:24,424 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.6280, Slow SMA = 520.6252
2025-04-17 19:23:24,424 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.017493, Curr diff: 0.002840
2025-04-17 19:23:24,424 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bullish crossover for SPY @ 2024-03-26 17:51:00
2025-04-17 19:23:24,424 - src.position_management.position_manager - INFO - Position manager received BUY signal for SPY at price 520.64
2025-04-17 19:23:24,424 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: 1
2025-04-17 19:23:24,424 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,424 - src.position_management.position_manager - INFO - Created LONG position entry action for SPY size 10
2025-04-17 19:23:24,424 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,424 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,424 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,424 - src.engine.execution_engine - INFO - Created order from position action: SPY BUY 10 @ 520.64
2025-04-17 19:23:24,424 - src.engine.execution_engine - INFO - Order received: OrderEvent(BUY 10 SPY @ 520.64, MARKET, ID: 1417d7f0-f660-46b4-a835-a7802a871ab4)
2025-04-17 19:23:24,424 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(BUY 10 SPY @ 520.64, MARKET, ID: 1417d7f0-f660-46b4-a835-a7802a871ab4)
2025-04-17 19:23:24,424 - src.engine.execution_engine - INFO - Executing BUY order: 10 shares at 520.62
2025-04-17 19:23:24,424 - src.position_management.position - INFO - Position opened: b304cade-ee4f-4f80-ac5b-8a66c77d8656 SPY LONG 10 @ 520.62
2025-04-17 19:23:24,424 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,424 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,424 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,424 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(BUY 10 SPY @ 520.62, cost=0.00)
2025-04-17 19:23:24,424 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(BUY 10 SPY @ 520.64, MARKET, ID: 1417d7f0-f660-46b4-a835-a7802a871ab4)
2025-04-17 19:23:24,424 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,424 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,424 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,424 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,424 - __main__ - DEBUG - Signal details: BUY for SPY @ 520.64
2025-04-17 19:23:24,424 - src.rules.rule_base - INFO - Generated BUY signal for SPY @ 520.64
2025-04-17 19:23:24,424 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:51:00
2025-04-17 19:23:24,424 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,424 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:51:00, Close: 520.64
2025-04-17 19:23:24,424 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.6300, Slow SMA = 520.6219
2025-04-17 19:23:24,424 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.002840, Curr diff: 0.008087
2025-04-17 19:23:24,424 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,424 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.64
2025-04-17 19:23:24,424 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 89506.76, Equity: 94713.16
2025-04-17 19:23:24,424 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0199, MARKET, ID: 1c298905-2eaf-4322-82e7-800b80084877)
2025-04-17 19:23:24,424 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,424 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,424 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.64
2025-04-17 19:23:24,424 - src.position_management.position - INFO - Position closed: b304cade-ee4f-4f80-ac5b-8a66c77d8656 SPY LONG 10 @ 520.64 P&L: 0.20
2025-04-17 19:23:24,424 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,424 - src.position_management.portfolio - INFO - Position closed: b304cade-ee4f-4f80-ac5b-8a66c77d8656 SPY PnL: 0.20
2025-04-17 19:23:24,424 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,424 - src.engine.execution_engine - INFO - Commission charged: 5.21, remaining cash: 99914.35
2025-04-17 19:23:24,424 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,424 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,424 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(SELL 10 SPY @ 520.64, cost=5.21)
2025-04-17 19:23:24,424 - src.engine.execution_engine - INFO - Order executed successfully, Fill price: 520.64
2025-04-17 19:23:24,424 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,424 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,424 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,424 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.64
2025-04-17 19:23:24,424 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,424 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,424 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,424 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,424 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,424 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,424 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.64
2025-04-17 19:23:24,424 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,424 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,424 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,424 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,424 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,424 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,424 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.64
2025-04-17 19:23:24,424 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,424 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,424 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,424 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,424 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,424 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,424 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.64
2025-04-17 19:23:24,424 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,424 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,424 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,424 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,424 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,424 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,424 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.64
2025-04-17 19:23:24,424 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,424 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,425 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,425 - src.engine.execution_engine - INFO - Executed 1 of 6 orders
2025-04-17 19:23:24,425 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99914.35, Equity: 99919.56
2025-04-17 19:23:24,425 - src.engine.execution_engine - INFO - Remaining pending orders: 5
2025-04-17 19:23:24,425 - src.engine.backtester - DEBUG - Executed 1 fills
2025-04-17 19:23:24,425 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:52:00
2025-04-17 19:23:24,425 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:52:00, Close: 520.57
2025-04-17 19:23:24,425 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.6180, Slow SMA = 520.6140
2025-04-17 19:23:24,425 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.008087, Curr diff: 0.004000
2025-04-17 19:23:24,425 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:52:00
2025-04-17 19:23:24,425 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,425 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:52:00, Close: 520.57
2025-04-17 19:23:24,425 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.6080, Slow SMA = 520.6147
2025-04-17 19:23:24,425 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.004000, Curr diff: -0.006667
2025-04-17 19:23:24,425 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bearish crossover for SPY @ 2024-03-26 17:52:00
2025-04-17 19:23:24,425 - src.position_management.position_manager - INFO - Position manager received SELL signal for SPY at price 520.57
2025-04-17 19:23:24,425 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: -1
2025-04-17 19:23:24,425 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,425 - src.position_management.position_manager - INFO - Created SHORT position entry action for SPY size 10
2025-04-17 19:23:24,425 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,425 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,425 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,425 - src.engine.execution_engine - INFO - Created order from position action: SPY SELL 10 @ 520.57
2025-04-17 19:23:24,425 - src.engine.execution_engine - INFO - Order received: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,425 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,425 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.64
2025-04-17 19:23:24,425 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,425 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,425 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,425 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,425 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,425 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,425 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,425 - __main__ - DEBUG - Signal details: SELL for SPY @ 520.57
2025-04-17 19:23:24,425 - src.rules.rule_base - INFO - Generated SELL signal for SPY @ 520.57
2025-04-17 19:23:24,425 - src.engine.backtester - DEBUG - Emitting signal from strategy: SignalEvent(SELL, SPY, price=520.57)
2025-04-17 19:23:24,425 - src.engine.backtester - DEBUG - Emitted signal event: SELL for SPY
2025-04-17 19:23:24,425 - src.position_management.position_manager - INFO - Position manager received SELL signal for SPY at price 520.57
2025-04-17 19:23:24,425 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: -1
2025-04-17 19:23:24,425 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,425 - src.position_management.position_manager - INFO - Created SHORT position entry action for SPY size 10
2025-04-17 19:23:24,425 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,425 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,425 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,425 - src.engine.execution_engine - INFO - Created order from position action: SPY SELL 10 @ 520.57
2025-04-17 19:23:24,425 - src.engine.execution_engine - INFO - Order received: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,425 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,425 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.64
2025-04-17 19:23:24,425 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,425 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,425 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,425 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,425 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,425 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,425 - src.engine.backtester - DEBUG - Event flow: SIGNAL event received
2025-04-17 19:23:24,425 - src.engine.backtester - DEBUG - Signal: SELL for SPY at 520.57
2025-04-17 19:23:24,425 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,425 - src.engine.execution_engine - INFO - Processing 7 pending orders for bar: SPY, close=520.57
2025-04-17 19:23:24,425 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99914.35, Equity: 99914.35
2025-04-17 19:23:24,425 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,425 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,425 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,425 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.57
2025-04-17 19:23:24,425 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,425 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,425 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,425 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,425 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,425 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,425 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.57
2025-04-17 19:23:24,425 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,425 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,425 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,425 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,425 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,425 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,425 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.57
2025-04-17 19:23:24,425 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,425 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,425 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,425 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,425 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,425 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,425 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.57
2025-04-17 19:23:24,425 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,425 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,425 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,425 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,425 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,425 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,425 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.57
2025-04-17 19:23:24,425 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,425 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,425 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,425 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,425 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,425 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,425 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.57
2025-04-17 19:23:24,425 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,425 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,425 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,425 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,425 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,425 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,425 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.57
2025-04-17 19:23:24,426 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,426 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,426 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,426 - src.engine.execution_engine - INFO - Executed 0 of 7 orders
2025-04-17 19:23:24,426 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99914.35, Equity: 99914.35
2025-04-17 19:23:24,426 - src.engine.execution_engine - INFO - Remaining pending orders: 7
2025-04-17 19:23:24,426 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:53:00
2025-04-17 19:23:24,426 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:53:00, Close: 520.585
2025-04-17 19:23:24,426 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.6010, Slow SMA = 520.6163
2025-04-17 19:23:24,426 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.006667, Curr diff: -0.015333
2025-04-17 19:23:24,426 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:53:00
2025-04-17 19:23:24,426 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,426 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:53:00, Close: 520.585
2025-04-17 19:23:24,426 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.5900, Slow SMA = 520.6133
2025-04-17 19:23:24,426 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.015333, Curr diff: -0.023333
2025-04-17 19:23:24,426 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,426 - src.engine.execution_engine - INFO - Processing 7 pending orders for bar: SPY, close=520.585
2025-04-17 19:23:24,426 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99914.35, Equity: 99914.35
2025-04-17 19:23:24,426 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,426 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,426 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,426 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.585
2025-04-17 19:23:24,426 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,426 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,426 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,426 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,426 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,426 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,426 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.585
2025-04-17 19:23:24,426 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,426 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,426 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,426 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,426 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,426 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,426 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.585
2025-04-17 19:23:24,426 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,426 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,426 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,426 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,426 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,426 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,426 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.585
2025-04-17 19:23:24,426 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,426 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,426 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,426 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,426 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,426 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,426 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.585
2025-04-17 19:23:24,426 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,426 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,426 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,426 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,426 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,426 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,426 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.585
2025-04-17 19:23:24,426 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,426 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,426 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,426 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,426 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,426 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,426 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.585
2025-04-17 19:23:24,426 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,426 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,426 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,426 - src.engine.execution_engine - INFO - Executed 0 of 7 orders
2025-04-17 19:23:24,426 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99914.35, Equity: 99914.35
2025-04-17 19:23:24,426 - src.engine.execution_engine - INFO - Remaining pending orders: 7
2025-04-17 19:23:24,426 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:54:00
2025-04-17 19:23:24,426 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:54:00, Close: 520.72
2025-04-17 19:23:24,426 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.6060, Slow SMA = 520.6193
2025-04-17 19:23:24,426 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.023333, Curr diff: -0.013333
2025-04-17 19:23:24,426 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:54:00
2025-04-17 19:23:24,426 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,426 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:54:00, Close: 520.72
2025-04-17 19:23:24,426 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.6360, Slow SMA = 520.6243
2025-04-17 19:23:24,426 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.013333, Curr diff: 0.011667
2025-04-17 19:23:24,426 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bullish crossover for SPY @ 2024-03-26 17:54:00
2025-04-17 19:23:24,426 - src.position_management.position_manager - INFO - Position manager received BUY signal for SPY at price 520.72
2025-04-17 19:23:24,426 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: 1
2025-04-17 19:23:24,426 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,426 - src.position_management.position_manager - INFO - Created LONG position entry action for SPY size 10
2025-04-17 19:23:24,426 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,426 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,426 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,426 - src.engine.execution_engine - INFO - Created order from position action: SPY BUY 10 @ 520.72
2025-04-17 19:23:24,426 - src.engine.execution_engine - INFO - Order received: OrderEvent(BUY 10 SPY @ 520.72, MARKET, ID: cd9b6887-e15c-41ad-8550-11a86f7faafc)
2025-04-17 19:23:24,426 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(BUY 10 SPY @ 520.72, MARKET, ID: cd9b6887-e15c-41ad-8550-11a86f7faafc)
2025-04-17 19:23:24,426 - src.engine.execution_engine - INFO - Executing BUY order: 10 shares at 520.585
2025-04-17 19:23:24,426 - src.position_management.position - INFO - Position opened: 1633898d-8855-4be3-923a-6a906e504683 SPY LONG 10 @ 520.585
2025-04-17 19:23:24,426 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,426 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,426 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,426 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(BUY 10 SPY @ 520.585, cost=0.00)
2025-04-17 19:23:24,426 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(BUY 10 SPY @ 520.72, MARKET, ID: cd9b6887-e15c-41ad-8550-11a86f7faafc)
2025-04-17 19:23:24,426 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,426 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,427 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,427 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,427 - __main__ - DEBUG - Signal details: BUY for SPY @ 520.72
2025-04-17 19:23:24,427 - src.rules.rule_base - INFO - Generated BUY signal for SPY @ 520.72
2025-04-17 19:23:24,427 - src.engine.backtester - DEBUG - Emitting signal from strategy: SignalEvent(BUY, SPY, price=520.72)
2025-04-17 19:23:24,427 - src.engine.backtester - DEBUG - Emitted signal event: BUY for SPY
2025-04-17 19:23:24,427 - src.position_management.position_manager - INFO - Position manager received BUY signal for SPY at price 520.72
2025-04-17 19:23:24,427 - src.position_management.position_manager - INFO - Current net position for SPY: 10, direction: 1
2025-04-17 19:23:24,427 - src.position_management.position_manager - INFO - Already have position in LONG direction - skipping
2025-04-17 19:23:24,427 - src.position_management.position_manager - INFO - No position actions created from signal
2025-04-17 19:23:24,427 - src.engine.backtester - DEBUG - Event flow: SIGNAL event received
2025-04-17 19:23:24,427 - src.engine.backtester - DEBUG - Signal: BUY for SPY at 520.72
2025-04-17 19:23:24,427 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,427 - src.engine.execution_engine - INFO - Processing 7 pending orders for bar: SPY, close=520.72
2025-04-17 19:23:24,427 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 89502.65, Equity: 94709.85
2025-04-17 19:23:24,427 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 22cda569-b564-43f4-bc37-1a3086722e67)
2025-04-17 19:23:24,427 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,427 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,427 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.72
2025-04-17 19:23:24,427 - src.position_management.position - INFO - Position closed: 1633898d-8855-4be3-923a-6a906e504683 SPY LONG 10 @ 520.72 P&L: 1.35
2025-04-17 19:23:24,427 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,427 - src.position_management.portfolio - INFO - Position closed: 1633898d-8855-4be3-923a-6a906e504683 SPY PnL: 1.35
2025-04-17 19:23:24,427 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,427 - src.engine.execution_engine - INFO - Commission charged: 5.21, remaining cash: 99911.84
2025-04-17 19:23:24,427 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,427 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,427 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(SELL 10 SPY @ 520.72, cost=5.21)
2025-04-17 19:23:24,427 - src.engine.execution_engine - INFO - Order executed successfully, Fill price: 520.72
2025-04-17 19:23:24,427 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,427 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,427 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,427 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.72
2025-04-17 19:23:24,427 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,427 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,427 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,427 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,427 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,427 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,427 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.72
2025-04-17 19:23:24,427 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,427 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,427 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,427 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,427 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,427 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,427 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.72
2025-04-17 19:23:24,427 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,427 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,427 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,427 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,427 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,427 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,427 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.72
2025-04-17 19:23:24,427 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,427 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,427 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,427 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,427 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,427 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,427 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.72
2025-04-17 19:23:24,427 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,427 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,427 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,427 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,427 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,427 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,427 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.72
2025-04-17 19:23:24,427 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,427 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,427 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,427 - src.engine.execution_engine - INFO - Executed 1 of 7 orders
2025-04-17 19:23:24,427 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99911.84, Equity: 99917.05
2025-04-17 19:23:24,427 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,427 - src.engine.backtester - DEBUG - Executed 1 fills
2025-04-17 19:23:24,427 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:55:00
2025-04-17 19:23:24,427 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:55:00, Close: 520.785
2025-04-17 19:23:24,427 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.6790, Slow SMA = 520.6337
2025-04-17 19:23:24,427 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.011667, Curr diff: 0.045333
2025-04-17 19:23:24,427 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:55:00
2025-04-17 19:23:24,427 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,427 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:55:00, Close: 520.785
2025-04-17 19:23:24,427 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.7190, Slow SMA = 520.6463
2025-04-17 19:23:24,427 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.045333, Curr diff: 0.072667
2025-04-17 19:23:24,427 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,427 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.785
2025-04-17 19:23:24,427 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99911.84, Equity: 99911.84
2025-04-17 19:23:24,427 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,427 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,427 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,427 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.785
2025-04-17 19:23:24,427 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,427 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,427 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,427 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,427 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,427 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,427 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.785
2025-04-17 19:23:24,427 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,427 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,427 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,427 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,427 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,427 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,427 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.785
2025-04-17 19:23:24,427 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,428 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,428 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,428 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,428 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,428 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,428 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.785
2025-04-17 19:23:24,428 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,428 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,428 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,428 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,428 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,428 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,428 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.785
2025-04-17 19:23:24,428 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,428 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,428 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,428 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,428 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,428 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,428 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.785
2025-04-17 19:23:24,428 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,428 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,428 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,428 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,428 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99911.84, Equity: 99911.84
2025-04-17 19:23:24,428 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,428 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:56:00
2025-04-17 19:23:24,428 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:56:00, Close: 520.76
2025-04-17 19:23:24,428 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.7540, Slow SMA = 520.6573
2025-04-17 19:23:24,428 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.072667, Curr diff: 0.096667
2025-04-17 19:23:24,428 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:56:00
2025-04-17 19:23:24,428 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,428 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:56:00, Close: 520.76
2025-04-17 19:23:24,428 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.7620, Slow SMA = 520.6660
2025-04-17 19:23:24,428 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.096667, Curr diff: 0.096000
2025-04-17 19:23:24,428 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,428 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.76
2025-04-17 19:23:24,428 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99911.84, Equity: 99911.84
2025-04-17 19:23:24,428 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,428 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,428 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,428 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.76
2025-04-17 19:23:24,428 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,428 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,428 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,428 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,428 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,428 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,428 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.76
2025-04-17 19:23:24,428 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,428 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,428 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,428 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,428 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,428 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,428 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.76
2025-04-17 19:23:24,428 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,428 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,428 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,428 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,428 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,428 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,428 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.76
2025-04-17 19:23:24,428 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,428 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,428 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,428 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,428 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,428 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,428 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.76
2025-04-17 19:23:24,428 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,428 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,428 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,428 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,428 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,428 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,428 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.76
2025-04-17 19:23:24,428 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,428 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,428 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,428 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,428 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99911.84, Equity: 99911.84
2025-04-17 19:23:24,428 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,428 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:57:00
2025-04-17 19:23:24,428 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:57:00, Close: 520.725
2025-04-17 19:23:24,428 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.7630, Slow SMA = 520.6723
2025-04-17 19:23:24,428 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.096000, Curr diff: 0.090667
2025-04-17 19:23:24,428 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:57:00
2025-04-17 19:23:24,428 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,428 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:57:00, Close: 520.725
2025-04-17 19:23:24,428 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.7510, Slow SMA = 520.6793
2025-04-17 19:23:24,428 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.090667, Curr diff: 0.071667
2025-04-17 19:23:24,428 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,428 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.725
2025-04-17 19:23:24,428 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99911.84, Equity: 99911.84
2025-04-17 19:23:24,428 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,428 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,428 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,428 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.725
2025-04-17 19:23:24,428 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,428 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,428 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,428 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,428 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,429 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,429 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.725
2025-04-17 19:23:24,429 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,429 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,429 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,429 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,429 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,429 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,429 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.725
2025-04-17 19:23:24,429 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,429 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,429 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,429 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,429 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,429 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,429 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.725
2025-04-17 19:23:24,429 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,429 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,429 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,429 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,429 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,429 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,429 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.725
2025-04-17 19:23:24,429 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,429 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,429 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,429 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,429 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,429 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,429 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.725
2025-04-17 19:23:24,429 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,429 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,429 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,429 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,429 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99911.84, Equity: 99911.84
2025-04-17 19:23:24,429 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,429 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:58:00
2025-04-17 19:23:24,429 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:58:00, Close: 520.725
2025-04-17 19:23:24,429 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.7390, Slow SMA = 520.6863
2025-04-17 19:23:24,429 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.071667, Curr diff: 0.052667
2025-04-17 19:23:24,429 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:58:00
2025-04-17 19:23:24,429 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,429 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:58:00, Close: 520.725
2025-04-17 19:23:24,429 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.7320, Slow SMA = 520.6920
2025-04-17 19:23:24,429 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.052667, Curr diff: 0.040000
2025-04-17 19:23:24,429 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,429 - src.engine.execution_engine - INFO - Processing 6 pending orders for bar: SPY, close=520.725
2025-04-17 19:23:24,429 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99911.84, Equity: 99911.84
2025-04-17 19:23:24,429 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,429 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,429 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,429 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.725
2025-04-17 19:23:24,429 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,429 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,429 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,429 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,429 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,429 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,429 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.725
2025-04-17 19:23:24,429 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,429 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,429 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,429 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,429 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,429 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,429 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.725
2025-04-17 19:23:24,429 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,429 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,429 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,429 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,429 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,429 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,429 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.725
2025-04-17 19:23:24,429 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,429 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,429 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,429 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,429 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,429 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,429 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.725
2025-04-17 19:23:24,429 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,429 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,429 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,429 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,429 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,429 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,429 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.725
2025-04-17 19:23:24,429 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,429 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,429 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,429 - src.engine.execution_engine - INFO - Executed 0 of 6 orders
2025-04-17 19:23:24,429 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99911.84, Equity: 99911.84
2025-04-17 19:23:24,429 - src.engine.execution_engine - INFO - Remaining pending orders: 6
2025-04-17 19:23:24,429 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 17:59:00
2025-04-17 19:23:24,429 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:59:00, Close: 520.655
2025-04-17 19:23:24,429 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.7110, Slow SMA = 520.6930
2025-04-17 19:23:24,429 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.040000, Curr diff: 0.018000
2025-04-17 19:23:24,429 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 17:59:00
2025-04-17 19:23:24,429 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,429 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 17:59:00, Close: 520.655
2025-04-17 19:23:24,429 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.6970, Slow SMA = 520.6987
2025-04-17 19:23:24,429 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.018000, Curr diff: -0.001667
2025-04-17 19:23:24,429 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bearish crossover for SPY @ 2024-03-26 17:59:00
2025-04-17 19:23:24,430 - src.position_management.position_manager - INFO - Position manager received SELL signal for SPY at price 520.655
2025-04-17 19:23:24,430 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: -1
2025-04-17 19:23:24,430 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,430 - src.position_management.position_manager - INFO - Created SHORT position entry action for SPY size 10
2025-04-17 19:23:24,430 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,430 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,430 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,430 - src.engine.execution_engine - INFO - Created order from position action: SPY SELL 10 @ 520.655
2025-04-17 19:23:24,430 - src.engine.execution_engine - INFO - Order received: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,430 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,430 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.725
2025-04-17 19:23:24,430 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,430 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,430 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,430 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,430 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,430 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,430 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,430 - __main__ - DEBUG - Signal details: SELL for SPY @ 520.655
2025-04-17 19:23:24,430 - src.rules.rule_base - INFO - Generated SELL signal for SPY @ 520.655
2025-04-17 19:23:24,430 - src.engine.backtester - DEBUG - Emitting signal from strategy: SignalEvent(SELL, SPY, price=520.655)
2025-04-17 19:23:24,430 - src.engine.backtester - DEBUG - Emitted signal event: SELL for SPY
2025-04-17 19:23:24,430 - src.position_management.position_manager - INFO - Position manager received SELL signal for SPY at price 520.655
2025-04-17 19:23:24,430 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: -1
2025-04-17 19:23:24,430 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,430 - src.position_management.position_manager - INFO - Created SHORT position entry action for SPY size 10
2025-04-17 19:23:24,430 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,430 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,430 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,430 - src.engine.execution_engine - INFO - Created order from position action: SPY SELL 10 @ 520.655
2025-04-17 19:23:24,430 - src.engine.execution_engine - INFO - Order received: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,430 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,430 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.725
2025-04-17 19:23:24,430 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,430 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,430 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,430 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,430 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,430 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,430 - src.engine.backtester - DEBUG - Event flow: SIGNAL event received
2025-04-17 19:23:24,430 - src.engine.backtester - DEBUG - Signal: SELL for SPY at 520.655
2025-04-17 19:23:24,430 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,430 - src.engine.execution_engine - INFO - Processing 8 pending orders for bar: SPY, close=520.655
2025-04-17 19:23:24,430 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99911.84, Equity: 99911.84
2025-04-17 19:23:24,430 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,430 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,430 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,430 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.655
2025-04-17 19:23:24,430 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,430 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,430 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,430 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,430 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,430 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,430 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.655
2025-04-17 19:23:24,430 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,430 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,430 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,430 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,430 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,430 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,430 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.655
2025-04-17 19:23:24,430 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,430 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,430 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,430 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,430 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,430 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,430 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.655
2025-04-17 19:23:24,430 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,430 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,430 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,430 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,430 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,430 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,430 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.655
2025-04-17 19:23:24,430 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,430 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,430 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,430 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,430 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,430 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,430 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.655
2025-04-17 19:23:24,430 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,430 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,430 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,430 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,430 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,430 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,430 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.655
2025-04-17 19:23:24,430 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,430 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,430 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,430 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,430 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,430 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,430 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.655
2025-04-17 19:23:24,430 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,430 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,430 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,430 - src.engine.execution_engine - INFO - Executed 0 of 8 orders
2025-04-17 19:23:24,430 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99911.84, Equity: 99911.84
2025-04-17 19:23:24,430 - src.engine.execution_engine - INFO - Remaining pending orders: 8
2025-04-17 19:23:24,430 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:00:00
2025-04-17 19:23:24,430 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:00:00, Close: 520.7175
2025-04-17 19:23:24,430 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.6955, Slow SMA = 520.7085
2025-04-17 19:23:24,430 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.001667, Curr diff: -0.013000
2025-04-17 19:23:24,430 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:00:00
2025-04-17 19:23:24,430 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,431 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:00:00, Close: 520.7175
2025-04-17 19:23:24,431 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.6940, Slow SMA = 520.7173
2025-04-17 19:23:24,431 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.013000, Curr diff: -0.023333
2025-04-17 19:23:24,431 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,431 - src.engine.execution_engine - INFO - Processing 8 pending orders for bar: SPY, close=520.7175
2025-04-17 19:23:24,431 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99911.84, Equity: 99911.84
2025-04-17 19:23:24,431 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,431 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,431 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,431 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.7175
2025-04-17 19:23:24,431 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,431 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,431 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,431 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,431 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,431 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,431 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.7175
2025-04-17 19:23:24,431 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,431 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,431 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,431 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,431 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,431 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,431 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.7175
2025-04-17 19:23:24,431 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,431 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,431 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,431 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,431 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,431 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,431 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.7175
2025-04-17 19:23:24,431 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,431 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,431 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,431 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,431 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,431 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,431 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.7175
2025-04-17 19:23:24,431 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,431 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,431 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,431 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,431 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,431 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,431 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.7175
2025-04-17 19:23:24,431 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,431 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,431 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,431 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,431 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,431 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,431 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.7175
2025-04-17 19:23:24,431 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,431 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,431 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,431 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,431 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,431 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,431 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.7175
2025-04-17 19:23:24,431 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,431 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,431 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,431 - src.engine.execution_engine - INFO - Executed 0 of 8 orders
2025-04-17 19:23:24,431 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99911.84, Equity: 99911.84
2025-04-17 19:23:24,431 - src.engine.execution_engine - INFO - Remaining pending orders: 8
2025-04-17 19:23:24,431 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:01:00
2025-04-17 19:23:24,431 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:01:00, Close: 520.79
2025-04-17 19:23:24,431 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.7070, Slow SMA = 520.7310
2025-04-17 19:23:24,431 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.023333, Curr diff: -0.024000
2025-04-17 19:23:24,431 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:01:00
2025-04-17 19:23:24,431 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,431 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:01:00, Close: 520.79
2025-04-17 19:23:24,431 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.7340, Slow SMA = 520.7357
2025-04-17 19:23:24,431 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.024000, Curr diff: -0.001667
2025-04-17 19:23:24,431 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,431 - src.engine.execution_engine - INFO - Processing 8 pending orders for bar: SPY, close=520.79
2025-04-17 19:23:24,431 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99911.84, Equity: 99911.84
2025-04-17 19:23:24,431 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,431 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,431 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,431 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.79
2025-04-17 19:23:24,431 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,431 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,431 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,431 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,431 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,431 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,431 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.79
2025-04-17 19:23:24,431 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,431 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,431 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,431 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,431 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,431 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,431 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.79
2025-04-17 19:23:24,431 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,431 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,431 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,431 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,431 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,431 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,431 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.79
2025-04-17 19:23:24,431 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,431 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,431 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,431 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,431 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,431 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,432 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.79
2025-04-17 19:23:24,432 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,432 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,432 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,432 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,432 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,432 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,432 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.79
2025-04-17 19:23:24,432 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,432 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,432 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,432 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,432 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,432 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,432 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.79
2025-04-17 19:23:24,432 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,432 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,432 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,432 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,432 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,432 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,432 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.79
2025-04-17 19:23:24,432 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,432 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,432 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,432 - src.engine.execution_engine - INFO - Executed 0 of 8 orders
2025-04-17 19:23:24,432 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99911.84, Equity: 99911.84
2025-04-17 19:23:24,432 - src.engine.execution_engine - INFO - Remaining pending orders: 8
2025-04-17 19:23:24,432 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:02:00
2025-04-17 19:23:24,432 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:02:00, Close: 520.8312
2025-04-17 19:23:24,432 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.7692, Slow SMA = 520.7431
2025-04-17 19:23:24,432 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.001667, Curr diff: 0.026160
2025-04-17 19:23:24,432 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bullish crossover for SPY @ 2024-03-26 18:02:00
2025-04-17 19:23:24,432 - src.position_management.position_manager - INFO - Position manager received BUY signal for SPY at price 520.8312
2025-04-17 19:23:24,432 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: 1
2025-04-17 19:23:24,432 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,432 - src.position_management.position_manager - INFO - Created LONG position entry action for SPY size 10
2025-04-17 19:23:24,432 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,432 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,432 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,432 - src.engine.execution_engine - INFO - Created order from position action: SPY BUY 10 @ 520.8312
2025-04-17 19:23:24,432 - src.engine.execution_engine - INFO - Order received: OrderEvent(BUY 10 SPY @ 520.8312, MARKET, ID: cfae802c-76b7-444b-aba1-9d60467a36aa)
2025-04-17 19:23:24,432 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(BUY 10 SPY @ 520.8312, MARKET, ID: cfae802c-76b7-444b-aba1-9d60467a36aa)
2025-04-17 19:23:24,432 - src.engine.execution_engine - INFO - Executing BUY order: 10 shares at 520.79
2025-04-17 19:23:24,432 - src.position_management.position - INFO - Position opened: bb43025a-7b92-430a-9cc2-75faa3e79d56 SPY LONG 10 @ 520.79
2025-04-17 19:23:24,432 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,432 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,432 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,432 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(BUY 10 SPY @ 520.79, cost=0.00)
2025-04-17 19:23:24,432 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(BUY 10 SPY @ 520.8312, MARKET, ID: cfae802c-76b7-444b-aba1-9d60467a36aa)
2025-04-17 19:23:24,432 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,432 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,432 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,432 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,432 - __main__ - DEBUG - Signal details: BUY for SPY @ 520.8312
2025-04-17 19:23:24,432 - src.rules.rule_base - INFO - Generated BUY signal for SPY @ 520.8312
2025-04-17 19:23:24,432 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:02:00
2025-04-17 19:23:24,432 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,432 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:02:00, Close: 520.8312
2025-04-17 19:23:24,432 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.7920, Slow SMA = 520.7462
2025-04-17 19:23:24,432 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.026160, Curr diff: 0.045820
2025-04-17 19:23:24,432 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,432 - src.engine.execution_engine - INFO - Processing 8 pending orders for bar: SPY, close=520.8312
2025-04-17 19:23:24,432 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 89496.04, Equity: 94704.35
2025-04-17 19:23:24,432 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.875, MARKET, ID: 080afa42-dbf4-462d-a904-071da10da55d)
2025-04-17 19:23:24,432 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,432 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,432 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.8312
2025-04-17 19:23:24,432 - src.position_management.position - INFO - Position closed: bb43025a-7b92-430a-9cc2-75faa3e79d56 SPY LONG 10 @ 520.8312 P&L: 0.41
2025-04-17 19:23:24,432 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,432 - src.position_management.portfolio - INFO - Position closed: bb43025a-7b92-430a-9cc2-75faa3e79d56 SPY PnL: 0.41
2025-04-17 19:23:24,432 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,432 - src.engine.execution_engine - INFO - Commission charged: 5.21, remaining cash: 99907.46
2025-04-17 19:23:24,432 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,432 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,432 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(SELL 10 SPY @ 520.8312, cost=5.21)
2025-04-17 19:23:24,432 - src.engine.execution_engine - INFO - Order executed successfully, Fill price: 520.83
2025-04-17 19:23:24,432 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,432 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,432 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,432 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.8312
2025-04-17 19:23:24,432 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,432 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,432 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,432 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,432 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,432 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,432 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.8312
2025-04-17 19:23:24,432 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,432 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,432 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,432 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,432 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,432 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,432 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.8312
2025-04-17 19:23:24,432 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,432 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,433 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,433 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,433 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,433 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,433 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.8312
2025-04-17 19:23:24,433 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,433 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,433 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,433 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,433 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,433 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,433 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.8312
2025-04-17 19:23:24,433 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,433 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,433 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,433 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,433 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,433 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,433 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.8312
2025-04-17 19:23:24,433 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,433 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,433 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,433 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,433 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,433 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,433 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.8312
2025-04-17 19:23:24,433 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,433 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,433 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,433 - src.engine.execution_engine - INFO - Executed 1 of 8 orders
2025-04-17 19:23:24,433 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99907.46, Equity: 99912.67
2025-04-17 19:23:24,433 - src.engine.execution_engine - INFO - Remaining pending orders: 7
2025-04-17 19:23:24,433 - src.engine.backtester - DEBUG - Executed 1 fills
2025-04-17 19:23:24,433 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:03:00
2025-04-17 19:23:24,433 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:03:00, Close: 520.85
2025-04-17 19:23:24,433 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8185, Slow SMA = 520.7505
2025-04-17 19:23:24,433 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.045820, Curr diff: 0.067987
2025-04-17 19:23:24,433 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:03:00
2025-04-17 19:23:24,433 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,433 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:03:00, Close: 520.85
2025-04-17 19:23:24,433 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8305, Slow SMA = 520.7565
2025-04-17 19:23:24,433 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.067987, Curr diff: 0.073987
2025-04-17 19:23:24,433 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,433 - src.engine.execution_engine - INFO - Processing 7 pending orders for bar: SPY, close=520.85
2025-04-17 19:23:24,433 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99907.46, Equity: 99907.46
2025-04-17 19:23:24,433 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,433 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,433 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,433 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.85
2025-04-17 19:23:24,433 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,433 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,433 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,433 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,433 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,433 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,433 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.85
2025-04-17 19:23:24,433 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,433 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,433 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,433 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,433 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,433 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,433 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.85
2025-04-17 19:23:24,433 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,433 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,433 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,433 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,433 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,433 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,433 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.85
2025-04-17 19:23:24,433 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,433 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,433 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,433 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,433 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,433 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,433 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.85
2025-04-17 19:23:24,433 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,433 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,433 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,433 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,433 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,433 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,433 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.85
2025-04-17 19:23:24,433 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,433 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,433 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,433 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,433 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,433 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,433 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.85
2025-04-17 19:23:24,433 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,433 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,433 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,433 - src.engine.execution_engine - INFO - Executed 0 of 7 orders
2025-04-17 19:23:24,433 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99907.46, Equity: 99907.46
2025-04-17 19:23:24,433 - src.engine.execution_engine - INFO - Remaining pending orders: 7
2025-04-17 19:23:24,433 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:04:00
2025-04-17 19:23:24,433 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:04:00, Close: 520.85
2025-04-17 19:23:24,433 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8425, Slow SMA = 520.7625
2025-04-17 19:23:24,433 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.073987, Curr diff: 0.079987
2025-04-17 19:23:24,433 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:04:00
2025-04-17 19:23:24,433 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,433 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:04:00, Close: 520.85
2025-04-17 19:23:24,434 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8462, Slow SMA = 520.7708
2025-04-17 19:23:24,434 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.079987, Curr diff: 0.075413
2025-04-17 19:23:24,434 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,434 - src.engine.execution_engine - INFO - Processing 7 pending orders for bar: SPY, close=520.85
2025-04-17 19:23:24,434 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99907.46, Equity: 99907.46
2025-04-17 19:23:24,434 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,434 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,434 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,434 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.85
2025-04-17 19:23:24,434 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,434 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,434 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,434 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,434 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,434 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,434 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.85
2025-04-17 19:23:24,434 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,434 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,434 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,434 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,434 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,434 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,434 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.85
2025-04-17 19:23:24,434 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,434 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,434 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,434 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,434 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,434 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,434 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.85
2025-04-17 19:23:24,434 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,434 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,434 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,434 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,434 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,434 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,434 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.85
2025-04-17 19:23:24,434 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,434 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,434 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,434 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,434 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,434 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,434 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.85
2025-04-17 19:23:24,434 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,434 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,434 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,434 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,434 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,434 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,434 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.85
2025-04-17 19:23:24,434 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,434 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,434 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,434 - src.engine.execution_engine - INFO - Executed 0 of 7 orders
2025-04-17 19:23:24,434 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99907.46, Equity: 99907.46
2025-04-17 19:23:24,434 - src.engine.execution_engine - INFO - Remaining pending orders: 7
2025-04-17 19:23:24,434 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:05:00
2025-04-17 19:23:24,434 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:05:00, Close: 520.86
2025-04-17 19:23:24,434 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8520, Slow SMA = 520.7798
2025-04-17 19:23:24,434 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.075413, Curr diff: 0.072173
2025-04-17 19:23:24,434 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:05:00
2025-04-17 19:23:24,434 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,434 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:05:00, Close: 520.86
2025-04-17 19:23:24,434 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8540, Slow SMA = 520.7888
2025-04-17 19:23:24,434 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.072173, Curr diff: 0.065173
2025-04-17 19:23:24,434 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,434 - src.engine.execution_engine - INFO - Processing 7 pending orders for bar: SPY, close=520.86
2025-04-17 19:23:24,434 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99907.46, Equity: 99907.46
2025-04-17 19:23:24,434 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,434 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,434 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,434 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.86
2025-04-17 19:23:24,434 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,434 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,434 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,434 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,434 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,434 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,434 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.86
2025-04-17 19:23:24,434 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,434 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,434 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,434 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,434 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,434 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,434 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.86
2025-04-17 19:23:24,434 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,434 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,434 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,434 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,434 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,434 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,434 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.86
2025-04-17 19:23:24,434 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,434 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,434 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,434 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,434 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,434 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,434 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.86
2025-04-17 19:23:24,434 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,434 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,434 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,434 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,434 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,434 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,434 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.86
2025-04-17 19:23:24,434 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,434 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,434 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,435 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,435 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,435 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,435 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.86
2025-04-17 19:23:24,435 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,435 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,435 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,435 - src.engine.execution_engine - INFO - Executed 0 of 7 orders
2025-04-17 19:23:24,435 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99907.46, Equity: 99907.46
2025-04-17 19:23:24,435 - src.engine.execution_engine - INFO - Remaining pending orders: 7
2025-04-17 19:23:24,435 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:06:00
2025-04-17 19:23:24,435 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:06:00, Close: 520.87
2025-04-17 19:23:24,435 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8580, Slow SMA = 520.7985
2025-04-17 19:23:24,435 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.065173, Curr diff: 0.059507
2025-04-17 19:23:24,435 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:06:00
2025-04-17 19:23:24,435 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,435 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:06:00, Close: 520.87
2025-04-17 19:23:24,435 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8620, Slow SMA = 520.8128
2025-04-17 19:23:24,435 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.059507, Curr diff: 0.049173
2025-04-17 19:23:24,435 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,435 - src.engine.execution_engine - INFO - Processing 7 pending orders for bar: SPY, close=520.87
2025-04-17 19:23:24,435 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99907.46, Equity: 99907.46
2025-04-17 19:23:24,435 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,435 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,435 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,435 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.87
2025-04-17 19:23:24,435 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,435 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,435 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,435 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,435 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,435 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,435 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.87
2025-04-17 19:23:24,435 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,435 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,435 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,435 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,435 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,435 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,435 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.87
2025-04-17 19:23:24,435 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,435 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,435 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,435 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,435 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,435 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,435 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.87
2025-04-17 19:23:24,435 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,435 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,435 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,435 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,435 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,435 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,435 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.87
2025-04-17 19:23:24,435 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,435 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,435 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,435 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,435 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,435 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,435 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.87
2025-04-17 19:23:24,435 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,435 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,435 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,435 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,435 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,435 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,435 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.87
2025-04-17 19:23:24,435 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,435 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,435 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,435 - src.engine.execution_engine - INFO - Executed 0 of 7 orders
2025-04-17 19:23:24,435 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99907.46, Equity: 99907.46
2025-04-17 19:23:24,435 - src.engine.execution_engine - INFO - Remaining pending orders: 7
2025-04-17 19:23:24,435 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:07:00
2025-04-17 19:23:24,435 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:07:00, Close: 520.895
2025-04-17 19:23:24,435 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8710, Slow SMA = 520.8288
2025-04-17 19:23:24,435 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.049173, Curr diff: 0.042173
2025-04-17 19:23:24,435 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:07:00
2025-04-17 19:23:24,435 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,435 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:07:00, Close: 520.895
2025-04-17 19:23:24,435 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8780, Slow SMA = 520.8407
2025-04-17 19:23:24,435 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.042173, Curr diff: 0.037340
2025-04-17 19:23:24,435 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,435 - src.engine.execution_engine - INFO - Processing 7 pending orders for bar: SPY, close=520.895
2025-04-17 19:23:24,435 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99907.46, Equity: 99907.46
2025-04-17 19:23:24,435 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,435 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,435 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,435 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.895
2025-04-17 19:23:24,435 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,435 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,435 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,435 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,435 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,435 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,435 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.895
2025-04-17 19:23:24,435 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,435 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,435 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,435 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,435 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,436 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,436 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.895
2025-04-17 19:23:24,436 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,436 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,436 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,436 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,436 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,436 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,436 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.895
2025-04-17 19:23:24,436 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,436 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,436 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,436 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,436 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,436 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,436 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.895
2025-04-17 19:23:24,436 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,436 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,436 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,436 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,436 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,436 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,436 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.895
2025-04-17 19:23:24,436 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,436 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,436 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,436 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,436 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,436 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,436 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.895
2025-04-17 19:23:24,436 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,436 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,436 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,436 - src.engine.execution_engine - INFO - Executed 0 of 7 orders
2025-04-17 19:23:24,436 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99907.46, Equity: 99907.46
2025-04-17 19:23:24,436 - src.engine.execution_engine - INFO - Remaining pending orders: 7
2025-04-17 19:23:24,436 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:08:00
2025-04-17 19:23:24,436 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:08:00, Close: 520.915
2025-04-17 19:23:24,436 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8890, Slow SMA = 520.8538
2025-04-17 19:23:24,436 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.037340, Curr diff: 0.035173
2025-04-17 19:23:24,436 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:08:00
2025-04-17 19:23:24,436 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,436 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:08:00, Close: 520.915
2025-04-17 19:23:24,436 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8980, Slow SMA = 520.8622
2025-04-17 19:23:24,436 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.035173, Curr diff: 0.035840
2025-04-17 19:23:24,436 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,436 - src.engine.execution_engine - INFO - Processing 7 pending orders for bar: SPY, close=520.915
2025-04-17 19:23:24,436 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99907.46, Equity: 99907.46
2025-04-17 19:23:24,436 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,436 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,436 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,436 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.915
2025-04-17 19:23:24,436 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,436 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,436 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,436 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,436 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,436 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,436 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.915
2025-04-17 19:23:24,436 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,436 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,436 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,436 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,436 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,436 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,436 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.915
2025-04-17 19:23:24,436 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,436 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,436 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,436 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,436 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,436 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,436 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.915
2025-04-17 19:23:24,436 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,436 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,436 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,436 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,436 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,436 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,436 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.915
2025-04-17 19:23:24,436 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,436 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,436 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,436 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,436 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,436 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,436 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.915
2025-04-17 19:23:24,436 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,436 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,436 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,436 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,436 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,436 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,436 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.915
2025-04-17 19:23:24,436 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,436 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,436 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,436 - src.engine.execution_engine - INFO - Executed 0 of 7 orders
2025-04-17 19:23:24,436 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99907.46, Equity: 99907.46
2025-04-17 19:23:24,436 - src.engine.execution_engine - INFO - Remaining pending orders: 7
2025-04-17 19:23:24,436 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:09:00
2025-04-17 19:23:24,437 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:09:00, Close: 520.834
2025-04-17 19:23:24,437 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8908, Slow SMA = 520.8651
2025-04-17 19:23:24,437 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.035840, Curr diff: 0.025707
2025-04-17 19:23:24,437 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:09:00
2025-04-17 19:23:24,437 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,437 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:09:00, Close: 520.834
2025-04-17 19:23:24,437 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8786, Slow SMA = 520.8653
2025-04-17 19:23:24,437 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.025707, Curr diff: 0.013320
2025-04-17 19:23:24,437 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,437 - src.engine.execution_engine - INFO - Processing 7 pending orders for bar: SPY, close=520.834
2025-04-17 19:23:24,437 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99907.46, Equity: 99907.46
2025-04-17 19:23:24,437 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,437 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,437 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,437 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.834
2025-04-17 19:23:24,437 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,437 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,437 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,437 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,437 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,437 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,437 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.834
2025-04-17 19:23:24,437 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,437 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,437 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,437 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,437 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,437 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,437 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.834
2025-04-17 19:23:24,437 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,437 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,437 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,437 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,437 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,437 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,437 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.834
2025-04-17 19:23:24,437 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,437 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,437 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,437 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,437 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,437 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,437 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.834
2025-04-17 19:23:24,437 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,437 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,437 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,437 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,437 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,437 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,437 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.834
2025-04-17 19:23:24,437 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,437 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,437 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,437 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,437 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,437 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,437 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.834
2025-04-17 19:23:24,437 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,437 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,437 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,437 - src.engine.execution_engine - INFO - Executed 0 of 7 orders
2025-04-17 19:23:24,437 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99907.46, Equity: 99907.46
2025-04-17 19:23:24,437 - src.engine.execution_engine - INFO - Remaining pending orders: 7
2025-04-17 19:23:24,437 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:10:00
2025-04-17 19:23:24,437 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:10:00, Close: 520.76
2025-04-17 19:23:24,437 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8516, Slow SMA = 520.8605
2025-04-17 19:23:24,437 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.013320, Curr diff: -0.008933
2025-04-17 19:23:24,437 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bearish crossover for SPY @ 2024-03-26 18:10:00
2025-04-17 19:23:24,437 - src.position_management.position_manager - INFO - Position manager received SELL signal for SPY at price 520.76
2025-04-17 19:23:24,437 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: -1
2025-04-17 19:23:24,437 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,437 - src.position_management.position_manager - INFO - Created SHORT position entry action for SPY size 10
2025-04-17 19:23:24,437 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,437 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,437 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,437 - src.engine.execution_engine - INFO - Created order from position action: SPY SELL 10 @ 520.76
2025-04-17 19:23:24,437 - src.engine.execution_engine - INFO - Order received: OrderEvent(SELL 10 SPY @ 520.76, MARKET, ID: 59e9d9dc-221b-4d44-bddd-8402c9a651a5)
2025-04-17 19:23:24,437 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(SELL 10 SPY @ 520.76, MARKET, ID: 59e9d9dc-221b-4d44-bddd-8402c9a651a5)
2025-04-17 19:23:24,437 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.834
2025-04-17 19:23:24,437 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,437 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,437 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(SELL 10 SPY @ 520.76, MARKET, ID: 59e9d9dc-221b-4d44-bddd-8402c9a651a5)
2025-04-17 19:23:24,437 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,437 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,437 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,437 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,437 - __main__ - DEBUG - Signal details: SELL for SPY @ 520.76
2025-04-17 19:23:24,437 - src.rules.rule_base - INFO - Generated SELL signal for SPY @ 520.76
2025-04-17 19:23:24,437 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:10:00
2025-04-17 19:23:24,437 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,437 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:10:00, Close: 520.76
2025-04-17 19:23:24,437 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8206, Slow SMA = 520.8545
2025-04-17 19:23:24,437 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.008933, Curr diff: -0.033933
2025-04-17 19:23:24,437 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,437 - src.engine.execution_engine - INFO - Processing 8 pending orders for bar: SPY, close=520.76
2025-04-17 19:23:24,437 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99907.46, Equity: 99907.46
2025-04-17 19:23:24,438 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,438 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,438 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,438 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.76
2025-04-17 19:23:24,438 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,438 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,438 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,438 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,438 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,438 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,438 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.76
2025-04-17 19:23:24,438 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,438 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,438 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,438 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,438 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,438 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,438 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.76
2025-04-17 19:23:24,438 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,438 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,438 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,438 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,438 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,438 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,438 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.76
2025-04-17 19:23:24,438 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,438 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,438 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,438 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,438 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,438 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,438 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.76
2025-04-17 19:23:24,438 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,438 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,438 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,438 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,438 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,438 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,438 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.76
2025-04-17 19:23:24,438 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,438 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,438 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,438 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,438 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,438 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,438 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.76
2025-04-17 19:23:24,438 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,438 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,438 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,438 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.76, MARKET, ID: 59e9d9dc-221b-4d44-bddd-8402c9a651a5)
2025-04-17 19:23:24,438 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,438 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,438 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.76
2025-04-17 19:23:24,438 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,438 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,438 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,438 - src.engine.execution_engine - INFO - Executed 0 of 8 orders
2025-04-17 19:23:24,438 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99907.46, Equity: 99907.46
2025-04-17 19:23:24,438 - src.engine.execution_engine - INFO - Remaining pending orders: 8
2025-04-17 19:23:24,438 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:11:00
2025-04-17 19:23:24,438 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:11:00, Close: 520.785
2025-04-17 19:23:24,438 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.7946, Slow SMA = 520.8502
2025-04-17 19:23:24,438 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.033933, Curr diff: -0.055600
2025-04-17 19:23:24,438 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:11:00
2025-04-17 19:23:24,438 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,438 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:11:00, Close: 520.785
2025-04-17 19:23:24,438 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.7848, Slow SMA = 520.8459
2025-04-17 19:23:24,438 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.055600, Curr diff: -0.061067
2025-04-17 19:23:24,438 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,438 - src.engine.execution_engine - INFO - Processing 8 pending orders for bar: SPY, close=520.785
2025-04-17 19:23:24,438 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99907.46, Equity: 99907.46
2025-04-17 19:23:24,438 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,438 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,438 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,438 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.785
2025-04-17 19:23:24,438 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,438 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,438 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,438 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,438 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,438 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,438 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.785
2025-04-17 19:23:24,438 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,438 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,438 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,438 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,438 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,438 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,438 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.785
2025-04-17 19:23:24,438 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,438 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,438 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,438 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,438 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,438 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,438 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.785
2025-04-17 19:23:24,438 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,438 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,438 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,438 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,439 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,439 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,439 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.785
2025-04-17 19:23:24,439 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,439 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,439 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,439 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,439 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,439 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,439 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.785
2025-04-17 19:23:24,439 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,439 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,439 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,439 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,439 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,439 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,439 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.785
2025-04-17 19:23:24,439 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,439 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,439 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,439 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.76, MARKET, ID: 59e9d9dc-221b-4d44-bddd-8402c9a651a5)
2025-04-17 19:23:24,439 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,439 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,439 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.785
2025-04-17 19:23:24,439 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,439 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,439 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,439 - src.engine.execution_engine - INFO - Executed 0 of 8 orders
2025-04-17 19:23:24,439 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99907.46, Equity: 99907.46
2025-04-17 19:23:24,439 - src.engine.execution_engine - INFO - Remaining pending orders: 8
2025-04-17 19:23:24,439 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:12:00
2025-04-17 19:23:24,439 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:12:00, Close: 520.7388
2025-04-17 19:23:24,439 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.7658, Slow SMA = 520.8385
2025-04-17 19:23:24,439 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.061067, Curr diff: -0.072693
2025-04-17 19:23:24,439 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:12:00
2025-04-17 19:23:24,439 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,439 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:12:00, Close: 520.7388
2025-04-17 19:23:24,439 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.7615, Slow SMA = 520.8304
2025-04-17 19:23:24,439 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.072693, Curr diff: -0.068853
2025-04-17 19:23:24,439 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,439 - src.engine.execution_engine - INFO - Processing 8 pending orders for bar: SPY, close=520.7388
2025-04-17 19:23:24,439 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99907.46, Equity: 99907.46
2025-04-17 19:23:24,439 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,439 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,439 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,439 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.7388
2025-04-17 19:23:24,439 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,439 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,439 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,439 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,439 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,439 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,439 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.7388
2025-04-17 19:23:24,439 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,439 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,439 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,439 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,439 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,439 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,439 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.7388
2025-04-17 19:23:24,439 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,439 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,439 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,439 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,439 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,439 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,439 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.7388
2025-04-17 19:23:24,439 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,439 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,439 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,439 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,439 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,439 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,439 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.7388
2025-04-17 19:23:24,439 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,439 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,439 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,439 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,439 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,439 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,439 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.7388
2025-04-17 19:23:24,439 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,439 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,439 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,439 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,439 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,439 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,439 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.7388
2025-04-17 19:23:24,439 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,439 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,439 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,439 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.76, MARKET, ID: 59e9d9dc-221b-4d44-bddd-8402c9a651a5)
2025-04-17 19:23:24,439 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,439 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,439 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.7388
2025-04-17 19:23:24,440 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,440 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,440 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,440 - src.engine.execution_engine - INFO - Executed 0 of 8 orders
2025-04-17 19:23:24,440 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99907.46, Equity: 99907.46
2025-04-17 19:23:24,440 - src.engine.execution_engine - INFO - Remaining pending orders: 8
2025-04-17 19:23:24,440 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:13:00
2025-04-17 19:23:24,440 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:13:00, Close: 520.81
2025-04-17 19:23:24,440 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.7715, Slow SMA = 520.8270
2025-04-17 19:23:24,440 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.068853, Curr diff: -0.055520
2025-04-17 19:23:24,440 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:13:00
2025-04-17 19:23:24,440 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,440 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:13:00, Close: 520.81
2025-04-17 19:23:24,440 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.7765, Slow SMA = 520.8230
2025-04-17 19:23:24,440 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.055520, Curr diff: -0.046520
2025-04-17 19:23:24,440 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,440 - src.engine.execution_engine - INFO - Processing 8 pending orders for bar: SPY, close=520.81
2025-04-17 19:23:24,440 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99907.46, Equity: 99907.46
2025-04-17 19:23:24,440 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,440 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,440 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,440 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.81
2025-04-17 19:23:24,440 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,440 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,440 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,440 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,440 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,440 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,440 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.81
2025-04-17 19:23:24,440 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,440 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,440 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,440 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,440 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,440 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,440 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.81
2025-04-17 19:23:24,440 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,440 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,440 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,440 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,440 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,440 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,440 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.81
2025-04-17 19:23:24,440 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,440 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,440 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,440 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,440 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,440 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,440 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.81
2025-04-17 19:23:24,440 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,440 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,440 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,440 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,440 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,440 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,440 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.81
2025-04-17 19:23:24,440 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,440 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,440 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,440 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,440 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,440 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,440 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.81
2025-04-17 19:23:24,440 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,440 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,440 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,440 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.76, MARKET, ID: 59e9d9dc-221b-4d44-bddd-8402c9a651a5)
2025-04-17 19:23:24,440 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,440 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,440 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.81
2025-04-17 19:23:24,440 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,440 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,440 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,440 - src.engine.execution_engine - INFO - Executed 0 of 8 orders
2025-04-17 19:23:24,440 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99907.46, Equity: 99907.46
2025-04-17 19:23:24,440 - src.engine.execution_engine - INFO - Remaining pending orders: 8
2025-04-17 19:23:24,440 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:14:00
2025-04-17 19:23:24,440 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:14:00, Close: 520.85
2025-04-17 19:23:24,440 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.7895, Slow SMA = 520.8217
2025-04-17 19:23:24,440 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.046520, Curr diff: -0.032187
2025-04-17 19:23:24,440 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:14:00
2025-04-17 19:23:24,440 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,440 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:14:00, Close: 520.85
2025-04-17 19:23:24,440 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8118, Slow SMA = 520.8187
2025-04-17 19:23:24,440 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.032187, Curr diff: -0.006947
2025-04-17 19:23:24,440 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,440 - src.engine.execution_engine - INFO - Processing 8 pending orders for bar: SPY, close=520.85
2025-04-17 19:23:24,440 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99907.46, Equity: 99907.46
2025-04-17 19:23:24,440 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,440 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,440 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,441 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.85
2025-04-17 19:23:24,441 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,441 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,441 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,441 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,441 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,441 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,441 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.85
2025-04-17 19:23:24,441 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,441 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,441 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,441 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,441 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,441 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,441 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.85
2025-04-17 19:23:24,441 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,441 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,441 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,441 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,441 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,441 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,441 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.85
2025-04-17 19:23:24,441 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,441 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,441 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,441 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,441 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,441 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,441 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.85
2025-04-17 19:23:24,441 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,441 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,441 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,441 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,441 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,441 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,441 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.85
2025-04-17 19:23:24,441 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,441 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,441 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,441 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,441 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,441 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,441 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.85
2025-04-17 19:23:24,441 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,441 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,441 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,441 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.76, MARKET, ID: 59e9d9dc-221b-4d44-bddd-8402c9a651a5)
2025-04-17 19:23:24,441 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,441 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,441 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.85
2025-04-17 19:23:24,441 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,441 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,441 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,441 - src.engine.execution_engine - INFO - Executed 0 of 8 orders
2025-04-17 19:23:24,441 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99907.46, Equity: 99907.46
2025-04-17 19:23:24,441 - src.engine.execution_engine - INFO - Remaining pending orders: 8
2025-04-17 19:23:24,441 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:15:00
2025-04-17 19:23:24,441 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:15:00, Close: 520.9099
2025-04-17 19:23:24,441 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8460, Slow SMA = 520.8197
2025-04-17 19:23:24,441 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.006947, Curr diff: 0.026280
2025-04-17 19:23:24,441 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bullish crossover for SPY @ 2024-03-26 18:15:00
2025-04-17 19:23:24,441 - src.position_management.position_manager - INFO - Position manager received BUY signal for SPY at price 520.9099
2025-04-17 19:23:24,441 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: 1
2025-04-17 19:23:24,441 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,441 - src.position_management.position_manager - INFO - Created LONG position entry action for SPY size 10
2025-04-17 19:23:24,441 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,441 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,441 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,441 - src.engine.execution_engine - INFO - Created order from position action: SPY BUY 10 @ 520.9099
2025-04-17 19:23:24,441 - src.engine.execution_engine - INFO - Order received: OrderEvent(BUY 10 SPY @ 520.9099, MARKET, ID: d9051166-d347-4899-ad88-0ddbd77644e3)
2025-04-17 19:23:24,441 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(BUY 10 SPY @ 520.9099, MARKET, ID: d9051166-d347-4899-ad88-0ddbd77644e3)
2025-04-17 19:23:24,441 - src.engine.execution_engine - INFO - Executing BUY order: 10 shares at 520.85
2025-04-17 19:23:24,441 - src.position_management.position - INFO - Position opened: 4a3a5c13-d2c9-4bd4-9d1d-f9e63dd699dc SPY LONG 10 @ 520.85
2025-04-17 19:23:24,441 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,441 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,441 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,441 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(BUY 10 SPY @ 520.85, cost=0.00)
2025-04-17 19:23:24,441 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(BUY 10 SPY @ 520.9099, MARKET, ID: d9051166-d347-4899-ad88-0ddbd77644e3)
2025-04-17 19:23:24,441 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,441 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,441 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,441 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,441 - __main__ - DEBUG - Signal details: BUY for SPY @ 520.9099
2025-04-17 19:23:24,441 - src.rules.rule_base - INFO - Generated BUY signal for SPY @ 520.9099
2025-04-17 19:23:24,441 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:15:00
2025-04-17 19:23:24,441 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,441 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:15:00, Close: 520.9099
2025-04-17 19:23:24,441 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8660, Slow SMA = 520.8194
2025-04-17 19:23:24,441 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.026280, Curr diff: 0.046600
2025-04-17 19:23:24,441 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,441 - src.engine.execution_engine - INFO - Processing 8 pending orders for bar: SPY, close=520.9099
2025-04-17 19:23:24,441 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 89490.46, Equity: 94699.56
2025-04-17 19:23:24,441 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.884, MARKET, ID: cb262a65-3d11-4e70-b5a7-2f32a1dac959)
2025-04-17 19:23:24,441 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,442 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,442 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9099
2025-04-17 19:23:24,442 - src.position_management.position - INFO - Position closed: 4a3a5c13-d2c9-4bd4-9d1d-f9e63dd699dc SPY LONG 10 @ 520.9099 P&L: 0.60
2025-04-17 19:23:24,442 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,442 - src.position_management.portfolio - INFO - Position closed: 4a3a5c13-d2c9-4bd4-9d1d-f9e63dd699dc SPY PnL: 0.60
2025-04-17 19:23:24,442 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,442 - src.engine.execution_engine - INFO - Commission charged: 5.21, remaining cash: 99903.45
2025-04-17 19:23:24,442 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,442 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,442 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(SELL 10 SPY @ 520.9099, cost=5.21)
2025-04-17 19:23:24,442 - src.engine.execution_engine - INFO - Order executed successfully, Fill price: 520.91
2025-04-17 19:23:24,442 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,442 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,442 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,442 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9099
2025-04-17 19:23:24,442 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,442 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,442 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,442 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,442 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,442 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,442 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9099
2025-04-17 19:23:24,442 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,442 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,442 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,442 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,442 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,442 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,442 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9099
2025-04-17 19:23:24,442 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,442 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,442 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,442 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,442 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,442 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,442 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9099
2025-04-17 19:23:24,442 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,442 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,442 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,442 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,442 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,442 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,442 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9099
2025-04-17 19:23:24,442 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,442 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,442 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,442 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,442 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,442 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,442 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9099
2025-04-17 19:23:24,442 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,442 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,442 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,442 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.76, MARKET, ID: 59e9d9dc-221b-4d44-bddd-8402c9a651a5)
2025-04-17 19:23:24,442 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,442 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,442 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9099
2025-04-17 19:23:24,442 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,442 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,442 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,442 - src.engine.execution_engine - INFO - Executed 1 of 8 orders
2025-04-17 19:23:24,442 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99903.45, Equity: 99908.66
2025-04-17 19:23:24,442 - src.engine.execution_engine - INFO - Remaining pending orders: 7
2025-04-17 19:23:24,442 - src.engine.backtester - DEBUG - Executed 1 fills
2025-04-17 19:23:24,442 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:16:00
2025-04-17 19:23:24,442 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:16:00, Close: 520.904
2025-04-17 19:23:24,442 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8848, Slow SMA = 520.8186
2025-04-17 19:23:24,442 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.046600, Curr diff: 0.066133
2025-04-17 19:23:24,442 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:16:00
2025-04-17 19:23:24,442 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,442 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:16:00, Close: 520.904
2025-04-17 19:23:24,442 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8956, Slow SMA = 520.8233
2025-04-17 19:23:24,442 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.066133, Curr diff: 0.072267
2025-04-17 19:23:24,442 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,442 - src.engine.execution_engine - INFO - Processing 7 pending orders for bar: SPY, close=520.904
2025-04-17 19:23:24,442 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99903.45, Equity: 99903.45
2025-04-17 19:23:24,442 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,442 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,442 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,442 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.904
2025-04-17 19:23:24,442 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,442 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,442 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,442 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,442 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,442 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,442 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.904
2025-04-17 19:23:24,442 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,442 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,442 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,442 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,442 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,442 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,442 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.904
2025-04-17 19:23:24,442 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,442 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,442 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,442 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,442 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,442 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,442 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.904
2025-04-17 19:23:24,442 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,442 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,442 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,442 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,442 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,442 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,442 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.904
2025-04-17 19:23:24,443 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,443 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,443 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,443 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,443 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,443 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,443 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.904
2025-04-17 19:23:24,443 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,443 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,443 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,443 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.76, MARKET, ID: 59e9d9dc-221b-4d44-bddd-8402c9a651a5)
2025-04-17 19:23:24,443 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,443 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,443 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.904
2025-04-17 19:23:24,443 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,443 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,443 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,443 - src.engine.execution_engine - INFO - Executed 0 of 7 orders
2025-04-17 19:23:24,443 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99903.45, Equity: 99903.45
2025-04-17 19:23:24,443 - src.engine.execution_engine - INFO - Remaining pending orders: 7
2025-04-17 19:23:24,443 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:17:00
2025-04-17 19:23:24,443 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:17:00, Close: 520.905
2025-04-17 19:23:24,443 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9066, Slow SMA = 520.8280
2025-04-17 19:23:24,443 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.072267, Curr diff: 0.078533
2025-04-17 19:23:24,443 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:17:00
2025-04-17 19:23:24,443 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,443 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:17:00, Close: 520.905
2025-04-17 19:23:24,443 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9056, Slow SMA = 520.8377
2025-04-17 19:23:24,443 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.078533, Curr diff: 0.067887
2025-04-17 19:23:24,443 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,443 - src.engine.execution_engine - INFO - Processing 7 pending orders for bar: SPY, close=520.905
2025-04-17 19:23:24,443 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99903.45, Equity: 99903.45
2025-04-17 19:23:24,443 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,443 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,443 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,443 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.905
2025-04-17 19:23:24,443 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,443 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,443 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,443 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,443 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,443 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,443 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.905
2025-04-17 19:23:24,443 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,443 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,443 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,443 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,443 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,443 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,443 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.905
2025-04-17 19:23:24,443 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,443 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,443 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,443 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,443 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,443 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,443 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.905
2025-04-17 19:23:24,443 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,443 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,443 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,443 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,443 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,443 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,443 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.905
2025-04-17 19:23:24,443 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,443 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,443 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,443 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,443 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,443 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,443 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.905
2025-04-17 19:23:24,443 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,443 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,443 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,443 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.76, MARKET, ID: 59e9d9dc-221b-4d44-bddd-8402c9a651a5)
2025-04-17 19:23:24,443 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,443 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,443 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.905
2025-04-17 19:23:24,443 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,443 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,443 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,443 - src.engine.execution_engine - INFO - Executed 0 of 7 orders
2025-04-17 19:23:24,443 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99903.45, Equity: 99903.45
2025-04-17 19:23:24,443 - src.engine.execution_engine - INFO - Remaining pending orders: 7
2025-04-17 19:23:24,443 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:18:00
2025-04-17 19:23:24,443 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:18:00, Close: 520.94
2025-04-17 19:23:24,443 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9116, Slow SMA = 520.8497
2025-04-17 19:23:24,443 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.067887, Curr diff: 0.061907
2025-04-17 19:23:24,443 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:18:00
2025-04-17 19:23:24,443 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,443 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:18:00, Close: 520.94
2025-04-17 19:23:24,443 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9188, Slow SMA = 520.8600
2025-04-17 19:23:24,443 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.061907, Curr diff: 0.058773
2025-04-17 19:23:24,443 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,443 - src.engine.execution_engine - INFO - Processing 7 pending orders for bar: SPY, close=520.94
2025-04-17 19:23:24,443 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99903.45, Equity: 99903.45
2025-04-17 19:23:24,443 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,443 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,443 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,443 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.94
2025-04-17 19:23:24,443 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,443 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,443 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,443 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,444 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,444 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,444 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.94
2025-04-17 19:23:24,444 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,444 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,444 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,444 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,444 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,444 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,444 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.94
2025-04-17 19:23:24,444 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,444 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,444 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,444 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,444 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,444 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,444 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.94
2025-04-17 19:23:24,444 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,444 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,444 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,444 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,444 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,444 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,444 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.94
2025-04-17 19:23:24,444 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,444 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,444 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,444 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,444 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,444 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,444 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.94
2025-04-17 19:23:24,444 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,444 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,444 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,444 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.76, MARKET, ID: 59e9d9dc-221b-4d44-bddd-8402c9a651a5)
2025-04-17 19:23:24,444 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,444 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,444 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.94
2025-04-17 19:23:24,444 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,444 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,444 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,444 - src.engine.execution_engine - INFO - Executed 0 of 7 orders
2025-04-17 19:23:24,444 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99903.45, Equity: 99903.45
2025-04-17 19:23:24,444 - src.engine.execution_engine - INFO - Remaining pending orders: 7
2025-04-17 19:23:24,444 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:19:00
2025-04-17 19:23:24,444 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:19:00, Close: 520.925
2025-04-17 19:23:24,444 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9230, Slow SMA = 520.8694
2025-04-17 19:23:24,444 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.058773, Curr diff: 0.053640
2025-04-17 19:23:24,444 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:19:00
2025-04-17 19:23:24,444 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,444 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:19:00, Close: 520.925
2025-04-17 19:23:24,444 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9270, Slow SMA = 520.8818
2025-04-17 19:23:24,444 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.053640, Curr diff: 0.045227
2025-04-17 19:23:24,444 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,444 - src.engine.execution_engine - INFO - Processing 7 pending orders for bar: SPY, close=520.925
2025-04-17 19:23:24,444 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99903.45, Equity: 99903.45
2025-04-17 19:23:24,444 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,444 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,444 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,444 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.925
2025-04-17 19:23:24,444 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,444 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,444 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,444 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,444 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,444 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,444 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.925
2025-04-17 19:23:24,444 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,444 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,444 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,444 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,444 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,444 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,444 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.925
2025-04-17 19:23:24,444 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,444 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,444 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,444 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,444 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,444 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,444 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.925
2025-04-17 19:23:24,444 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,444 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,444 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,444 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,444 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,444 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,444 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.925
2025-04-17 19:23:24,444 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,444 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,444 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,444 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,444 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,444 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,444 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.925
2025-04-17 19:23:24,444 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,444 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,444 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,444 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.76, MARKET, ID: 59e9d9dc-221b-4d44-bddd-8402c9a651a5)
2025-04-17 19:23:24,444 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,444 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,444 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.925
2025-04-17 19:23:24,444 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,444 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,444 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,444 - src.engine.execution_engine - INFO - Executed 0 of 7 orders
2025-04-17 19:23:24,444 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99903.45, Equity: 99903.45
2025-04-17 19:23:24,444 - src.engine.execution_engine - INFO - Remaining pending orders: 7
2025-04-17 19:23:24,444 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:20:00
2025-04-17 19:23:24,445 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:20:00, Close: 520.84
2025-04-17 19:23:24,445 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9140, Slow SMA = 520.8885
2025-04-17 19:23:24,445 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.045227, Curr diff: 0.025480
2025-04-17 19:23:24,445 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:20:00
2025-04-17 19:23:24,445 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,445 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:20:00, Close: 520.84
2025-04-17 19:23:24,445 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8940, Slow SMA = 520.8905
2025-04-17 19:23:24,445 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.025480, Curr diff: 0.003480
2025-04-17 19:23:24,445 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,445 - src.engine.execution_engine - INFO - Processing 7 pending orders for bar: SPY, close=520.84
2025-04-17 19:23:24,445 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99903.45, Equity: 99903.45
2025-04-17 19:23:24,445 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,445 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,445 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,445 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.84
2025-04-17 19:23:24,445 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,445 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,445 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,445 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,445 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,445 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,445 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.84
2025-04-17 19:23:24,445 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,445 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,445 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,445 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,445 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,445 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,445 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.84
2025-04-17 19:23:24,445 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,445 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,445 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,445 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,445 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,445 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,445 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.84
2025-04-17 19:23:24,445 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,445 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,445 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,445 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,445 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,445 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,445 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.84
2025-04-17 19:23:24,445 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,445 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,445 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,445 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,445 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,445 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,445 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.84
2025-04-17 19:23:24,445 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,445 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,445 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,445 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.76, MARKET, ID: 59e9d9dc-221b-4d44-bddd-8402c9a651a5)
2025-04-17 19:23:24,445 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,445 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,445 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.84
2025-04-17 19:23:24,445 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,445 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,445 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,445 - src.engine.execution_engine - INFO - Executed 0 of 7 orders
2025-04-17 19:23:24,445 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99903.45, Equity: 99903.45
2025-04-17 19:23:24,445 - src.engine.execution_engine - INFO - Remaining pending orders: 7
2025-04-17 19:23:24,445 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:21:00
2025-04-17 19:23:24,445 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:21:00, Close: 520.83
2025-04-17 19:23:24,445 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8720, Slow SMA = 520.8919
2025-04-17 19:23:24,445 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.003480, Curr diff: -0.019853
2025-04-17 19:23:24,445 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bearish crossover for SPY @ 2024-03-26 18:21:00
2025-04-17 19:23:24,445 - src.position_management.position_manager - INFO - Position manager received SELL signal for SPY at price 520.83
2025-04-17 19:23:24,445 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: -1
2025-04-17 19:23:24,445 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,445 - src.position_management.position_manager - INFO - Created SHORT position entry action for SPY size 10
2025-04-17 19:23:24,445 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,445 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,445 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,445 - src.engine.execution_engine - INFO - Created order from position action: SPY SELL 10 @ 520.83
2025-04-17 19:23:24,445 - src.engine.execution_engine - INFO - Order received: OrderEvent(SELL 10 SPY @ 520.83, MARKET, ID: ffbfa5a4-ac91-455a-8af0-37908bc76725)
2025-04-17 19:23:24,445 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(SELL 10 SPY @ 520.83, MARKET, ID: ffbfa5a4-ac91-455a-8af0-37908bc76725)
2025-04-17 19:23:24,445 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.84
2025-04-17 19:23:24,445 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,445 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,445 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(SELL 10 SPY @ 520.83, MARKET, ID: ffbfa5a4-ac91-455a-8af0-37908bc76725)
2025-04-17 19:23:24,445 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,445 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,445 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,445 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,445 - __main__ - DEBUG - Signal details: SELL for SPY @ 520.83
2025-04-17 19:23:24,445 - src.rules.rule_base - INFO - Generated SELL signal for SPY @ 520.83
2025-04-17 19:23:24,445 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:21:00
2025-04-17 19:23:24,445 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,445 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:21:00, Close: 520.83
2025-04-17 19:23:24,445 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8530, Slow SMA = 520.8905
2025-04-17 19:23:24,445 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.019853, Curr diff: -0.037520
2025-04-17 19:23:24,445 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,445 - src.engine.execution_engine - INFO - Processing 8 pending orders for bar: SPY, close=520.83
2025-04-17 19:23:24,445 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99903.45, Equity: 99903.45
2025-04-17 19:23:24,445 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,445 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,445 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,445 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.83
2025-04-17 19:23:24,445 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,445 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,445 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,445 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,446 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.83
2025-04-17 19:23:24,446 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,446 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,446 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,446 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.83
2025-04-17 19:23:24,446 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,446 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,446 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,446 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.83
2025-04-17 19:23:24,446 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,446 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,446 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,446 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.83
2025-04-17 19:23:24,446 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,446 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,446 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,446 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.83
2025-04-17 19:23:24,446 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,446 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,446 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.76, MARKET, ID: 59e9d9dc-221b-4d44-bddd-8402c9a651a5)
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,446 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.83
2025-04-17 19:23:24,446 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,446 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,446 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.83, MARKET, ID: ffbfa5a4-ac91-455a-8af0-37908bc76725)
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,446 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.83
2025-04-17 19:23:24,446 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,446 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,446 - src.engine.execution_engine - INFO - Executed 0 of 8 orders
2025-04-17 19:23:24,446 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99903.45, Equity: 99903.45
2025-04-17 19:23:24,446 - src.engine.execution_engine - INFO - Remaining pending orders: 8
2025-04-17 19:23:24,446 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:22:00
2025-04-17 19:23:24,446 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:22:00, Close: 520.855
2025-04-17 19:23:24,446 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8390, Slow SMA = 520.8909
2025-04-17 19:23:24,446 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.037520, Curr diff: -0.051853
2025-04-17 19:23:24,446 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:22:00
2025-04-17 19:23:24,446 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,446 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:22:00, Close: 520.855
2025-04-17 19:23:24,446 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8420, Slow SMA = 520.8872
2025-04-17 19:23:24,446 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.051853, Curr diff: -0.045193
2025-04-17 19:23:24,446 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,446 - src.engine.execution_engine - INFO - Processing 8 pending orders for bar: SPY, close=520.855
2025-04-17 19:23:24,446 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99903.45, Equity: 99903.45
2025-04-17 19:23:24,446 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,446 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.855
2025-04-17 19:23:24,446 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,446 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,446 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,446 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.855
2025-04-17 19:23:24,446 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,446 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,446 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,446 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.855
2025-04-17 19:23:24,446 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,446 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,446 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,446 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.855
2025-04-17 19:23:24,446 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,446 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,446 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,446 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.855
2025-04-17 19:23:24,446 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,446 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,446 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,446 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.855
2025-04-17 19:23:24,446 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,446 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,446 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.76, MARKET, ID: 59e9d9dc-221b-4d44-bddd-8402c9a651a5)
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,446 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.855
2025-04-17 19:23:24,446 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,446 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,446 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,446 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.83, MARKET, ID: ffbfa5a4-ac91-455a-8af0-37908bc76725)
2025-04-17 19:23:24,447 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,447 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,447 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.855
2025-04-17 19:23:24,447 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,447 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,447 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,447 - src.engine.execution_engine - INFO - Executed 0 of 8 orders
2025-04-17 19:23:24,447 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99903.45, Equity: 99903.45
2025-04-17 19:23:24,447 - src.engine.execution_engine - INFO - Remaining pending orders: 8
2025-04-17 19:23:24,447 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:23:00
2025-04-17 19:23:24,447 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:23:00, Close: 520.91
2025-04-17 19:23:24,447 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8560, Slow SMA = 520.8872
2025-04-17 19:23:24,447 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.045193, Curr diff: -0.031200
2025-04-17 19:23:24,447 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:23:00
2025-04-17 19:23:24,447 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,447 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:23:00, Close: 520.91
2025-04-17 19:23:24,447 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8720, Slow SMA = 520.8876
2025-04-17 19:23:24,447 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.031200, Curr diff: -0.015600
2025-04-17 19:23:24,447 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,447 - src.engine.execution_engine - INFO - Processing 8 pending orders for bar: SPY, close=520.91
2025-04-17 19:23:24,447 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99903.45, Equity: 99903.45
2025-04-17 19:23:24,447 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,447 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,447 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,447 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.91
2025-04-17 19:23:24,447 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,447 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,447 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,447 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,447 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,447 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,447 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.91
2025-04-17 19:23:24,447 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,447 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,447 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,447 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,447 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,447 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,447 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.91
2025-04-17 19:23:24,447 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,447 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,447 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,447 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,447 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,447 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,447 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.91
2025-04-17 19:23:24,447 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,447 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,447 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,447 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,447 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,447 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,447 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.91
2025-04-17 19:23:24,447 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,447 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,447 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,447 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,447 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,447 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,447 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.91
2025-04-17 19:23:24,447 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,447 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,447 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,447 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.76, MARKET, ID: 59e9d9dc-221b-4d44-bddd-8402c9a651a5)
2025-04-17 19:23:24,447 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,447 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,447 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.91
2025-04-17 19:23:24,447 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,447 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,447 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,447 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.83, MARKET, ID: ffbfa5a4-ac91-455a-8af0-37908bc76725)
2025-04-17 19:23:24,447 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,447 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,447 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.91
2025-04-17 19:23:24,447 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,447 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,447 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,447 - src.engine.execution_engine - INFO - Executed 0 of 8 orders
2025-04-17 19:23:24,447 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99903.45, Equity: 99903.45
2025-04-17 19:23:24,447 - src.engine.execution_engine - INFO - Remaining pending orders: 8
2025-04-17 19:23:24,447 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:24:00
2025-04-17 19:23:24,447 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:24:00, Close: 520.92
2025-04-17 19:23:24,447 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8900, Slow SMA = 520.8887
2025-04-17 19:23:24,447 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.015600, Curr diff: 0.001333
2025-04-17 19:23:24,447 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bullish crossover for SPY @ 2024-03-26 18:24:00
2025-04-17 19:23:24,447 - src.position_management.position_manager - INFO - Position manager received BUY signal for SPY at price 520.92
2025-04-17 19:23:24,447 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: 1
2025-04-17 19:23:24,447 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,447 - src.position_management.position_manager - INFO - Created LONG position entry action for SPY size 10
2025-04-17 19:23:24,447 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,447 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,447 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,447 - src.engine.execution_engine - INFO - Created order from position action: SPY BUY 10 @ 520.92
2025-04-17 19:23:24,447 - src.engine.execution_engine - INFO - Order received: OrderEvent(BUY 10 SPY @ 520.92, MARKET, ID: 6192d13c-d592-4d1c-9a21-f6695e03fb19)
2025-04-17 19:23:24,447 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(BUY 10 SPY @ 520.92, MARKET, ID: 6192d13c-d592-4d1c-9a21-f6695e03fb19)
2025-04-17 19:23:24,447 - src.engine.execution_engine - INFO - Executing BUY order: 10 shares at 520.91
2025-04-17 19:23:24,447 - src.position_management.position - INFO - Position opened: 014725ea-f624-4fa0-b408-064e6263ee97 SPY LONG 10 @ 520.91
2025-04-17 19:23:24,447 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,447 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,447 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,447 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(BUY 10 SPY @ 520.91, cost=0.00)
2025-04-17 19:23:24,448 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(BUY 10 SPY @ 520.92, MARKET, ID: 6192d13c-d592-4d1c-9a21-f6695e03fb19)
2025-04-17 19:23:24,448 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,448 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,448 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,448 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,448 - __main__ - DEBUG - Signal details: BUY for SPY @ 520.92
2025-04-17 19:23:24,448 - src.rules.rule_base - INFO - Generated BUY signal for SPY @ 520.92
2025-04-17 19:23:24,448 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:24:00
2025-04-17 19:23:24,448 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,448 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:24:00, Close: 520.92
2025-04-17 19:23:24,448 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9030, Slow SMA = 520.8897
2025-04-17 19:23:24,448 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.001333, Curr diff: 0.013333
2025-04-17 19:23:24,448 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,448 - src.engine.execution_engine - INFO - Processing 8 pending orders for bar: SPY, close=520.92
2025-04-17 19:23:24,448 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 89485.25, Equity: 94694.45
2025-04-17 19:23:24,448 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.825, MARKET, ID: 70e26d8d-30be-4fd5-b92b-36a418db4a69)
2025-04-17 19:23:24,448 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,448 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,448 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.92
2025-04-17 19:23:24,448 - src.position_management.position - INFO - Position closed: 014725ea-f624-4fa0-b408-064e6263ee97 SPY LONG 10 @ 520.92 P&L: 0.10
2025-04-17 19:23:24,448 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,448 - src.position_management.portfolio - INFO - Position closed: 014725ea-f624-4fa0-b408-064e6263ee97 SPY PnL: 0.10
2025-04-17 19:23:24,448 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,448 - src.engine.execution_engine - INFO - Commission charged: 5.21, remaining cash: 99898.44
2025-04-17 19:23:24,448 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,448 - __main__ - DEBUG - Event trace: FILL received
2025-04-17 19:23:24,448 - src.engine.execution_engine - INFO - Emitted FILL event: FillEvent(SELL 10 SPY @ 520.92, cost=5.21)
2025-04-17 19:23:24,448 - src.engine.execution_engine - INFO - Order executed successfully, Fill price: 520.92
2025-04-17 19:23:24,448 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,448 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,448 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,448 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.92
2025-04-17 19:23:24,448 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,448 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,448 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,448 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,448 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,448 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,448 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.92
2025-04-17 19:23:24,448 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,448 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,448 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,448 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,448 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,448 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,448 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.92
2025-04-17 19:23:24,448 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,448 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,448 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,448 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,448 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,448 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,448 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.92
2025-04-17 19:23:24,448 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,448 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,448 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,448 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,448 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,448 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,448 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.92
2025-04-17 19:23:24,448 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,448 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,448 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,448 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.76, MARKET, ID: 59e9d9dc-221b-4d44-bddd-8402c9a651a5)
2025-04-17 19:23:24,448 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,448 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,448 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.92
2025-04-17 19:23:24,448 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,448 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,448 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,448 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.83, MARKET, ID: ffbfa5a4-ac91-455a-8af0-37908bc76725)
2025-04-17 19:23:24,448 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,448 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,448 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.92
2025-04-17 19:23:24,448 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,448 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,448 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,448 - src.engine.execution_engine - INFO - Executed 1 of 8 orders
2025-04-17 19:23:24,448 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99898.44, Equity: 99903.65
2025-04-17 19:23:24,448 - src.engine.execution_engine - INFO - Remaining pending orders: 7
2025-04-17 19:23:24,448 - src.engine.backtester - DEBUG - Executed 1 fills
2025-04-17 19:23:24,448 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:25:00
2025-04-17 19:23:24,448 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:25:00, Close: 520.87
2025-04-17 19:23:24,448 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9060, Slow SMA = 520.8873
2025-04-17 19:23:24,448 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.013333, Curr diff: 0.018667
2025-04-17 19:23:24,448 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:25:00
2025-04-17 19:23:24,448 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,448 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:25:00, Close: 520.87
2025-04-17 19:23:24,448 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8980, Slow SMA = 520.8827
2025-04-17 19:23:24,448 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.018667, Curr diff: 0.015333
2025-04-17 19:23:24,448 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,448 - src.engine.execution_engine - INFO - Processing 7 pending orders for bar: SPY, close=520.87
2025-04-17 19:23:24,448 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99898.44, Equity: 99898.44
2025-04-17 19:23:24,448 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,448 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,448 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,448 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.87
2025-04-17 19:23:24,448 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,448 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,448 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,448 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,448 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,448 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,448 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.87
2025-04-17 19:23:24,448 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,449 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,449 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,449 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,449 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,449 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,449 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.87
2025-04-17 19:23:24,449 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,449 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,449 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,449 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,449 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,449 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,449 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.87
2025-04-17 19:23:24,449 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,449 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,449 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,449 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,449 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,449 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,449 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.87
2025-04-17 19:23:24,449 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,449 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,449 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,449 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.76, MARKET, ID: 59e9d9dc-221b-4d44-bddd-8402c9a651a5)
2025-04-17 19:23:24,449 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,449 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,449 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.87
2025-04-17 19:23:24,449 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,449 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,449 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,449 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.83, MARKET, ID: ffbfa5a4-ac91-455a-8af0-37908bc76725)
2025-04-17 19:23:24,449 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,449 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,449 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.87
2025-04-17 19:23:24,449 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,449 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,449 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,449 - src.engine.execution_engine - INFO - Executed 0 of 7 orders
2025-04-17 19:23:24,449 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99898.44, Equity: 99898.44
2025-04-17 19:23:24,449 - src.engine.execution_engine - INFO - Remaining pending orders: 7
2025-04-17 19:23:24,449 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:26:00
2025-04-17 19:23:24,449 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:26:00, Close: 520.934
2025-04-17 19:23:24,449 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9028, Slow SMA = 520.8823
2025-04-17 19:23:24,449 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.015333, Curr diff: 0.020533
2025-04-17 19:23:24,449 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:26:00
2025-04-17 19:23:24,449 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,449 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:26:00, Close: 520.934
2025-04-17 19:23:24,449 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9056, Slow SMA = 520.8829
2025-04-17 19:23:24,449 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.020533, Curr diff: 0.022733
2025-04-17 19:23:24,449 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,449 - src.engine.execution_engine - INFO - Processing 7 pending orders for bar: SPY, close=520.934
2025-04-17 19:23:24,449 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99898.44, Equity: 99898.44
2025-04-17 19:23:24,449 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,449 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,449 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,449 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.934
2025-04-17 19:23:24,449 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,449 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,449 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,449 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,449 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,449 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,449 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.934
2025-04-17 19:23:24,449 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,449 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,449 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,449 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,449 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,449 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,449 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.934
2025-04-17 19:23:24,449 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,449 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,449 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,449 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,449 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,449 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,449 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.934
2025-04-17 19:23:24,449 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,449 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,449 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,449 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,449 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,449 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,449 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.934
2025-04-17 19:23:24,449 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,449 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,449 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,449 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.76, MARKET, ID: 59e9d9dc-221b-4d44-bddd-8402c9a651a5)
2025-04-17 19:23:24,449 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,449 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,449 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.934
2025-04-17 19:23:24,449 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,449 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,449 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,449 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.83, MARKET, ID: ffbfa5a4-ac91-455a-8af0-37908bc76725)
2025-04-17 19:23:24,449 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,449 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,449 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.934
2025-04-17 19:23:24,449 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,449 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,449 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,449 - src.engine.execution_engine - INFO - Executed 0 of 7 orders
2025-04-17 19:23:24,449 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99898.44, Equity: 99898.44
2025-04-17 19:23:24,449 - src.engine.execution_engine - INFO - Remaining pending orders: 7
2025-04-17 19:23:24,449 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:27:00
2025-04-17 19:23:24,449 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:27:00, Close: 520.9897
2025-04-17 19:23:24,450 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9195, Slow SMA = 520.8872
2025-04-17 19:23:24,450 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.022733, Curr diff: 0.032360
2025-04-17 19:23:24,450 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:27:00
2025-04-17 19:23:24,450 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,450 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:27:00, Close: 520.9897
2025-04-17 19:23:24,450 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9435, Slow SMA = 520.8972
2025-04-17 19:23:24,450 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.032360, Curr diff: 0.046320
2025-04-17 19:23:24,450 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,450 - src.engine.execution_engine - INFO - Processing 7 pending orders for bar: SPY, close=520.9897
2025-04-17 19:23:24,450 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99898.44, Equity: 99898.44
2025-04-17 19:23:24,450 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,450 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,450 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,450 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9897
2025-04-17 19:23:24,450 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,450 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,450 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,450 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,450 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,450 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,450 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9897
2025-04-17 19:23:24,450 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,450 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,450 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,450 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,450 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,450 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,450 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9897
2025-04-17 19:23:24,450 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,450 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,450 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,450 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,450 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,450 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,450 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9897
2025-04-17 19:23:24,450 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,450 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,450 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,450 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,450 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,450 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,450 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9897
2025-04-17 19:23:24,450 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,450 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,450 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,450 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.76, MARKET, ID: 59e9d9dc-221b-4d44-bddd-8402c9a651a5)
2025-04-17 19:23:24,450 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,450 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,450 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9897
2025-04-17 19:23:24,450 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,450 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,450 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,450 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.83, MARKET, ID: ffbfa5a4-ac91-455a-8af0-37908bc76725)
2025-04-17 19:23:24,450 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,450 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,450 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9897
2025-04-17 19:23:24,450 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,450 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,450 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,450 - src.engine.execution_engine - INFO - Executed 0 of 7 orders
2025-04-17 19:23:24,450 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99898.44, Equity: 99898.44
2025-04-17 19:23:24,450 - src.engine.execution_engine - INFO - Remaining pending orders: 7
2025-04-17 19:23:24,450 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:28:00
2025-04-17 19:23:24,450 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:28:00, Close: 520.97
2025-04-17 19:23:24,450 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9635, Slow SMA = 520.9058
2025-04-17 19:23:24,450 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.046320, Curr diff: 0.057653
2025-04-17 19:23:24,450 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:28:00
2025-04-17 19:23:24,450 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,450 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:28:00, Close: 520.97
2025-04-17 19:23:24,450 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9707, Slow SMA = 520.9152
2025-04-17 19:23:24,450 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.057653, Curr diff: 0.055520
2025-04-17 19:23:24,450 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,450 - src.engine.execution_engine - INFO - Processing 7 pending orders for bar: SPY, close=520.97
2025-04-17 19:23:24,450 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99898.44, Equity: 99898.44
2025-04-17 19:23:24,450 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,450 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,450 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,450 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.97
2025-04-17 19:23:24,450 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,450 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,450 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,450 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,450 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,450 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,450 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.97
2025-04-17 19:23:24,450 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,450 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,450 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,450 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,450 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,450 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,450 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.97
2025-04-17 19:23:24,450 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,450 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,450 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,450 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,450 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,450 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,450 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.97
2025-04-17 19:23:24,450 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,450 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,450 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,450 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,450 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,450 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,450 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.97
2025-04-17 19:23:24,450 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,450 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,450 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,450 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.76, MARKET, ID: 59e9d9dc-221b-4d44-bddd-8402c9a651a5)
2025-04-17 19:23:24,451 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,451 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,451 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.97
2025-04-17 19:23:24,451 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,451 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,451 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,451 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.83, MARKET, ID: ffbfa5a4-ac91-455a-8af0-37908bc76725)
2025-04-17 19:23:24,451 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,451 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,451 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.97
2025-04-17 19:23:24,451 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,451 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,451 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,451 - src.engine.execution_engine - INFO - Executed 0 of 7 orders
2025-04-17 19:23:24,451 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99898.44, Equity: 99898.44
2025-04-17 19:23:24,451 - src.engine.execution_engine - INFO - Remaining pending orders: 7
2025-04-17 19:23:24,451 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:29:00
2025-04-17 19:23:24,451 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:29:00, Close: 520.965
2025-04-17 19:23:24,451 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9769, Slow SMA = 520.9242
2025-04-17 19:23:24,451 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.055520, Curr diff: 0.052720
2025-04-17 19:23:24,451 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:29:00
2025-04-17 19:23:24,451 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,451 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:29:00, Close: 520.965
2025-04-17 19:23:24,451 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9719, Slow SMA = 520.9315
2025-04-17 19:23:24,451 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.052720, Curr diff: 0.040447
2025-04-17 19:23:24,451 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,451 - src.engine.execution_engine - INFO - Processing 7 pending orders for bar: SPY, close=520.965
2025-04-17 19:23:24,451 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99898.44, Equity: 99898.44
2025-04-17 19:23:24,451 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,451 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,451 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,451 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.965
2025-04-17 19:23:24,451 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,451 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,451 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,451 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,451 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,451 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,451 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.965
2025-04-17 19:23:24,451 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,451 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,451 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,451 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,451 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,451 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,451 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.965
2025-04-17 19:23:24,451 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,451 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,451 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,451 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,451 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,451 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,451 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.965
2025-04-17 19:23:24,451 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,451 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,451 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,451 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,451 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,451 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,451 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.965
2025-04-17 19:23:24,451 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,451 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,451 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,451 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.76, MARKET, ID: 59e9d9dc-221b-4d44-bddd-8402c9a651a5)
2025-04-17 19:23:24,451 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,451 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,451 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.965
2025-04-17 19:23:24,451 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,451 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,451 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,451 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.83, MARKET, ID: ffbfa5a4-ac91-455a-8af0-37908bc76725)
2025-04-17 19:23:24,451 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,451 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,451 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.965
2025-04-17 19:23:24,451 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,451 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,451 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,451 - src.engine.execution_engine - INFO - Executed 0 of 7 orders
2025-04-17 19:23:24,451 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99898.44, Equity: 99898.44
2025-04-17 19:23:24,451 - src.engine.execution_engine - INFO - Remaining pending orders: 7
2025-04-17 19:23:24,451 - src.engine.backtester - INFO - Processed 300 bars, 18 signals, 0 orders, 23 fills
2025-04-17 19:23:24,451 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:30:00
2025-04-17 19:23:24,451 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:30:00, Close: 520.935
2025-04-17 19:23:24,451 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9610, Slow SMA = 520.9368
2025-04-17 19:23:24,451 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.040447, Curr diff: 0.024173
2025-04-17 19:23:24,451 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:30:00
2025-04-17 19:23:24,451 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,451 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:30:00, Close: 520.935
2025-04-17 19:23:24,451 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9540, Slow SMA = 520.9385
2025-04-17 19:23:24,451 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.024173, Curr diff: 0.015507
2025-04-17 19:23:24,451 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,451 - src.engine.execution_engine - INFO - Processing 7 pending orders for bar: SPY, close=520.935
2025-04-17 19:23:24,451 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99898.44, Equity: 99898.44
2025-04-17 19:23:24,451 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,451 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,451 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,451 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.935
2025-04-17 19:23:24,451 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,451 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,451 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,451 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,451 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,451 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,451 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.935
2025-04-17 19:23:24,451 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,452 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,452 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,452 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,452 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,452 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,452 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.935
2025-04-17 19:23:24,452 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,452 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,452 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,452 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,452 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,452 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,452 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.935
2025-04-17 19:23:24,452 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,452 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,452 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,452 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,452 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,452 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,452 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.935
2025-04-17 19:23:24,452 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,452 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,452 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,452 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.76, MARKET, ID: 59e9d9dc-221b-4d44-bddd-8402c9a651a5)
2025-04-17 19:23:24,452 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,452 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,452 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.935
2025-04-17 19:23:24,452 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,452 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,452 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,452 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.83, MARKET, ID: ffbfa5a4-ac91-455a-8af0-37908bc76725)
2025-04-17 19:23:24,452 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,452 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,452 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.935
2025-04-17 19:23:24,452 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,452 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,452 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,452 - src.engine.execution_engine - INFO - Executed 0 of 7 orders
2025-04-17 19:23:24,452 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99898.44, Equity: 99898.44
2025-04-17 19:23:24,452 - src.engine.execution_engine - INFO - Remaining pending orders: 7
2025-04-17 19:23:24,452 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:31:00
2025-04-17 19:23:24,452 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:31:00, Close: 521.0
2025-04-17 19:23:24,452 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9600, Slow SMA = 520.9445
2025-04-17 19:23:24,452 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.015507, Curr diff: 0.015507
2025-04-17 19:23:24,452 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:31:00
2025-04-17 19:23:24,452 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,452 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:31:00, Close: 521.0
2025-04-17 19:23:24,452 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9670, Slow SMA = 520.9498
2025-04-17 19:23:24,452 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.015507, Curr diff: 0.017173
2025-04-17 19:23:24,452 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,452 - src.engine.execution_engine - INFO - Processing 7 pending orders for bar: SPY, close=521.0
2025-04-17 19:23:24,452 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99898.44, Equity: 99898.44
2025-04-17 19:23:24,452 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,452 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,452 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,452 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0
2025-04-17 19:23:24,452 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,452 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,452 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,452 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,452 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,452 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,452 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0
2025-04-17 19:23:24,452 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,452 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,452 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,452 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,452 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,452 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,452 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0
2025-04-17 19:23:24,452 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,452 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,452 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,452 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,452 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,452 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,452 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0
2025-04-17 19:23:24,452 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,452 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,452 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,452 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,452 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,452 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,452 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0
2025-04-17 19:23:24,452 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,452 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,452 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,452 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.76, MARKET, ID: 59e9d9dc-221b-4d44-bddd-8402c9a651a5)
2025-04-17 19:23:24,452 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,452 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,452 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0
2025-04-17 19:23:24,452 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,452 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,452 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,452 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.83, MARKET, ID: ffbfa5a4-ac91-455a-8af0-37908bc76725)
2025-04-17 19:23:24,452 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,452 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,452 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0
2025-04-17 19:23:24,452 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,452 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,452 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,452 - src.engine.execution_engine - INFO - Executed 0 of 7 orders
2025-04-17 19:23:24,452 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99898.44, Equity: 99898.44
2025-04-17 19:23:24,452 - src.engine.execution_engine - INFO - Remaining pending orders: 7
2025-04-17 19:23:24,452 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:32:00
2025-04-17 19:23:24,452 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:32:00, Close: 520.98
2025-04-17 19:23:24,452 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9700, Slow SMA = 520.9538
2025-04-17 19:23:24,453 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.017173, Curr diff: 0.016173
2025-04-17 19:23:24,453 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:32:00
2025-04-17 19:23:24,453 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,453 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:32:00, Close: 520.98
2025-04-17 19:23:24,453 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9790, Slow SMA = 520.9612
2025-04-17 19:23:24,453 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.016173, Curr diff: 0.017840
2025-04-17 19:23:24,453 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,453 - src.engine.execution_engine - INFO - Processing 7 pending orders for bar: SPY, close=520.98
2025-04-17 19:23:24,453 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99898.44, Equity: 99898.44
2025-04-17 19:23:24,453 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,453 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,453 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,453 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.98
2025-04-17 19:23:24,453 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,453 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,453 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,453 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,453 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,453 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,453 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.98
2025-04-17 19:23:24,453 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,453 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,453 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,453 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,453 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,453 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,453 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.98
2025-04-17 19:23:24,453 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,453 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,453 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,453 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,453 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,453 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,453 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.98
2025-04-17 19:23:24,453 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,453 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,453 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,453 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,453 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,453 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,453 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.98
2025-04-17 19:23:24,453 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,453 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,453 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,453 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.76, MARKET, ID: 59e9d9dc-221b-4d44-bddd-8402c9a651a5)
2025-04-17 19:23:24,453 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,453 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,453 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.98
2025-04-17 19:23:24,453 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,453 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,453 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,453 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.83, MARKET, ID: ffbfa5a4-ac91-455a-8af0-37908bc76725)
2025-04-17 19:23:24,453 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,453 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,453 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.98
2025-04-17 19:23:24,453 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,453 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,453 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,453 - src.engine.execution_engine - INFO - Executed 0 of 7 orders
2025-04-17 19:23:24,453 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99898.44, Equity: 99898.44
2025-04-17 19:23:24,453 - src.engine.execution_engine - INFO - Remaining pending orders: 7
2025-04-17 19:23:24,453 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:33:00
2025-04-17 19:23:24,453 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:33:00, Close: 520.995
2025-04-17 19:23:24,453 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9910, Slow SMA = 520.9695
2025-04-17 19:23:24,453 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.017840, Curr diff: 0.021507
2025-04-17 19:23:24,453 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:33:00
2025-04-17 19:23:24,453 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,453 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:33:00, Close: 520.995
2025-04-17 19:23:24,453 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9900, Slow SMA = 520.9736
2025-04-17 19:23:24,453 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.021507, Curr diff: 0.016440
2025-04-17 19:23:24,453 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,453 - src.engine.execution_engine - INFO - Processing 7 pending orders for bar: SPY, close=520.995
2025-04-17 19:23:24,453 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99898.44, Equity: 99898.44
2025-04-17 19:23:24,453 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,453 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,453 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,453 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.995
2025-04-17 19:23:24,453 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,453 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,453 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,453 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,453 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,453 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,453 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.995
2025-04-17 19:23:24,453 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,453 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,453 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,453 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,453 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,453 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,453 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.995
2025-04-17 19:23:24,453 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,453 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,453 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,453 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,453 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,453 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,453 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.995
2025-04-17 19:23:24,453 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,453 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,453 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,453 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,453 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,453 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,453 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.995
2025-04-17 19:23:24,453 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,453 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,453 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,453 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.76, MARKET, ID: 59e9d9dc-221b-4d44-bddd-8402c9a651a5)
2025-04-17 19:23:24,453 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,454 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,454 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.995
2025-04-17 19:23:24,454 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,454 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,454 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,454 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.83, MARKET, ID: ffbfa5a4-ac91-455a-8af0-37908bc76725)
2025-04-17 19:23:24,454 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,454 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,454 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.995
2025-04-17 19:23:24,454 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,454 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,454 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,454 - src.engine.execution_engine - INFO - Executed 0 of 7 orders
2025-04-17 19:23:24,454 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99898.44, Equity: 99898.44
2025-04-17 19:23:24,454 - src.engine.execution_engine - INFO - Remaining pending orders: 7
2025-04-17 19:23:24,454 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:34:00
2025-04-17 19:23:24,454 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:34:00, Close: 521.01
2025-04-17 19:23:24,454 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9920, Slow SMA = 520.9786
2025-04-17 19:23:24,454 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.016440, Curr diff: 0.013373
2025-04-17 19:23:24,454 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:34:00
2025-04-17 19:23:24,454 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,454 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:34:00, Close: 521.01
2025-04-17 19:23:24,454 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9980, Slow SMA = 520.9800
2025-04-17 19:23:24,454 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.013373, Curr diff: 0.018020
2025-04-17 19:23:24,454 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,454 - src.engine.execution_engine - INFO - Processing 7 pending orders for bar: SPY, close=521.01
2025-04-17 19:23:24,454 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99898.44, Equity: 99898.44
2025-04-17 19:23:24,454 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,454 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,454 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,454 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.01
2025-04-17 19:23:24,454 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,454 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,454 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,454 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,454 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,454 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,454 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.01
2025-04-17 19:23:24,454 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,454 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,454 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,454 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,454 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,454 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,454 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.01
2025-04-17 19:23:24,454 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,454 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,454 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,454 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,454 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,454 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,454 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.01
2025-04-17 19:23:24,454 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,454 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,454 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,454 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,454 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,454 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,454 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.01
2025-04-17 19:23:24,454 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,454 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,454 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,454 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.76, MARKET, ID: 59e9d9dc-221b-4d44-bddd-8402c9a651a5)
2025-04-17 19:23:24,454 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,454 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,454 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.01
2025-04-17 19:23:24,454 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,454 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,454 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,454 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.83, MARKET, ID: ffbfa5a4-ac91-455a-8af0-37908bc76725)
2025-04-17 19:23:24,454 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,454 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,454 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.01
2025-04-17 19:23:24,454 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,454 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,454 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,454 - src.engine.execution_engine - INFO - Executed 0 of 7 orders
2025-04-17 19:23:24,454 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99898.44, Equity: 99898.44
2025-04-17 19:23:24,454 - src.engine.execution_engine - INFO - Remaining pending orders: 7
2025-04-17 19:23:24,454 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:35:00
2025-04-17 19:23:24,454 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:35:00, Close: 520.99
2025-04-17 19:23:24,454 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 521.0000, Slow SMA = 520.9800
2025-04-17 19:23:24,454 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.018020, Curr diff: 0.020000
2025-04-17 19:23:24,454 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:35:00
2025-04-17 19:23:24,454 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,454 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:35:00, Close: 520.99
2025-04-17 19:23:24,454 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9990, Slow SMA = 520.9813
2025-04-17 19:23:24,454 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.020000, Curr diff: 0.017667
2025-04-17 19:23:24,454 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,454 - src.engine.execution_engine - INFO - Processing 7 pending orders for bar: SPY, close=520.99
2025-04-17 19:23:24,454 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99898.44, Equity: 99898.44
2025-04-17 19:23:24,454 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,454 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,454 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,454 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.99
2025-04-17 19:23:24,454 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,454 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,454 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,454 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,454 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,454 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,454 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.99
2025-04-17 19:23:24,454 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,454 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,455 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,455 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,455 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,455 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,455 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.99
2025-04-17 19:23:24,455 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,455 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,455 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,455 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,455 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,455 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,455 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.99
2025-04-17 19:23:24,455 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,455 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,455 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,455 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,455 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,455 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,455 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.99
2025-04-17 19:23:24,455 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,455 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,455 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,455 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.76, MARKET, ID: 59e9d9dc-221b-4d44-bddd-8402c9a651a5)
2025-04-17 19:23:24,455 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,455 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,455 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.99
2025-04-17 19:23:24,455 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,455 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,455 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,455 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.83, MARKET, ID: ffbfa5a4-ac91-455a-8af0-37908bc76725)
2025-04-17 19:23:24,455 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,455 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,455 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.99
2025-04-17 19:23:24,455 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,455 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,455 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,455 - src.engine.execution_engine - INFO - Executed 0 of 7 orders
2025-04-17 19:23:24,455 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99898.44, Equity: 99898.44
2025-04-17 19:23:24,455 - src.engine.execution_engine - INFO - Remaining pending orders: 7
2025-04-17 19:23:24,455 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:36:00
2025-04-17 19:23:24,455 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:36:00, Close: 520.9581
2025-04-17 19:23:24,455 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9916, Slow SMA = 520.9805
2025-04-17 19:23:24,455 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.017667, Curr diff: 0.011080
2025-04-17 19:23:24,455 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:36:00
2025-04-17 19:23:24,455 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,455 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:36:00, Close: 520.9581
2025-04-17 19:23:24,455 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9812, Slow SMA = 520.9801
2025-04-17 19:23:24,455 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.011080, Curr diff: 0.001160
2025-04-17 19:23:24,455 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,455 - src.engine.execution_engine - INFO - Processing 7 pending orders for bar: SPY, close=520.9581
2025-04-17 19:23:24,455 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99898.44, Equity: 99898.44
2025-04-17 19:23:24,455 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,455 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,455 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,455 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9581
2025-04-17 19:23:24,455 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,455 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,455 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,455 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,455 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,455 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,455 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9581
2025-04-17 19:23:24,455 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,455 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,455 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,455 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,455 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,455 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,455 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9581
2025-04-17 19:23:24,455 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,455 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,455 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,455 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,455 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,455 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,455 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9581
2025-04-17 19:23:24,455 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,455 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,455 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,455 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,455 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,455 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,455 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9581
2025-04-17 19:23:24,455 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,455 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,455 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,455 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.76, MARKET, ID: 59e9d9dc-221b-4d44-bddd-8402c9a651a5)
2025-04-17 19:23:24,455 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,455 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,455 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9581
2025-04-17 19:23:24,455 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,455 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,455 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,455 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.83, MARKET, ID: ffbfa5a4-ac91-455a-8af0-37908bc76725)
2025-04-17 19:23:24,455 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,455 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,455 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9581
2025-04-17 19:23:24,455 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,455 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,455 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,455 - src.engine.execution_engine - INFO - Executed 0 of 7 orders
2025-04-17 19:23:24,455 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99898.44, Equity: 99898.44
2025-04-17 19:23:24,455 - src.engine.execution_engine - INFO - Remaining pending orders: 7
2025-04-17 19:23:24,455 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:37:00
2025-04-17 19:23:24,455 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:37:00, Close: 521.0
2025-04-17 19:23:24,455 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9792, Slow SMA = 520.9824
2025-04-17 19:23:24,455 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: 0.001160, Curr diff: -0.003173
2025-04-17 19:23:24,456 - src.rules.crossover_rules - INFO - SMA Rule sma_crossover: Bearish crossover for SPY @ 2024-03-26 18:37:00
2025-04-17 19:23:24,456 - src.position_management.position_manager - INFO - Position manager received SELL signal for SPY at price 521.0
2025-04-17 19:23:24,456 - src.position_management.position_manager - INFO - Current net position for SPY: 0, direction: -1
2025-04-17 19:23:24,456 - src.position_management.position_manager - INFO - Using position sizer for position sizing
2025-04-17 19:23:24,456 - src.position_management.position_manager - INFO - Created SHORT position entry action for SPY size 10
2025-04-17 19:23:24,456 - src.position_management.position_manager - INFO - Created 1 position actions: ['entry']
2025-04-17 19:23:24,456 - src.events.event_bus - ERROR - Error in handler: 'EventPortfolio' object is not callable
2025-04-17 19:23:24,456 - __main__ - INFO - Handling position action: entry
2025-04-17 19:23:24,456 - src.engine.execution_engine - INFO - Created order from position action: SPY SELL 10 @ 521.0
2025-04-17 19:23:24,456 - src.engine.execution_engine - INFO - Order received: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: de30eecf-bab2-475f-bcd6-11fef6f3b208)
2025-04-17 19:23:24,456 - src.engine.execution_engine - INFO - Executing market order immediately: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: de30eecf-bab2-475f-bcd6-11fef6f3b208)
2025-04-17 19:23:24,456 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9581
2025-04-17 19:23:24,456 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,456 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,456 - src.engine.execution_engine - INFO - Added order to pending list: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: de30eecf-bab2-475f-bcd6-11fef6f3b208)
2025-04-17 19:23:24,456 - __main__ - DEBUG - Event trace: POSITION_ACTION received
2025-04-17 19:23:24,456 - __main__ - DEBUG - Position action details: entry for SPY
2025-04-17 19:23:24,456 - src.position_management.position_manager - INFO - Emitted position action: entry for SPY
2025-04-17 19:23:24,456 - __main__ - DEBUG - Event trace: SIGNAL received
2025-04-17 19:23:24,456 - __main__ - DEBUG - Signal details: SELL for SPY @ 521.0
2025-04-17 19:23:24,456 - src.rules.rule_base - INFO - Generated SELL signal for SPY @ 521.0
2025-04-17 19:23:24,456 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:37:00
2025-04-17 19:23:24,456 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,456 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:37:00, Close: 521.0
2025-04-17 19:23:24,456 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9812, Slow SMA = 520.9867
2025-04-17 19:23:24,456 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.003173, Curr diff: -0.005507
2025-04-17 19:23:24,456 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,456 - src.engine.execution_engine - INFO - Processing 8 pending orders for bar: SPY, close=521.0
2025-04-17 19:23:24,456 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99898.44, Equity: 99898.44
2025-04-17 19:23:24,456 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,456 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,456 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,456 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0
2025-04-17 19:23:24,456 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,456 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,456 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,456 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,456 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,456 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,456 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0
2025-04-17 19:23:24,456 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,456 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,456 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,456 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,456 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,456 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,456 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0
2025-04-17 19:23:24,456 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,456 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,456 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,456 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,456 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,456 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,456 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0
2025-04-17 19:23:24,456 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,456 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,456 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,456 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,456 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,456 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,456 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0
2025-04-17 19:23:24,456 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,456 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,456 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,456 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.76, MARKET, ID: 59e9d9dc-221b-4d44-bddd-8402c9a651a5)
2025-04-17 19:23:24,456 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,456 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,456 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0
2025-04-17 19:23:24,456 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,456 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,456 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,456 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.83, MARKET, ID: ffbfa5a4-ac91-455a-8af0-37908bc76725)
2025-04-17 19:23:24,456 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,456 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,456 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0
2025-04-17 19:23:24,456 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,456 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,456 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,456 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: de30eecf-bab2-475f-bcd6-11fef6f3b208)
2025-04-17 19:23:24,456 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,456 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,456 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 521.0
2025-04-17 19:23:24,456 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,456 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,456 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,456 - src.engine.execution_engine - INFO - Executed 0 of 8 orders
2025-04-17 19:23:24,456 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99898.44, Equity: 99898.44
2025-04-17 19:23:24,456 - src.engine.execution_engine - INFO - Remaining pending orders: 8
2025-04-17 19:23:24,456 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:38:00
2025-04-17 19:23:24,456 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:38:00, Close: 520.9201
2025-04-17 19:23:24,456 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9673, Slow SMA = 520.9858
2025-04-17 19:23:24,456 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.005507, Curr diff: -0.018493
2025-04-17 19:23:24,456 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:38:00
2025-04-17 19:23:24,456 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,456 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:38:00, Close: 520.9201
2025-04-17 19:23:24,456 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9597, Slow SMA = 520.9804
2025-04-17 19:23:24,456 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.018493, Curr diff: -0.020767
2025-04-17 19:23:24,456 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,456 - src.engine.execution_engine - INFO - Processing 8 pending orders for bar: SPY, close=520.9201
2025-04-17 19:23:24,456 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99898.44, Equity: 99898.44
2025-04-17 19:23:24,456 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,456 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,456 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,456 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9201
2025-04-17 19:23:24,456 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,456 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,456 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,457 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,457 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9201
2025-04-17 19:23:24,457 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,457 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,457 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,457 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9201
2025-04-17 19:23:24,457 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,457 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,457 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,457 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9201
2025-04-17 19:23:24,457 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,457 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,457 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,457 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9201
2025-04-17 19:23:24,457 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,457 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,457 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.76, MARKET, ID: 59e9d9dc-221b-4d44-bddd-8402c9a651a5)
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,457 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9201
2025-04-17 19:23:24,457 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,457 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,457 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.83, MARKET, ID: ffbfa5a4-ac91-455a-8af0-37908bc76725)
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,457 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9201
2025-04-17 19:23:24,457 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,457 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,457 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: de30eecf-bab2-475f-bcd6-11fef6f3b208)
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,457 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.9201
2025-04-17 19:23:24,457 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,457 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,457 - src.engine.execution_engine - INFO - Executed 0 of 8 orders
2025-04-17 19:23:24,457 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99898.44, Equity: 99898.44
2025-04-17 19:23:24,457 - src.engine.execution_engine - INFO - Remaining pending orders: 8
2025-04-17 19:23:24,457 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:39:00
2025-04-17 19:23:24,457 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:39:00, Close: 520.7999
2025-04-17 19:23:24,457 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.9280, Slow SMA = 520.9671
2025-04-17 19:23:24,457 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.020767, Curr diff: -0.039067
2025-04-17 19:23:24,457 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:39:00
2025-04-17 19:23:24,457 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,457 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:39:00, Close: 520.7999
2025-04-17 19:23:24,457 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8880, Slow SMA = 520.9551
2025-04-17 19:23:24,457 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.039067, Curr diff: -0.067080
2025-04-17 19:23:24,457 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,457 - src.engine.execution_engine - INFO - Processing 8 pending orders for bar: SPY, close=520.7999
2025-04-17 19:23:24,457 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99898.44, Equity: 99898.44
2025-04-17 19:23:24,457 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,457 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.7999
2025-04-17 19:23:24,457 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,457 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,457 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,457 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.7999
2025-04-17 19:23:24,457 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,457 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,457 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,457 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.7999
2025-04-17 19:23:24,457 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,457 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,457 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,457 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.7999
2025-04-17 19:23:24,457 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,457 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,457 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,457 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.7999
2025-04-17 19:23:24,457 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,457 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,457 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.76, MARKET, ID: 59e9d9dc-221b-4d44-bddd-8402c9a651a5)
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,457 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.7999
2025-04-17 19:23:24,457 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,457 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,457 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.83, MARKET, ID: ffbfa5a4-ac91-455a-8af0-37908bc76725)
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,457 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.7999
2025-04-17 19:23:24,457 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,457 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,457 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,458 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: de30eecf-bab2-475f-bcd6-11fef6f3b208)
2025-04-17 19:23:24,458 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,458 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,458 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.7999
2025-04-17 19:23:24,458 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,458 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,458 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,458 - src.engine.execution_engine - INFO - Executed 0 of 8 orders
2025-04-17 19:23:24,458 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99898.44, Equity: 99898.44
2025-04-17 19:23:24,458 - src.engine.execution_engine - INFO - Remaining pending orders: 8
2025-04-17 19:23:24,458 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:40:00
2025-04-17 19:23:24,458 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:40:00, Close: 520.8
2025-04-17 19:23:24,458 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8480, Slow SMA = 520.9431
2025-04-17 19:23:24,458 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.067080, Curr diff: -0.095080
2025-04-17 19:23:24,458 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:40:00
2025-04-17 19:23:24,458 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,458 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:40:00, Close: 520.8
2025-04-17 19:23:24,458 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.8240, Slow SMA = 520.9301
2025-04-17 19:23:24,458 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.095080, Curr diff: -0.106100
2025-04-17 19:23:24,458 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,458 - src.engine.execution_engine - INFO - Processing 8 pending orders for bar: SPY, close=520.8
2025-04-17 19:23:24,458 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99898.44, Equity: 99898.44
2025-04-17 19:23:24,458 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,458 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,458 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,458 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.8
2025-04-17 19:23:24,458 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,458 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,458 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,458 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,458 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,458 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,458 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.8
2025-04-17 19:23:24,458 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,458 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,458 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,458 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,458 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,458 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,458 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.8
2025-04-17 19:23:24,458 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,458 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,458 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,458 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,458 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,458 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,458 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.8
2025-04-17 19:23:24,458 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,458 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,458 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,458 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,458 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,458 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,458 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.8
2025-04-17 19:23:24,458 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,458 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,458 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,458 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.76, MARKET, ID: 59e9d9dc-221b-4d44-bddd-8402c9a651a5)
2025-04-17 19:23:24,458 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,458 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,458 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.8
2025-04-17 19:23:24,458 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,458 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,458 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,458 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.83, MARKET, ID: ffbfa5a4-ac91-455a-8af0-37908bc76725)
2025-04-17 19:23:24,458 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,458 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,458 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.8
2025-04-17 19:23:24,458 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,458 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,458 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,458 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: de30eecf-bab2-475f-bcd6-11fef6f3b208)
2025-04-17 19:23:24,458 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,458 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,458 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.8
2025-04-17 19:23:24,458 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,458 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,458 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,458 - src.engine.execution_engine - INFO - Executed 0 of 8 orders
2025-04-17 19:23:24,458 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99898.44, Equity: 99898.44
2025-04-17 19:23:24,458 - src.engine.execution_engine - INFO - Remaining pending orders: 8
2025-04-17 19:23:24,458 - src.engine.backtester - DEBUG - EMITTING BAR: SPY @ 2024-03-26 18:41:00
2025-04-17 19:23:24,458 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:41:00, Close: 520.75
2025-04-17 19:23:24,458 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.7900, Slow SMA = 520.9137
2025-04-17 19:23:24,458 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.106100, Curr diff: -0.123787
2025-04-17 19:23:24,458 - src.engine.backtester - DEBUG - Processed bar: SPY at 2024-03-26 18:41:00
2025-04-17 19:23:24,458 - src.engine.backtester - DEBUG - Event flow: BAR event received
2025-04-17 19:23:24,458 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Processing bar for SPY @ 2024-03-26 18:41:00, Close: 520.75
2025-04-17 19:23:24,458 - src.rules.crossover_rules - DEBUG - SMA Rule sma_crossover: Fast SMA = 520.7800, Slow SMA = 520.8964
2025-04-17 19:23:24,458 - src.rules.crossover_rules - DEBUG - Rule sma_crossover: Crossover check - Prev diff: -0.123787, Curr diff: -0.116433
2025-04-17 19:23:24,458 - __main__ - DEBUG - Event trace: PORTFOLIO_UPDATE received
2025-04-17 19:23:24,458 - src.engine.execution_engine - INFO - Processing 8 pending orders for bar: SPY, close=520.75
2025-04-17 19:23:24,458 - src.engine.execution_engine - INFO - Portfolio before execution - Cash: 99898.44, Equity: 99898.44
2025-04-17 19:23:24,458 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.85, MARKET, ID: 6aa44ba6-474e-432f-8738-51275a2d700e)
2025-04-17 19:23:24,458 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,458 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,458 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.75
2025-04-17 19:23:24,458 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,458 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,458 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,458 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: 93c3598f-6f77-44d9-a71e-388605506ec5)
2025-04-17 19:23:24,458 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,458 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,458 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.75
2025-04-17 19:23:24,459 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,459 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,459 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,459 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.57, MARKET, ID: a1cf182f-bb2f-4c89-892d-b939e4d44352)
2025-04-17 19:23:24,459 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,459 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,459 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.75
2025-04-17 19:23:24,459 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,459 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,459 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,459 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 21d7b022-bdc6-4129-a783-4e8db484e821)
2025-04-17 19:23:24,459 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,459 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,459 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.75
2025-04-17 19:23:24,459 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,459 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,459 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,459 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.655, MARKET, ID: 6dd56564-ad25-4ab9-9b20-62343b7b86fe)
2025-04-17 19:23:24,459 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,459 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,459 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.75
2025-04-17 19:23:24,459 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,459 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,459 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,459 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.76, MARKET, ID: 59e9d9dc-221b-4d44-bddd-8402c9a651a5)
2025-04-17 19:23:24,459 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,459 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,459 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.75
2025-04-17 19:23:24,459 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,459 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,459 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,459 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 520.83, MARKET, ID: ffbfa5a4-ac91-455a-8af0-37908bc76725)
2025-04-17 19:23:24,459 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,459 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,459 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.75
2025-04-17 19:23:24,459 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,459 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,459 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,459 - src.engine.execution_engine - INFO - Attempting to execute order: OrderEvent(SELL 10 SPY @ 521.0, MARKET, ID: de30eecf-bab2-475f-bcd6-11fef6f3b208)
2025-04-17 19:23:24,459 - src.engine.execution_engine - ERROR - Error calculating execution price: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,459 - src.engine.execution_engine - ERROR - Error calculating fees: 'OrderEvent' object has no attribute 'quantity'
2025-04-17 19:23:24,459 - src.engine.execution_engine - INFO - Executing SELL order: 10 shares at 520.75
2025-04-17 19:23:24,459 - src.position_management.portfolio - WARNING - No positions found for SPY, cannot sell
2025-04-17 19:23:24,459 - src.engine.execution_engine - ERROR - Failed to execute order: Quantity: -10
2025-04-17 19:23:24,459 - src.engine.execution_engine - WARNING - Order execution returned no fill
2025-04-17 19:23:24,459 - src.engine.execution_engine - INFO - Executed 0 of 8 orders
2025-04-17 19:23:24,459 - src.engine.execution_engine - INFO - Portfolio after execution - Cash: 99898.44, Equity: 99898.44
2025-04-17 19:23:24,459 - src.engine.execution_engine - INFO - Remaining pending orders: 8
2025-04-17 19:23:24,459 - src.engine.backtester - INFO - Backtest completed. Collecting results...
2025-04-17 19:23:24,459 - src.engine.backtester - INFO - Final counts: 312 bars, 18 signals, 0 orders, 23 fills, 0 position actions
2025-04-17 19:23:24,459 - src.engine.backtester - INFO - Backtest results: 23 trades, 0.00% return, Sharpe: 0.16
2025-04-17 19:23:24,459 - __main__ - INFO - Backtest completed
2025-04-17 19:23:24,459 - __main__ - INFO - Initial capital: $100000.00
2025-04-17 19:23:24,459 - __main__ - INFO - Final equity: $99898.44
2025-04-17 19:23:24,459 - __main__ - INFO - Final cash: $99898.44
2025-04-17 19:23:24,459 - __main__ - INFO - Return: -0.10%
2025-04-17 19:23:24,459 - __main__ - INFO - Total trades: 23
2025-04-17 19:23:24,459 - __main__ - INFO - Win rate: 0.00%
2025-04-17 19:23:24,459 - __main__ - INFO - Average profit: $0.00
2025-04-17 19:23:24,459 - __main__ - INFO - Trade history:
2025-04-17 19:23:24,459 - __main__ - INFO -   1. LONG SPY Entry: 0 Exit: 0 PnL: 0.00
2025-04-17 19:23:24,459 - __main__ - INFO -   2. LONG SPY Entry: 0 Exit: 0 PnL: 0.00
2025-04-17 19:23:24,459 - __main__ - INFO -   3. SHORT SPY Entry: 0 Exit: 0 PnL: 0.00
2025-04-17 19:23:24,459 - __main__ - INFO -   4. SHORT SPY Entry: 0 Exit: 0 PnL: 0.00
2025-04-17 19:23:24,459 - __main__ - INFO -   5. SHORT SPY Entry: 0 Exit: 0 PnL: 0.00
2025-04-17 19:23:24,459 - __main__ - INFO -   6. SHORT SPY Entry: 0 Exit: 0 PnL: 0.00
2025-04-17 19:23:24,459 - __main__ - INFO -   7. SHORT SPY Entry: 0 Exit: 0 PnL: 0.00
2025-04-17 19:23:24,459 - __main__ - INFO -   8. SHORT SPY Entry: 0 Exit: 0 PnL: 0.00
2025-04-17 19:23:24,459 - __main__ - INFO -   9. SHORT SPY Entry: 0 Exit: 0 PnL: 0.00
2025-04-17 19:23:24,459 - __main__ - INFO -   10. SHORT SPY Entry: 0 Exit: 0 PnL: 0.00
2025-04-17 19:23:24,459 - __main__ - INFO - Open positions at end: 0
2025-04-17 19:23:24,459 - __main__ - INFO - Event statistics:
2025-04-17 19:23:24,459 - __main__ - INFO -   PORTFOLIO_UPDATE: 776 events
2025-04-17 19:23:24,459 - __main__ - INFO -   SIGNAL: 96 events
2025-04-17 19:23:24,459 - __main__ - INFO -   POSITION_ACTION: 124 events
2025-04-17 19:23:24,459 - __main__ - INFO -   FILL: 100 events
2025-04-17 19:23:24,459 - __main__ - INFO - Backtest Summary:
2025-04-17 19:23:24,459 - __main__ - INFO - Initial Equity: $100000.00
2025-04-17 19:23:24,459 - __main__ - INFO - Final Equity: $99898.44
2025-04-17 19:23:24,459 - __main__ - INFO - Return: -0.10%
2025-04-17 19:23:24,459 - __main__ - INFO - Trades Executed: 23
2025-04-17 19:23:24,459 - __main__ - INFO - Event Statistics:
2025-04-17 19:23:24,459 - __main__ - INFO -   PORTFOLIO_UPDATE: 776
2025-04-17 19:23:24,459 - __main__ - INFO -   SIGNAL: 96
2025-04-17 19:23:24,459 - __main__ - INFO -   POSITION_ACTION: 124
2025-04-17 19:23:24,459 - __main__ - INFO -   FILL: 100
